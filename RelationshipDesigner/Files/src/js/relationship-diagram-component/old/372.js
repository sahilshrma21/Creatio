"use strict";(self.webpackChunkapp_studio_enterprise_relationship_diagram=self.webpackChunkapp_studio_enterprise_relationship_diagram||[]).push([[372],{45372:(A,x,r)=>{r.r(x),r.d(x,{CodemirrorComponent:()=>E,CodemirrorModule:()=>L,LineSeparator:()=>p});var i=r(36599),F=r(20092),C=r(80530),l=r(98097),a=r(90730),n=(()=>{return(e=n||(n={})).Csharp="text/x-csharp",e.Javascript="text/javascript",e.Json="application/ld+json",e.Css="text/css",e.Less="text/x-less",e.Sql="text/x-sql",e.SqlServer="text/x-mssql",e.PgSql="text/x-pgsql",e.Xml="application/xml",e.Http="message/http",e.Markdown="text/x-markdown",n;var e})(),c=r(65366),d=r(19205),J=r(19204),y=r(17781),M=r(71610),v=r(96003),S=r(4546),h=r(2149),O=r(51320),u=r(41088),g=r(32800),V=r(95828);class s{static lintCode(o,t,f={}){const m=[];return t===n.Javascript?r.e(296).then(r.bind(r,43296)).then(({Linter:w})=>(0,y.d)(new w,f)(o)):([n.Json,n.Less,n.Css,n.Xml].includes(t)&&s.supportedLanguages[t].parser.parse(o.state.doc.toString()).iterate({enter:({type:Q,from:k,to:z,...B})=>{Q.isError&&m.push({from:k,to:z,severity:"warning",message:"Uncompleted condition"})}}),Promise.resolve(m))}}s.supportedLanguages={[n.Markdown]:{lang:S.JH,parser:S.eg.parser},[n.Javascript]:{lang:y.eJ,parser:y.Lz.parser},[n.Less]:{lang:v.d9,parser:v.LN.parser},[n.Css]:{lang:v.d9,parser:J.t$.parser},[n.Sql]:{lang:h.i6,parser:h.Gz.language.parser},[n.PgSql]:{lang:h.i6,parser:h.Gz.language.parser},[n.SqlServer]:{lang:h.i6,parser:h.Gz.language.parser},[n.Json]:{lang:M.AV,parser:M.bA.parser},[n.Csharp]:{lang:V.lh,parser:V.vY.parser},[n.Xml]:{lang:O.Ls,parser:O.Jl.parser},[n.Http]:{lang:O.Ls,parser:S.eg.parser}},s.onChangeExtension=e=>a.tk.updateListener.of(o=>{if(!o.docChanged)return;const t=o.state.doc.toString();e(t)}),s.defaultExtensions=()=>[(0,u.nF)(u.R_,{fallback:!0}),(0,C.Q2)(),(0,a.AE)(),(0,a.HQ)(),(0,a.ZO)(),(0,g.sW)(),(0,c.ys)(),(0,u.n$)(),(0,c.vQ)(),(0,u.mi)(),(0,a.Eu)(),(0,a.Zs)(),a.tk.lineWrapping,(0,d.m8)()],s.defaultKeyMaps=()=>[...C.Fv,...g.Lp,...d.f$,...d.wQ,...c.B1,d.oc,{key:"Alt-g",run:g.zo},{key:"Ctrl-Shift-f",run:g.K9},{key:"Ctrl-Shift-r",run:g.ko},{key:"Ctrl-Shift-z",run:d.KX},{key:"Ctrl-y",run:d.YE},{key:"Ctrl-Space",run:c.WA}];const P=["host"];var p=(()=>{return(e=p||(p={})).CR="\r",e.LF="\n",e.CRLF="\r\n",p;var e})();let E=(()=>{class e{constructor(){this._value="",this._language=n.Javascript,this._languageCompartment=new l.F6,this._editable=!0,this._editableCompartment=new l.F6,this._readOnly=!1,this._readonlyCompartment=new l.F6,this._lineSeparator=p.LF,this._lineSeparatorCompartment=new l.F6,this.keyBinding=[],this.languageOptions={},this.valueChanged=new i.EventEmitter,this.onChange=t=>{},this.onTouched=()=>{}}set value(t){"string"==typeof t&&this._editorView?.state.doc.toString()!==t&&(this._value=t,this._editorView?.dispatch({changes:{from:0,to:this._editorView.state.doc.length,insert:this._value}}))}get value(){return this._value}get lineNumbers(){return this._editorView.state.doc.lines}set editable(t){this._editable!==t&&(this._editable=t,this._editorView?.dispatch({effects:this._editableCompartment.reconfigure(a.tk.editable.of(t))}))}set readOnly(t){this._readOnly!==t&&(this._readOnly=t,this._editorView?.dispatch({effects:this._readonlyCompartment.reconfigure(l.yy.readOnly.of(t))}))}set language(t){if(t||(t=n.Markdown),this._language!==t){if(!s.supportedLanguages[t])throw new Error(`Unsupported language: ${t}`);this._language=t,this._editorView?.dispatch({effects:this._languageCompartment.reconfigure(s.supportedLanguages[t].lang())})}}set lineSeparator(t){this._lineSeparator!==t&&(this._lineSeparator=t,this._editorView?.dispatch({effects:this._lineSeparatorCompartment.reconfigure(l.yy.lineSeparator.of(this._lineSeparator))}))}_onEditorValueChanged(t){this.value=t,this.onChange(t),this.valueChanged.emit(t),this.onTouched()}_initEditorView(){return new a.tk({doc:this.value,extensions:[this._lineSeparatorCompartment.of(l.yy.lineSeparator.of(this._lineSeparator)),this._languageCompartment.of(s.supportedLanguages[this._language].lang()),this._editableCompartment.of(a.tk.editable.of(this._editable)),this._readonlyCompartment.of(l.yy.readOnly.of(this._readOnly)),(0,C.ir)(t=>s.lintCode(t,this._language,this.languageOptions)),s.onChangeExtension(this._onEditorValueChanged.bind(this)),...s.defaultExtensions(),a.$f.of([...s.defaultKeyMaps(),...this.keyBinding])],parent:this.hostContainer?.nativeElement})}ngAfterViewInit(){this._editorView=this._initEditorView()}ngOnDestroy(){this._editorView.destroy()}writeValue(t){"string"==typeof t&&(this.value=t.toString())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["ts-codemirror"]],viewQuery:function(t,f){if(1&t&&i.\u0275\u0275viewQuery(P,5),2&t){let m;i.\u0275\u0275queryRefresh(m=i.\u0275\u0275loadQuery())&&(f.hostContainer=m.first)}},inputs:{value:"value",editable:"editable",readOnly:"readOnly",language:"language",lineSeparator:"lineSeparator",keyBinding:"keyBinding",languageOptions:"languageOptions"},outputs:{valueChanged:"valueChanged"},features:[i.\u0275\u0275ProvidersFeature([{provide:F.JU,useExisting:(0,i.forwardRef)(()=>e),multi:!0}])],decls:3,vars:0,consts:[[1,"ts-codemirror"],[1,"ts-codemirror-container"],["host",""]],template:function(t,f){1&t&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275element(1,"div",1,2),i.\u0275\u0275elementEnd())},styles:[".ts-codemirror[_ngcontent-%COMP%]{position:relative;background-color:#fff;height:100%}.ts-codemirror[_ngcontent-%COMP%]   .ts-codemirror-container[_ngcontent-%COMP%]{height:100%}.ts-codemirror[_ngcontent-%COMP%]   .ts-codemirror-container[_ngcontent-%COMP%]     .cm-editor{height:100%}.ts-codemirror[_ngcontent-%COMP%]   .ts-codemirror-container[_ngcontent-%COMP%]     .cm-editor .cm-specialChar{display:none}"],changeDetection:0}),e})(),L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({}),e})()}}]);