(self.webpackChunkapp_studio_enterprise_campaign_gallery=self.webpackChunkapp_studio_enterprise_campaign_gallery||[]).push([[1317,8536],{81317:(T,p,m)=>{m.r(p),m.d(p,{CampaignTemplateGalleryComponent:()=>i,CampaignTemplateGalleryModule:()=>l,CampaignTemplateRepositoryMockService:()=>r,CampaignTemplateRepositoryService:()=>c,templates:()=>y});var I=m(34560),u=m(54514),g=m(71006),e=m(99293),a=m(94450);class i{constructor(t){this.data=t,this.Canceled=new a.EventEmitter,this.Selected=new a.EventEmitter}ngOnInit(){this.selectedItemsSubscription=this.data.getAll().subscribe(t=>{this.items=t})}ngOnDestroy(){this.selectedItemsSubscription.unsubscribe()}onCanceled(){this.Canceled.emit()}onSelected(t){this.Selected.emit(t)}}i.\u0275fac=function(t){return new(t||i)(a.\u0275\u0275directiveInject("ITemplateRepository"))},i.\u0275cmp=a.\u0275\u0275defineComponent({type:i,selectors:[["ts-campaign-template-gallery"]],inputs:{resources:"resources"},outputs:{Canceled:"Canceled",Selected:"Selected"},decls:1,vars:4,consts:[[3,"items","resources","previewItemsPerRow","previewVisible","Canceled","Selected"]],template:function(t,s){t&1&&(a.\u0275\u0275elementStart(0,"ts-list-selection-dialog",0),a.\u0275\u0275listener("Canceled",function(){return s.onCanceled()})("Selected",function(h){return s.onSelected(h)}),a.\u0275\u0275elementEnd()),t&2&&a.\u0275\u0275property("items",s.items)("resources",s.resources)("previewItemsPerRow",4)("previewVisible",!0)},dependencies:[e.ListSelectionDialogComponent],styles:[".list-cell-preview-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{padding:15px 0}"]});class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=a.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=a.\u0275\u0275defineInjector({imports:[I.FormsModule,u.BrowserModule,g.BrowserAnimationsModule,e.ListSelectionDialogModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&a.\u0275\u0275setNgModuleScope(l,{declarations:[i],imports:[I.FormsModule,u.BrowserModule,g.BrowserAnimationsModule,e.ListSelectionDialogModule],exports:[i]})}();var w=m(21322),C=m(27049);const n="https://i.pinimg.com/originals/e4/10/a1/e410a11ea785f730d3d46b80f2c79bcb.png",y=[new e.Item("Id1","Long name for campaign template to test",n),new e.Item("Id2","name2",null),new e.Item("Id3","name3",n),new e.Item("Id4","name4",n),new e.Item("Id5","name5",n),new e.Item("Id6","name6",n),new e.Item("Id7","name7",n),new e.Item("Id8","name8",n),new e.Item("Id9","name9",n),new e.Item("Id10","name10",n),new e.Item("Id11","name11",n),new e.Item("Id12","name12",n),new e.Item("Id13","name13",n),new e.Item("Id14","name14",n),new e.Item("Id15","name15",n),new e.Item("Id16","name16",n),new e.Item("Id17","name17",n),new e.Item("Id18","name18",n),new e.Item("Id19","name19",n),new e.Item("Id20","name20",n),new e.Item("Id21","name21",n),new e.Item("Id22","name22",n),new e.Item("Id23","name23",n),new e.Item("Id24","name24",n),new e.Item("Id25","name25",n)];class r{getAll(){return(0,w.of)(y).pipe((0,C.delay)(1e3))}}r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=a.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"});var f=m(75378),v=m(6523),S=m(49475);class c{constructor(t){this._queryExecutor=t}get entitySchemaName(){return"CampaignTemplate"}setColumnsToEsq(t){t.addSchemaColumn("Id"),t.addSchemaColumn("Caption"),t.addSchemaColumn("PreviewImage")}executeSelectQuery(t){return this._queryExecutor.executeSelectQuery(t).pipe((0,C.map)(s=>s.map(d=>new e.Item(d.Id,d.Caption,(0,S.getImageUrlById)(d.PreviewImage.value)))))}getAll(){const t=new f.EntitySchemaQuery(this.entitySchemaName);return this.setColumnsToEsq(t),this.executeSelectQuery(t)}}c.\u0275fac=function(t){return new(t||c)(a.\u0275\u0275inject(v.QueryExecutor))},c.\u0275prov=a.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})}}]);
