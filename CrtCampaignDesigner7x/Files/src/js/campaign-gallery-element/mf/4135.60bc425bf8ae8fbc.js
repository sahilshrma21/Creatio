(self.webpackChunkapp_studio_enterprise_campaign_gallery=self.webpackChunkapp_studio_enterprise_campaign_gallery||[]).push([[4135],{64135:(Wt,F,c)=>{c.r(F),c.d(F,{AbstractHandler:()=>bt,AppRouteReuseStrategy:()=>f,BroadcastChannelFactory:()=>I,BroadcastChannelService:()=>J,CONTAINS_EMAIL_PATTERN:()=>T,CONTAINS_EMAIL_REGEXP:()=>k,CURRENT_TAB_ID_PROVIDER:()=>Dt,CURRENT_TAB_ID_TOKEN:()=>x,CrtHandlerChainAdapter:()=>At,CrtLibTranslateModule:()=>d,CustomElementsBootstrapService:()=>v,CustomEventApplicationIdToken:()=>P,CustomEventService:()=>_,CustomEventServiceToken:()=>q,DOM_PURIFIER:()=>st,DOM_PURIFIER_DEFAULT_FORBID_CONTENTS:()=>tt,EMAIL_PATTERN:()=>B,EMAIL_REGEXP:()=>$,Factory:()=>b,FactoryProvider:()=>yt,I18N_TRANSLATES:()=>j,IdGenerator:()=>pt,Inject:()=>gt,LoggerService:()=>y,NAVIGATOR:()=>Ot,NameGenerator:()=>Y,ObservableUtils:()=>mt,SpeechRecognitionFactory:()=>X,StorybookLibBadges:()=>_t,StorybookScopeBadges:()=>It,TAB_ID_APP_INITIALIZER:()=>$t,VoiceToTextApi:()=>p,WINDOW_PROVIDER:()=>Ft,WINDOW_TOKEN:()=>S,WebComponentLocationStrategy:()=>m,WindowStateService:()=>E,concatMapWith:()=>St,containsEmail:()=>nt,emptyFn:()=>it,flattenObject:()=>Z,getRandomArrayElement:()=>ot,hexToRGBA:()=>Lt,isEmailAddress:()=>W,mergeMapWith:()=>Tt,mergeMapWithout:()=>jt,ngxTranslateExtract:()=>dt.marker,randomInt:()=>G,replaceSubstring:()=>vt,runInZone:()=>Mt,runOutsideZone:()=>xt,splitAndReplaceSubstringToMacros:()=>Q,switchMapWith:()=>Ct,switchMapWithout:()=>wt,tapOnce:()=>Rt,toArray:()=>rt,toObject:()=>at,windowFactory:()=>O});var N=c(31134),a=c(94450),u=c(21322),l=c(27049);const P=new a.InjectionToken("CustomEventApplicationIdToken"),q=new a.InjectionToken("CustomEventServiceToken");class _{constructor(t,n=null){this.document=t,this.appId=n,this.customEventName="TSCustomEventChannel",this.appId=n||Math.random().toString()}subscribe(t){return this.customEventObserver$=this.customEventObserver$||(0,u.fromEvent)(document,this.customEventName),this.customEventObserver$.pipe((0,l.filter)(n=>n.detail.eventName===t&&n.detail.sender!==this.appId),(0,l.map)(n=>n.detail.payload))}createOutboundChannel(t){const n=new u.Subject;return n.asObservable().subscribe(s=>{const r=new CustomEvent(this.customEventName,{detail:{eventName:t,sender:this.appId,payload:s}});this.document.dispatchEvent(r)}),n}getDataViaEvent(t,n={}){return new u.Observable(s=>{this.subscribe(t).pipe((0,l.first)()).subscribe(r=>{s.next(r),s.complete()}),this.createOutboundChannel(t).next(n)})}getDataStreamViaEvent(t,n={}){return new u.Observable(s=>{const r=this.subscribe(t).subscribe(i=>{s.next(i)},u.noop,()=>s.complete());return this.createOutboundChannel(t).next(n),()=>{r.unsubscribe()}})}}_.\u0275fac=function(t){return new(t||_)(a.\u0275\u0275inject(N.DOCUMENT),a.\u0275\u0275inject(P,8))},_.\u0275prov=a.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"});const tt=["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","title","video","xmp"];var et=c(89327),U=c.n(et);const T="[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9](?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9-]*[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9])?\\.)+[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9](?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9-]*[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9])?",B=`(?=^.{1,250}$)^${T}$`,$=()=>new RegExp(B,"g"),k=()=>new RegExp(T,"g");function W(e){return $().test(e)}function nt(e){return k().test(e)}const H={name:"uponSanitizeElement",func:(e,t)=>{const n=t.tagName;W(n)&&e.insertAdjacentText("afterbegin",`<${n}>`)}},st=new a.InjectionToken("Represents a DOM purifier",{factory:()=>(U().addHook(H.name,H.func),U()),providedIn:"platform"});function rt(e){return e?Array.isArray(e)?e:[e]:[]}function at(e){return e||{}}function it(){}function Z(e,t){const n={};for(const s in e)if(!!Object.prototype.hasOwnProperty.call(e,s))if(typeof e[s]=="object"&&e[s]!==null){const r=Z(e[s],t);for(const i in r)!Object.prototype.hasOwnProperty.call(r,i)||(n[s+t+i]=r[i])}else n[s]=e[s];return n}var V=c(75378);function G(e,t=0){return Math.floor(Math.random()*(e-t))+t}function ot(e){V.ValidationUtilities.checkArrayEmpty("array",e);const t=G(e.length);return e[t]}const z={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let R;const ct=new Uint8Array(16);function ut(){if(!R&&(R=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!R))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R(ct)}const h=[];for(let e=0;e<256;++e)h.push((e+256).toString(16).slice(1));function K(e,t=0){return h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]}function Zt(e,t=0){const n=K(e,t);if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}const Vt=null;function lt(e,t,n){if(z.randomUUID&&!t&&!e)return z.randomUUID();e=e||{};const s=e.random||(e.rng||ut)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=s[r];return t}return K(s)}const ht=lt;class pt{static generate(){return"_"+this.generateUUID()}static generateUUID(){return ht()}}var dt=c(95124);function gt(e){return(t,n,s)=>{for((t.$inject===void 0||t.$inject instanceof Array&&!t.hasOwnProperty("$inject"))&&(t.$inject=[]);t.$inject.length<=s;)t.$inject.push(null);t.$inject[s]=e||n}}class X{static create(t){return new t}}class p{constructor(){this.speechResult=new u.Subject,this.speechEnd=new u.Subject}static _getInternalApiClass(){return window.SpeechRecognition||window.webkitSpeechRecognition}static isSupported(){return p._getInternalApiClass()!==void 0}_subscribeEvents(){this._internalApi.addEventListener("result",this.onResult.bind(this)),this._internalApi.addEventListener("speechend",this.onSpeechEnd.bind(this))}_unsubscribeEvents(){this._internalApi.removeEventListener("result",this.onResult),this._internalApi.removeEventListener("speechend",this.onSpeechEnd)}init(t){const n=p._getInternalApiClass();this._internalApi=X.create(n),this._internalApi.continuous=!0,this._internalApi.lang=t.lang||"en-US",this._subscribeEvents()}onResult(t){const{resultIndex:n,results:s}=t,r=s[n][0];if(!r)throw new Error("No results to transcript");this.speechResult.next(r.transcript)}onSpeechEnd(){this.speechEnd.next()}destroy(){this._unsubscribeEvents(),this._internalApi=null}startRecognition(){this._internalApi.start()}stopRecognition(){this._internalApi.stop()}}p.\u0275fac=function(t){return new(t||p)},p.\u0275prov=a.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac});var ft=c(68108);class J{get messages$(){return this._messages$}constructor(t,n){this._ngZone=n;const s=new u.Subject;this._messages$=s.pipe(this._runInZone(this._ngZone)),this._broadcastChannel=new ft.BroadcastChannel(t),this._broadcastChannel.onmessage=r=>s.next(r)}_runInZone(t){return n=>new u.Observable(s=>{n.subscribe(r=>t.run(()=>s.next(r)))})}publish(t){return(0,u.from)(this._broadcastChannel.postMessage(t))}}class I{constructor(t){this._ngZone=t}createInstance(t){return new J(t,this._ngZone)}}I.\u0275fac=function(t){return new(t||I)(a.\u0275\u0275inject(a.NgZone))},I.\u0275prov=a.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"});class mt{static toColdObservable(t){return new u.Observable(n=>{t().subscribe(r=>{n.next(r),n.complete()})})}}class y{log(t,n,...s){console.log(t,...s)}warn(t,n,...s){console.warn(t,...s)}error(t,n,...s){console.error(t,...s)}exception(t,n,...s){(console.exception||console.error)(t,...s)}}y.\u0275fac=function(t){return new(t||y)},y.\u0275prov=a.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac});const _t={dataAccess:"data-access",feature:"feature",ui:"ui",util:"util",components:"components",deprecated:"deprecated"},It={studioFree:"studio-free",studioEnterprise:"studio-enterprise",sdk:"sdk"};class b{constructor(t,n,s=null){this._injector=t,this._registrationMap=n,this._defaultInstanceType=s}_getInstance(t,n){return n?"injectable"in n&&n.injectable!=null?this._injector.get(n.injectable):"useFactory"in n&&typeof n.useFactory=="function"?n.useFactory(t):"useValue"in n?n.useValue:null:null}_getDefaultInstance(t){return this._getInstance(t,this._defaultInstanceType)}_getInstanceByType(t){if(this._registrationMap.has(t)){const n=this._registrationMap.get(t);return this._getInstance(t,n)}}_getInstanceByPredicate(t){for(const[n,s]of this._registrationMap)if(typeof n=="function"&&n(t))return this._getInstance(t,s)}create(t=null){return t==null?this._getDefaultInstance(t):this._getInstanceByType(t)??this._getInstanceByPredicate(t)??this._getDefaultInstance(t)}}b.\u0275fac=function(t){a.\u0275\u0275invalidFactory()},b.\u0275prov=a.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"});var A=c(97600);class yt{static _createMappings(t){const n=new Map;return t=t??[],t.forEach(s=>{const r=s.predicate,i=(0,A.omit)(s,"predicate");n.set(r,i)}),n}static create(t){const{mappings:n,default:s,token:r}=t??{};return{provide:r,useFactory:i=>{const o=this._createMappings(n);return new b(i,o,s)},deps:[a.Injector]}}}class bt{setNext(t){return this.nextHandler=t,t}handle(t){if(this.nextHandler)return this.nextHandler.handle(t)}}const j=new a.InjectionToken("I18nTranslatesToken");var C=c(77207);class g{constructor(t,n){this._translateService=t,this._i18nTranslates=n,this._destroyed$=new u.Subject,this._init()}_init(){this._subscribe(),this._initDefaultLanguage()}_initDefaultLanguage(){const t=this._translateService.currentLang,n=this._translateService.defaultLang,s=t||n;s&&this._addTranslates(s)}_subscribe(){(0,u.merge)(this._translateService.onLangChange,this._translateService.onDefaultLangChange).pipe((0,l.takeUntil)(this._destroyed$)).subscribe(t=>this._addTranslates(t.lang))}_addTranslates(t){const n=(0,A.uniq)(this._i18nTranslates),s=this._translateService.defaultLang;n.forEach(r=>{const i=r[t],o=r[s];this._translateService.setTranslation(t,i,!0),this._translateService.setTranslation(s,o,!0)})}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}g.\u0275fac=function(t){return new(t||g)(a.\u0275\u0275inject(C.TranslateService),a.\u0275\u0275inject(j))},g.\u0275prov=a.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac});class d{constructor(t){this._crtLibTranslateService=t}static forRoot(t){return{ngModule:d,providers:[{multi:!0,provide:j,useValue:t.i18n},g]}}}d.\u0275fac=function(t){return new(t||d)(a.\u0275\u0275inject(g))},d.\u0275mod=a.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=a.\u0275\u0275defineInjector({imports:[C.TranslateModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&a.\u0275\u0275setNgModuleScope(d,{exports:[C.TranslateModule]})}();function w(e){return Array.isArray(e)?e:[e]}function Et(e,t){return t.forEach(({replaceMacros:n,replaceValue:s})=>{e=e.map(r=>r===n?s??"":r)}),e}function vt(e,t){if(!e)return"";if(!t)return e;let n=[e];return t=w(t),n=Q(n,t),n=Et(n,t),n.join("")}function Q(e,t){if(!e)return[];let n=w(e);if(!t)return n;const s=w(t),r=s.map(({replaceMacros:i})=>i);return s.forEach(({searchValue:i,replaceMacros:o})=>{if(i&&o){const D=new RegExp(`(${o})`,"g"),kt=n.map(L=>r.includes(L)?L:L.split(i).join(o).split(D));n=(0,A.flatten)(kt)}}),n}var Gt=c(90093);function At(e){return function(t){Reflect.defineMetadata("requestType",e.requestType,t)}}function Rt(e){return t=>{const n=t.pipe((0,l.share)()),s=n.pipe((0,l.tap)(e),(0,l.take)(1));return(0,u.concat)(s,n)}}function St(e){return t=>t.pipe((0,l.concatMap)((n,s)=>e(n,s).pipe((0,l.map)(r=>[n,r]))))}function Tt(e){return t=>t.pipe((0,l.mergeMap)((n,s)=>e(n,s).pipe((0,l.map)(r=>[n,r]))))}function jt(e){return t=>t.pipe((0,l.mergeMap)((n,s)=>e(n,s).pipe((0,l.map)(()=>n))))}function Ct(e){return t=>t.pipe((0,l.switchMap)((n,s)=>e(n,s).pipe((0,l.map)(r=>[n,r]))))}function wt(e){return t=>t.pipe((0,l.switchMap)((n,s)=>e(n,s).pipe((0,l.map)(()=>n))))}function Mt(e){return t=>new u.Observable(n=>{const s=o=>e.run(()=>n.next(o)),r=o=>e.run(()=>n.error(o)),i=()=>e.run(()=>n.complete());return t.subscribe({next:s,error:r,complete:i})})}function xt(e){return t=>new u.Observable(n=>{const s=o=>e.runOutsideAngular(()=>n.next(o)),r=o=>e.runOutsideAngular(()=>n.error(o)),i=()=>e.runOutsideAngular(()=>n.complete());return t.subscribe({next:s,error:r,complete:i})})}var M=c(11685);class Y{static initialize(){M.config({disableDefaultAlphabetLength:!0,disableDefaultIdLength:!0,idLength:7}),M.characters("0123456789abcdefghijklmnopqrstuvwxyz")}static generateUnique(t,n="",s="_"){const r=new RegExp(`^${n}`);return n+t.replace(r,"")+s+M.generate()}}Y.initialize();const Ot=new a.InjectionToken("An abstraction over window.navigator object",{factory:()=>window.navigator,providedIn:"root"}),x=new a.InjectionToken("CURRENT_TAB_ID_TOKEN"),Dt={provide:x,useValue:(0,V.generateGuid)()};function Lt(e,t){e=e.replace(/^#/,""),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let[n,s,r]=e.match(/.{2}/g);[n,s,r]=[parseInt(n,16),parseInt(s,16),parseInt(r,16)];const i=(n.length<2?"0":"")+n,o=(s.length<2?"0":"")+s,D=(r.length<2?"0":"")+r;return`rgba(${i},${o},${D},${t})`}const S=new a.InjectionToken("WindowToken",{providedIn:"root",factory:O});function O(){return window}const Ft={provide:S,useFactory:O};class E{constructor(t){this._window=t,this._hasFocus=!1,this._window.addEventListener("focus",()=>{this._hasFocus=!0}),this._window.addEventListener("blur",()=>{this._hasFocus=!1})}_getIsDocumentVisible(){return document.visibilityState!=="hidden"}get hasFocus(){return this._hasFocus}get isActive(){return this._getIsDocumentVisible()}focus(){this._window.focus()}}E.\u0275fac=function(t){return new(t||E)(a.\u0275\u0275inject(S))},E.\u0275prov=a.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"});var Nt=c(82275);class v{constructor(t){this._injector=t}defineComponent(t,n,s=null){const r=(0,Nt.createCustomElement)(n,{injector:s||this._injector});customElements.get(t)||customElements.define(t,r)}}v.\u0275fac=function(t){return new(t||v)(a.\u0275\u0275inject(a.Injector))},v.\u0275prov=a.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"});var Pt=c(57186);class f extends Pt.RouteReuseStrategy{constructor(){super(...arguments),this.storedRouteHandles=new Map}_buildPathByParams(t){let n="";return(0,A.forEach)(t.params,s=>{n+=`${s}_`}),n}getPath(t){let n="";return t.data&&t.data.reusePath?t.data.reusePath:(t.routeConfig!=null&&t.routeConfig.path!=null&&(n=t.routeConfig.path),n)}shouldDetach(t){return!!(t.data&&t.data.shouldReuse)}store(t,n){this.storedRouteHandles.set(this.getPath(t),n)}shouldAttach(t){return this.storedRouteHandles.has(this.getPath(t))}retrieve(t){return this.storedRouteHandles.get(this.getPath(t))}shouldReuseRoute(t,n){const s=t.routeConfig===n.routeConfig;if(!s){const r=t.data||{},i=n.data||{};r.shouldReuse&&(r.reusePath=this._buildPathByParams(t)),i.shouldReuse&&(i.reusePath=this._buildPathByParams(n)),r.shouldReuse&&i.shouldReuse&&(this.storedRouteHandles.delete(this.getPath(t)),r.shouldReuse=!(0,A.isEmpty)(n.params))}return s}}f.\u0275fac=function(){let e;return function(n){return(e||(e=a.\u0275\u0275getInheritedFactory(f)))(n||f)}}(),f.\u0275prov=a.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac});class Ut{constructor(t){this.newUrl=t,this.pop=!0,this.type="popstate"}}class m extends N.LocationStrategy{constructor(){super(...arguments),this._internalBaseHref="/",this._internalPath="/",this._urlChanges=[],this._subject=new a.EventEmitter,this._stateChanges=[]}simulatePopState(t){this._internalPath=t,this._subject.emit(new Ut(this.path()))}path(t=!1){return this._internalPath}prepareExternalUrl(t){return t.startsWith("/")&&this._internalBaseHref.endsWith("/")?this._internalBaseHref+t.substring(1):this._internalBaseHref+t}pushState(t,n,s,r){this._stateChanges.push(t);const i=s+(r.length>0?"?"+r:"");this._internalPath=i;const o=this.prepareExternalUrl(i);this._urlChanges.push(o)}replaceState(t,n,s,r){this._stateChanges[(this._stateChanges.length||1)-1]=t;const i=s+(r.length>0?"?"+r:"");this._internalPath=i;const o=this.prepareExternalUrl(i);this._urlChanges.push("replace: "+o)}onPopState(t){this._subject.subscribe({next:t})}getBaseHref(){return this._internalBaseHref}back(){if(this._urlChanges.length>0){this._urlChanges.pop(),this._stateChanges.pop();const t=this._urlChanges.length>0?this._urlChanges[this._urlChanges.length-1]:"";this.simulatePopState(t)}}forward(){throw new Error("not implemented")}getState(){return this._stateChanges[(this._stateChanges.length||1)-1]}}m.\u0275fac=function(){let e;return function(n){return(e||(e=a.\u0275\u0275getInheritedFactory(m)))(n||m)}}(),m.\u0275prov=a.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac});function Bt(e,t){return e.creatio.tabId=t,(0,u.of)(void 0)}const $t={provide:a.APP_INITIALIZER,multi:!0,useFactory:(e,t)=>()=>Bt(e,t),deps:[S,x]}}}]);
