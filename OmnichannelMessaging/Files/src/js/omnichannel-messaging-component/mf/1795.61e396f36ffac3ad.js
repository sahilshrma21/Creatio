(self.webpackChunkapp_studio_enterprise_omnichannel_messaging=self.webpackChunkapp_studio_enterprise_omnichannel_messaging||[]).push([[1795,3455],{41795:(c,u,r)=>{r.r(u),r.d(u,{AlmThemeService:()=>m,AlmThemizationModule:()=>i});var h=r(31134),t=r(94450);class i{}i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[h.CommonModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(i,{imports:[h.CommonModule]})}();var d=r(41307),s=r(27049);class m{constructor(e,n,a){this._featureService=e,this._document=n,this._almThemeName="",this._defaultThemeName="",this._renderer=a.createRenderer(null,null)}_findLastThemeInDocumentBody(){let e="";return this._document.body.classList.forEach(n=>{n.includes("-theme")&&(e=n)}),e}_changeTheme(e,n){if(e===n)return;const a=this._document.body;e&&this._renderer.removeClass(a,e),n&&this._renderer.addClass(a,n)}_getFeatureState(){return this._featureService.getFeatureState("UseOrangeThemeForALM")}getCurrentThemeName(){return this._currentTheme$=this._currentTheme$??this._getFeatureState().pipe((0,s.map)(e=>e?"bright-theme":""),(0,s.shareReplay)()),this._currentTheme$}applyAlmTheme(){return this.getCurrentThemeName().pipe((0,s.tap)(e=>{e===this._almThemeName||!e||(this._almThemeName=e,this._defaultThemeName=this._findLastThemeInDocumentBody(),this._changeTheme(this._defaultThemeName,e))}))}restoreDefaultTheme(){this._changeTheme(this._almThemeName,this._defaultThemeName),this._almThemeName=""}}m.\u0275fac=function(e){return new(e||m)(t.\u0275\u0275inject(d.FeatureService),t.\u0275\u0275inject(h.DOCUMENT),t.\u0275\u0275inject(t.RendererFactory2))},m.\u0275prov=t.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac})}}]);
