(self.webpackChunkapp_studio_enterprise_omnichannel_messaging=self.webpackChunkapp_studio_enterprise_omnichannel_messaging||[]).push([[1549],{20684:(j,B,c)=>{var z={"./close-icon.svg":4290,"./search-icon.svg":47738};function l(e){var T=u(e);return c(T)}function u(e){if(!c.o(z,e)){var T=new Error("Cannot find module '"+e+"'");throw T.code="MODULE_NOT_FOUND",T}return z[e]}l.keys=function(){return Object.keys(z)},l.resolve=u,j.exports=l,l.id=20684},51549:(j,B,c)=>{c.r(B),c.d(B,{ChatItemComponent:()=>y,ChatQueue:()=>it,ChatTemplate:()=>at,ChatTransferComponent:()=>_,ChatTransferService:()=>f,ConversationComponent:()=>M,OmnichannelMessagingModule:()=>D,OperatorStatus:()=>nt,OperatorStatusComponent:()=>S,OperatorStatusService:()=>w,TemplateLookupSelectorComponent:()=>Z,TransferQueueListComponent:()=>v});var z=c(31892),l=c(31134),u=c(2876),e=c(94450),T=c(34560),J=c(72856),W=c(14535),h=c(32820),G=c(11667),Y=c(24141),q=c(54514),V=c(71006),g=c(77207),H=c(99293),U=c(41307),F=c(6523),r=c(96923),d=c(49475),ee=c(97600),I=c(21322),p=c(27049);function te(i,t){if(i&1&&(e.\u0275\u0275elementStart(0,"label",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.chat.contact.account.displayValue)}}function ne(i,t){i&1&&(e.\u0275\u0275elementStart(0,"label",21),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),i&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ChatSettings.ChatWindow.LastChatMessageAuthorCaption")))}function ae(i,t){i&1&&(e.\u0275\u0275elementStart(0,"label",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),i&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ChatSettings.ChatWindow.DraftMessageCaption")))}function ie(i,t){if(i&1&&(e.\u0275\u0275elementStart(0,"p",23),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("is-draft-message",n.draftMessage),e.\u0275\u0275attribute("data-item-marker",n.chat.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.draftMessage," ")}}function oe(i,t){i&1&&e.\u0275\u0275element(0,"div",24)}function se(i,t){if(i&1&&(e.\u0275\u0275elementStart(0,"p",23),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("is-own-message",n.isOwnMessage()),e.\u0275\u0275attribute("data-item-marker",n.chat.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.chat.chatPreview," ")}}function re(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25)(1,"button",26),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.acceptChat())}),e.\u0275\u0275element(2,"span",27),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n.getAcceptButtonCaption()," ")}}const ce=function(i){return{"background-image":i}};class y{get draftMessage(){return this._draftMessage}set draftMessage(t){this._draftMessage=t}constructor(t,n,a,o,s){this._translateService=t,this._chatService=n,this._userInfo=a,this._contactColorService=o,this._dialogService=s,this.isChatAccepted=!1,this.chatAccepted=new e.EventEmitter}isOperatorFilled(){return Boolean(this.chat.operator?.value)}acceptChat(){window.sessionStorage.setItem(`lastChatAccepted_${this.chat.id}`,this.chat.id),this._chatService.acceptChat(this.chat.id).subscribe(t=>{this.isChatAccepted=t,t?this.chatAccepted.emit():this._dialogService.openInfoDialog(this._translateService.instant("ChatSettings.ChatWindow.AlreadyAssignedChat"))})}acceptButtonVisible(){return!this.isOperatorFilled()&&!this.isChatAccepted}getAcceptButtonCaption(){return this._translateService.instant("ChatSettings.ChatWindow.AcceptChatButton")}formatChatDate(t){const n={hour:"2-digit",minute:"2-digit"},a=t?new Date(t):new Date;return new Intl.DateTimeFormat(this._userInfo.cultureInfo.sysCultureName,n).format(a)}isOwnMessage(){return this.draftMessage?!1:this.chat.lastMessageDirection===r.MessageDirection.Outcoming}onCompleteChat(t){this._chatService.completeChat(this.chat.id).subscribe(),t.preventDefault(),t.stopPropagation()}getHint(t){return new d.HintDirectiveConfig({hintConfig:{displayValue:t,cssClasses:"chat-list-tooltip-hint"},componentType:r.SimpleHintComponent})}ngOnInit(){this.draftMessage=window.sessionStorage.getItem(this.chat.id),this.contactColor=this._contactColorService.getNextColor(this.chat.contact.id)}}y.\u0275fac=function(t){return new(t||y)(e.\u0275\u0275directiveInject(g.TranslateService),e.\u0275\u0275directiveInject(r.OmnichannelChatService),e.\u0275\u0275directiveInject(d.UserInfo),e.\u0275\u0275directiveInject(d.ContactColorService),e.\u0275\u0275directiveInject(H.DialogService))},y.\u0275cmp=e.\u0275\u0275defineComponent({type:y,selectors:[["ts-chat-item"]],inputs:{chat:"chat"},outputs:{chatAccepted:"chatAccepted"},decls:24,vars:22,consts:[[1,"chat-item-wrapper"],[1,"contact-photo-container"],[3,"contact","contactColor"],[1,"chat-info-container"],[1,"contact-name-container"],[1,"contact-name"],[1,"message-info"],[1,"message-time"],[1,"channel-icon",3,"ngStyle"],["class","account-name",4,"ngIf"],["class","last-message-direction",4,"ngIf"],["class","draft-message-caption",4,"ngIf"],[1,"message-preview"],["class","chat-preview-message",3,"is-draft-message",4,"ngIf","ngIfElse"],["class","new-chat-message-indicator",4,"ngIf"],["chatPreview",""],[1,"chat-list-menu"],[1,"close-chat-container",3,"libHintOverlay","click"],[1,"close-chat"],["class","buttons-container",4,"ngIf"],[1,"account-name"],[1,"last-message-direction"],[1,"draft-message-caption"],[1,"chat-preview-message"],[1,"new-chat-message-indicator"],[1,"buttons-container"],["data-item-marker","AcceptChatButton",1,"accept-chat-button",3,"click"],[1,"accept-chat-icon"]],template:function(t,n){if(t&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"ts-contact-photo",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3)(4,"div",4)(5,"a",5),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",6)(8,"label",7),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"div",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,te,2,1,"label",9),e.\u0275\u0275template(12,ne,3,3,"label",10),e.\u0275\u0275template(13,ae,3,3,"label",11),e.\u0275\u0275elementStart(14,"div",12),e.\u0275\u0275template(15,ie,2,4,"p",13),e.\u0275\u0275template(16,oe,1,0,"div",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,se,2,4,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",16)(20,"div",17),e.\u0275\u0275listener("click",function(o){return n.onCompleteChat(o)}),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275element(22,"span",18),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(23,re,4,1,"div",19),e.\u0275\u0275elementEnd()),t&2){const a=e.\u0275\u0275reference(18);e.\u0275\u0275classProp("is-not-assigned",!n.isOperatorFilled()),e.\u0275\u0275attribute("data-item-marker","chat-item-"+n.chat.id),e.\u0275\u0275advance(2),e.\u0275\u0275property("contact",n.chat.contact)("contactColor",n.contactColor),e.\u0275\u0275advance(3),e.\u0275\u0275styleProp("color",n.acceptButtonVisible()?"":n.contactColor),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.chat.contact.name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.formatChatDate(n.chat.lastMessageTime)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(20,ce,"url("+(n.chat.channel==null||n.chat.channel.provider==null?null:n.chat.channel.provider.icon)+")")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.chat.contact.account),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isOwnMessage()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.draftMessage),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.draftMessage)("ngIfElse",a),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.chat.unprocessedMsgCount),e.\u0275\u0275advance(4),e.\u0275\u0275property("libHintOverlay",n.getHint(e.\u0275\u0275pipeBind1(21,18,"ChatSettings.ChatWindow.Actions.Complete"))),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.acceptButtonVisible())}},dependencies:[l.NgIf,l.NgStyle,r.ContactPhotoComponent,d.HintOverlayDirective,g.TranslatePipe],styles:[`.chat-item-wrapper{padding:19px 0 0 8px;cursor:pointer}.chat-item-wrapper:hover{background-color:#e3e9f9;border-radius:8px}.chat-item-wrapper:hover .chat-list-menu{display:block}.chat-item-wrapper.is-not-assigned{background-color:#f5f9fe;cursor:auto}.chat-item-wrapper .chat-list-menu{position:absolute;display:none;box-shadow:0 3px 6px #00000029;border-radius:4px;margin-left:278px;background-color:transparent}.chat-item-wrapper .chat-list-menu .close-chat-container{height:41px;width:38px;padding-left:12px;padding-top:14px;cursor:pointer;background-color:#fff}.chat-item-wrapper .chat-list-menu .close-chat-container:hover{opacity:.92}.chat-item-wrapper .chat-list-menu .close-chat-container .close-chat{width:16px;min-width:16px;height:16px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNi43MDciIHZpZXdCb3g9IjAgMCAxNiAxNi43MDciPjxkZWZzPjxzdHlsZT4uYXtmaWxsOiMwMDZjZTA7c3Ryb2tlOiMwMDZjZTA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fS5ie2ZpbGw6I2ZmZjtmaWxsLXJ1bGU6ZXZlbm9kZDt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzg4LjE4NSAtMzczLjc2NCkiPjxwYXRoIGNsYXNzPSJhIiBkPSJNLTM4Ny42ODUsMzg0LjI2NGgzdjNsMy0zaDd2LTEwaC0xM1oiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTEyODguNzQxLDQ3My43MDlhLjU4NC41ODQsMCwwLDAtLjgyNywwbC0yLjcxOSwyLjctMS0xYS41ODUuNTg1LDAsMCwwLS44My44MjRsMS40MDcsMS40MTZhLjU4Ny41ODcsMCwwLDAsLjgyNiwwbDMuMTM0LTMuMTA4YS41ODMuNTgzLDAsMCwwLDAtLjgyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE2NjcuMzg3IC05Ni4zMTMpIi8+PC9nPjwvc3ZnPg==);display:block}.chat-item-wrapper .contact-photo-container{display:inline-block;vertical-align:top}.chat-item-wrapper .chat-info-container{display:inline-block;margin-left:17px;width:calc(100% - 50px);border-bottom:#e3e6ec 1px solid;padding-bottom:14px;cursor:pointer;padding-right:15px}.chat-item-wrapper .chat-info-container .contact-name-container{justify-content:space-between;display:flex}.chat-item-wrapper .chat-info-container .contact-name-container .contact-name{font-size:16px;color:#006ce0;text-decoration:none;display:block;word-break:break-word}.chat-item-wrapper .chat-info-container .contact-name-container .message-info{justify-items:end;align-items:center;white-space:nowrap}.chat-item-wrapper .chat-info-container .contact-name-container .message-time{display:inline-block;vertical-align:middle;font-size:14px;color:#757575;padding-right:8px}.chat-item-wrapper .chat-info-container .contact-name-container .channel-icon{display:inline-block;vertical-align:middle;width:24px;height:24px;background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:16px;border-radius:50%}.chat-item-wrapper .chat-info-container .contact-name-container+.message-preview{margin-top:12px}.chat-item-wrapper .chat-info-container .draft-message-caption{font-size:12px;color:#006ce0;display:block;margin-top:5px;cursor:pointer}.chat-item-wrapper .chat-info-container .account-name{font-size:11px;color:#999;display:block;margin-top:5px;cursor:pointer}.chat-item-wrapper .chat-info-container .last-message-direction{font-size:12px;color:#006ce0;display:block;margin-top:5px;cursor:pointer}.chat-item-wrapper .chat-info-container .message-preview{width:100%;-webkit-user-select:text;user-select:text;white-space:pre-line;margin-top:2px;justify-content:space-between;display:flex}.chat-item-wrapper .chat-info-container .message-preview .new-chat-message-indicator{border-radius:50%;background-color:#006ce0;width:8px;height:8px;margin-top:4px}.chat-item-wrapper .chat-info-container .message-preview .chat-preview-message{max-height:54px;overflow:hidden;font-size:13px;margin:0;text-overflow:ellipsis;-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box;width:calc(100% - 20px)}.chat-item-wrapper .chat-info-container .message-preview .chat-preview-message.is-own-message,.chat-item-wrapper .chat-info-container .message-preview .chat-preview-message.is-draft-message{color:#757575;font-size:12px}.chat-item-wrapper .buttons-container{display:inline-block;width:100%}.chat-item-wrapper .buttons-container .accept-chat-button{background:#f4f8fe;border-radius:2px;border:#f4f8fe;opacity:1;text-align:left;letter-spacing:0;color:#006ce0;padding:3px 14px;float:right;cursor:pointer;font-family:Open Sans,Roboto,Helvetica Neue,sans-serif;font-size:13px;height:27px;outline:0}.chat-item-wrapper .buttons-container .accept-chat-button:hover{background:#e3e9f9;border:#e3e9f9}.chat-item-wrapper .buttons-container span.accept-chat-icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNC43MDciIHZpZXdCb3g9IjAgMCAxNCAxNC43MDciPjxkZWZzPjxzdHlsZT4uYXtmaWxsOiMwMDZjZTA7c3Ryb2tlOiMwMDZjZTA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuNSAwLjUpIj48cGF0aCBjbGFzcz0iYSIgZD0iTS0zODcuNjg1LDM4NC4yNjRoM3YzbDMtM2g3di0xMGgtMTNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzODcuNjg1IC0zNzQuMjY0KSIvPjwvZz48L3N2Zz4);background-repeat:no-repeat;background-position:0 0;border:none;padding-left:14px;padding-right:8px;vertical-align:sub}.chat-list-tooltip-hint{margin:15px 30px;min-width:60px;max-width:300px;display:inline-block;align-items:center;background:#fff;position:relative;text-align:left;width:max-content;color:#757575;border-radius:50px;border:none;z-index:1;font-size:11px;padding:5px;box-shadow:none}
`],encapsulation:2});var R=c(75378),X=c(33177),le=c(18652),K=c(8785);class O{generate(t){let n="#";return t?.channel?.source&&(n=`https://facebook.com/${t?.channel?.source}`),(0,I.of)(n)}}O.\u0275fac=function(t){return new(t||O)},O.\u0275prov=e.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"});class k{constructor(t){this.httpClient=t,this._serviceUrl="/rest/TelegramOmnichannelMessagingService/",this._cacheLinks={}}generate(t){const n=t?.channel?.msgSettingsId;return n&&!(0,R.isEmptyGuid)(n)?this._cacheLinks[n]?(0,I.of)(this._cacheLinks[n]):this.getTelegramUserName(n).pipe((0,p.map)(a=>`https://t.me/${a}`),(0,p.tap)(a=>this._cacheLinks[n]=a)):(console.warn("msgSettingsId is empty"),I.EMPTY)}getTelegramUserName(t){const n=this._serviceUrl+"GetUserName";return this.httpClient.post(n,{settingsId:t})}}k.\u0275fac=function(t){return new(t||k)(e.\u0275\u0275inject(u.HttpClient))},k.\u0275prov=e.\u0275\u0275defineInjectable({token:k,factory:k.\u0275fac,providedIn:"root"});class P{generate(t){let n="#";return t?.channel?.source&&(n=`https://wa.me/${t.channel.source}`),(0,I.of)(n)}}P.\u0275fac=function(t){return new(t||P)},P.\u0275prov=e.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"});class L{constructor(t,n){this.httpClient=t,this._featureService=n,this._featureService.getFeatureState("ESDeduplication").subscribe(a=>{this.elasticDeduplicationEnabled=a||!1})}findDuplicatesOnSave(t){const n="/rest/DeduplicationService/FindDuplicatesOnSave";return this.httpClient.post(n,t).pipe((0,p.map)(a=>a&&a.FindDuplicatesOnSaveResult||[]))}findDuplicatesOnSaveES(t){const n="/rest/DeduplicationServiceV2/FindDuplicatesOnSave";return this.httpClient.post(n,t).pipe((0,p.map)(a=>{const s=(JSON.parse(a&&a.FindDuplicatesOnSaveResult||!1)||[]).map(m=>m.Id);return s.length>0&&s.push(t.primaryColumnValue),s}))}}L.\u0275fac=function(t){return new(t||L)(e.\u0275\u0275inject(u.HttpClient),e.\u0275\u0275inject(U.FeatureService))},L.\u0275prov=e.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"});class N{constructor(t){this.httpClient=t}getTemplateText(t,n){const a="rest/MacrosHelperService/GetMultiLanguageTextTemplate";return this.httpClient.post(a,{request:{entityId:n,entityName:"OmniChat",templateId:t}})}getTemplates(t,n=5){const a="rest/TemplateHintService/GetTemplateHints";return this.httpClient.post(a,{text:t,rowsCount:n}).pipe((0,p.map)(o=>o.TemplateHints))}getNextTemplates(t,n,a){const o="rest/TemplateHintService/GetNextTemplateHints";return this.httpClient.post(o,{text:t,skipRows:n,rowsCount:a}).pipe((0,p.map)(s=>s.TemplateHints))}}N.\u0275fac=function(t){return new(t||N)(e.\u0275\u0275inject(u.HttpClient))},N.\u0275prov=e.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"});class w{constructor(t,n,a){this.queryExecutor=t,this.userInfo=n,this.httpClient=a,this._serviceUrl="/rest/OmnichannelOperatorService/",this._cacheStatuses=[]}getOperatorStatuses(){if(this._cacheStatuses.length>0)return(0,I.of)(this._cacheStatuses);const t=new R.EntitySchemaQuery("OperatorState");return t.addSchemaColumn("Id"),t.addSchemaColumn("Name"),t.addSchemaColumn("Code"),this.queryExecutor.executeSelectQuery(t).pipe((0,p.map)(n=>n.map(a=>({code:a.Code,name:a.Name,image:(0,d.joinPath)((0,d.getWorkspaceBaseUrl)(),"img/entity/hash/OperatorState/Image/",a.Id)}))),(0,p.tap)(n=>this._cacheStatuses=n))}getOperatorStatus(){const t=this._serviceUrl+"GetCurrentState";return this.httpClient.post(t,null).pipe((0,p.map)(n=>n.CurrentStateCode))}changeState(t){const n=this._serviceUrl+"ChangeState";this.httpClient.post(n,{newState:t}).subscribe()}}w.\u0275fac=function(t){return new(t||w)(e.\u0275\u0275inject(F.QueryExecutor),e.\u0275\u0275inject(d.UserInfo),e.\u0275\u0275inject(u.HttpClient))},w.\u0275prov=e.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"});class f{constructor(t,n){this.queryExecutor=t,this.httpClient=n,this._serviceUrl="/rest/ChatTransferService/"}mapOperator(t){return{value:t.id,status:t.status,contact:new r.Contact(t.contact.id,t.contact.name,t.contact.photoId)}}getQueues(){const t=new R.EntitySchemaQuery("ChatQueue");return t.addSchemaColumn("Id"),t.addSchemaColumn("Name"),t.filters.addSchemaColumnIsNotNullFilter("[ChatQueueOperator:ChatQueue:Id].Id"),this.queryExecutor.executeSelectQuery(t).pipe((0,p.map)(n=>n.map(a=>({id:a.Id,name:a.Name}))))}getOperators(t){const n=this._serviceUrl+"GetOperators";return this.httpClient.post(n,{search:t}).pipe((0,p.map)(a=>a.map(this.mapOperator)))}transferToQueue(t,n){const a=new u.HttpHeaders().set("Content-Type","application/json; charset=utf-8"),o=this._serviceUrl+"TransferChatToQueue";return this.httpClient.post(o,{message:t,queueId:n},{headers:a})}transferToOperator(t,n){const a=new u.HttpHeaders().set("Content-Type","application/json; charset=utf-8"),o=this._serviceUrl+"TransferChatToOperator";return this.httpClient.post(o,{message:t,operatorId:n},{headers:a})}}f.\u0275fac=function(t){return new(t||f)(e.\u0275\u0275inject(F.QueryExecutor),e.\u0275\u0275inject(u.HttpClient))},f.\u0275prov=e.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"});class x{transform(t,n){if(!n)return t;const a=new RegExp(n,"gi");return t.replace(a,'<span class="highlight-word">$&</span>')}}x.\u0275fac=function(t){return new(t||x)},x.\u0275pipe=e.\u0275\u0275definePipe({name:"highlight",type:x,pure:!0});function pe(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",2),e.\u0275\u0275listener("click",function(o){const m=e.\u0275\u0275restoreView(n).$implicit,C=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(C.transferChat(o,m))}),e.\u0275\u0275element(1,"ts-contact-photo",3),e.\u0275\u0275elementStart(2,"div",4),e.\u0275\u0275element(3,"div",5),e.\u0275\u0275pipe(4,"highlight"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div")(6,"span",6),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"div",7),e.\u0275\u0275elementEnd()()}if(i&2){const n=t.$implicit,a=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("disabled",a.isMenuItemDisabled(n)),e.\u0275\u0275propertyInterpolate1("id","operator-menu-item-",n.value,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("contact",n.contact)("contactColor",a.contactColorService.getNextColor(n.contact.id)),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("innerHTML",e.\u0275\u0275pipeBind2(4,10,n.contact.name,a.searchName),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(2),e.\u0275\u0275classMapInterpolate1("operator-item-status-wrapper operator-status-",a.getStatus(n.status).value,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a.getStatus(n.status).tip)}}class b{constructor(t,n,a,o){this.contactColorService=t,this.chatTransferService=n,this.ref=a,this._translateService=o,this._isTransferring=!1,this.searchName="",this.chatTransferredToOperator=new e.EventEmitter}sortOperators(t){const n=[r.ChatOperatorStatus.Active,r.ChatOperatorStatus.Inactive,r.ChatOperatorStatus.ChatsExceeded];return t.sort((a,o)=>n.indexOf(a.status)-n.indexOf(o.status))}ngOnInit(){this.loadOperators()}loadOperators(t=""){this.searchName=t,this.chatTransferService.getOperators(t).subscribe(n=>{this.menuItems=this.sortOperators(n),this.isTabActive=this.menuItems.length>0,this.ref.detectChanges()})}transferChat(t,n){if(this.isMenuItemDisabled(n)||this._isTransferring){t.preventDefault(),t.stopPropagation();return}this._isTransferring=!0,this.chatTransferService.transferToOperator(this.systemMessageTemplate,n.value).subscribe(a=>{this.chatTransferredToOperator.emit(a),this._isTransferring=!1})}getStatus(t){const n=r.ChatOperatorStatus[t];return{tip:this._translateService.instant(`ChatSettings.Transfer.OperatorStatusTips.${n}`),value:n.toLocaleLowerCase()}}isMenuItemDisabled(t){return t.status===r.ChatOperatorStatus.ChatsExceeded}}b.\u0275fac=function(t){return new(t||b)(e.\u0275\u0275directiveInject(d.ContactColorService),e.\u0275\u0275directiveInject(f),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(g.TranslateService))},b.\u0275cmp=e.\u0275\u0275defineComponent({type:b,selectors:[["ts-transfer-operator-list"]],inputs:{systemMessageTemplate:"systemMessageTemplate"},outputs:{chatTransferredToOperator:"chatTransferredToOperator"},decls:2,vars:1,consts:[[1,"transfer-operator-menu-items"],["mat-menu-item","","class","operator-item",3,"id","disabled","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"operator-item",3,"id","click"],[1,"operator-photo",3,"contact","contactColor"],[1,"operator-item-text-wrapper"],[3,"innerHTML"],[1,"status-tip"],[1,"status-indicator"]],template:function(t,n){t&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,pe,9,13,"button",1),e.\u0275\u0275elementEnd()),t&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.menuItems))},dependencies:[l.NgForOf,r.ContactPhotoComponent,h.MatLegacyMenuItem,x],styles:[".operator-item[_ngcontent-%COMP%]{font-size:13px;line-height:16px;padding:4px 9px 4px 16px;margin:0 8px;width:320px;display:flex;justify-content:space-between;align-items:center;height:48px!important}.operator-item.disabled[_ngcontent-%COMP%]{cursor:default;color:#00000061}.operator-item[_ngcontent-%COMP%]:hover:not(.disabled){background:#eaedf3 0 0 no-repeat padding-box}.operator-item.cdk-keyboard-focused[_ngcontent-%COMP%], .operator-item.cdk-program-focused[_ngcontent-%COMP%]{background-color:#eaedf3}.operator-item[_ngcontent-%COMP%]   .operator-photo[_ngcontent-%COMP%]{width:32px;height:32px}.operator-item[_ngcontent-%COMP%]   .operator-item-text-wrapper[_ngcontent-%COMP%]{flex:auto;white-space:break-spaces;line-height:16px;margin-left:8px}.operator-item[_ngcontent-%COMP%]   .operator-item-status-wrapper[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:flex-end}.operator-item[_ngcontent-%COMP%]   .operator-item-status-wrapper[_ngcontent-%COMP%]   .status-tip[_ngcontent-%COMP%]{display:none}.operator-item[_ngcontent-%COMP%]   .operator-item-status-wrapper.operator-status-chatsexceeded[_ngcontent-%COMP%]:first-child{border-top:2px solid rgb(17,0,255)}.operator-item[_ngcontent-%COMP%]:hover   .operator-item-status-wrapper[_ngcontent-%COMP%]   .status-tip[_ngcontent-%COMP%]{display:block}.status-indicator[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;margin-left:8px;flex:none}.operator-status-active[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{background-color:#22ac14}.operator-status-inactive[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{background-color:#df1f26}.operator-status-chatsexceeded[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{background-color:#757575}.operator-status-chatsexceeded[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]:first-child{border-top:2px solid rgb(17,0,255)}.transfer-operator-menu-items[_ngcontent-%COMP%]{max-height:426px;overflow:auto}.transfer-operator-menu-items[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not(.operator-item.disabled) + .operator-item.disabled[_ngcontent-%COMP%]{border-top:1px solid #dbdbdb}.transfer-operator-menu-items[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:4px;height:4px}.transfer-operator-menu-items[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003}"]});function me(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",2),e.\u0275\u0275listener("click",function(o){const m=e.\u0275\u0275restoreView(n).$implicit,C=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(C.transferChat(o,m.id))}),e.\u0275\u0275elementStart(1,"div",3)(2,"div"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()()}if(i&2){const n=t.$implicit;e.\u0275\u0275propertyInterpolate1("id","queue-menu-item-",n.id,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.name)}}class v{constructor(t,n){this.chatTransferService=t,this.ref=n,this._isTransferring=!1,this.chatTransferredToQueue=new e.EventEmitter}ngOnInit(){this.chatTransferService.getQueues().subscribe(t=>{this.menuItems=t.filter(n=>n.id!==this.transferData.chatQueueId),this.isTabActive=this.menuItems.length>0,this.ref.detectChanges()})}transferChat(t,n){if(this._isTransferring){t.preventDefault(),t.stopPropagation();return}this._isTransferring=!0,this.chatTransferService.transferToQueue(this.systemMessageTemplate,n).subscribe(a=>{this.chatTransferredToQueue.emit(a),this._isTransferring=!1})}}v.\u0275fac=function(t){return new(t||v)(e.\u0275\u0275directiveInject(f),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},v.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["ts-transfer-queue-list"]],inputs:{systemMessageTemplate:"systemMessageTemplate",transferData:"transferData"},outputs:{chatTransferredToQueue:"chatTransferredToQueue"},decls:2,vars:1,consts:[[1,"transfer-queue-menu-items"],["mat-menu-item","",3,"id","click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"id","click"],[1,"queue-item-text-wrapper"]],template:function(t,n){t&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,me,4,2,"button",1),e.\u0275\u0275elementEnd()),t&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.menuItems))},dependencies:[l.NgForOf,h.MatLegacyMenuItem],styles:[".mat-menu-item[_ngcontent-%COMP%]{font-size:13px;line-height:inherit;padding-bottom:4px;padding-top:4px;height:inherit!important;margin-left:16px;margin-right:16px;width:302px;border-bottom:1px solid #ededed}.mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background:#eaedf3 0 0 no-repeat padding-box}.mat-menu-item.cdk-keyboard-focused[_ngcontent-%COMP%], .mat-menu-item.cdk-program-focused[_ngcontent-%COMP%]{background-color:#eaedf3}.queue-item-text-wrapper[_ngcontent-%COMP%]{padding-left:16px}.transfer-queue-menu-items[_ngcontent-%COMP%]{max-height:426px;overflow:auto}.transfer-queue-menu-items[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:4px;height:4px}.transfer-queue-menu-items[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003}"]});var Q;(function(i){i[i.ToOperator=0]="ToOperator",i[i.ToQueue=1]="ToQueue"})(Q||(Q={}));const de=["templateInput"],he=["tabs"];function ue(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onSearchClick(o))}),e.\u0275\u0275elementStart(1,"span",12),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onSearchClick(o))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"input",13,14),e.\u0275\u0275listener("click",function(o){return o.stopPropagation()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",15),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.closeSearch(o))}),e.\u0275\u0275elementEnd()()}if(i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275classProp("search-icon-open",n.searchEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("search-bar-open",n.searchEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("clear-search-template-icon-open",n.searchEnabled)}}function ge(i,t){i&1&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),i&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"ChatSettings.Transfer.ToOperator")," "))}function Me(i,t){i&1&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),i&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ChatSettings.Transfer.NoAvailableAgents")))}function Ce(i,t){i&1&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),i&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"ChatSettings.Transfer.ToQueue")," "))}function Ie(i,t){i&1&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),i&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ChatSettings.Transfer.NoAvailableQueues")))}class _{_setTabUnderlineFirstOpen(){this.childTabs.forEach(t=>{t.realignInkBar()})}_resetTemplateSearchInput(){this.templateInput?.nativeElement&&(this.templateInput.nativeElement.value="")}constructor(t){this.featureService=t,this.selectedTabIndex=0,this.chatTransferred=new e.EventEmitter,this.searchEnabled=!1,this.isShowOperatorTab=this.featureService.getFeatureState("CanTransferToOperator")}ngAfterViewInit(){(0,I.fromEvent)(this.templateInput.nativeElement,"keyup").pipe((0,p.map)(t=>t.target.value),(0,p.startWith)(""),(0,p.debounceTime)(300),(0,p.distinctUntilChanged)()).subscribe(t=>{this.operatorList?.loadOperators(t)})}onTabChanged(t){this.isTransferToOperator()&&this.operatorList.loadOperators()}isTransferToQueue(){return this.selectedTabIndex==Q.ToQueue}isTransferToOperator(){return this.selectedTabIndex==Q.ToOperator}openMenu(){this._setTabUnderlineFirstOpen(),this.trigger.openMenu(),this.isTransferToOperator()&&(this.searchEnabled=!1,this.operatorList.loadOperators(),this._resetTemplateSearchInput())}closeMenu(){this.trigger.closeMenu(),this._resetTemplateSearchInput()}onChatTranfered(t){this.closeMenu(),this.chatTransferred.emit(t)}onSearchClick(t){this.searchEnabled=!0,this.templateInput.nativeElement.focus(),t.preventDefault(),t.stopPropagation()}closeSearch(t){this.searchEnabled=!1,this.operatorList.loadOperators(),this._resetTemplateSearchInput(),t.preventDefault(),t.stopPropagation()}isQueuesTabActive(){return this.queueList?.isTabActive}isAgentsTabActive(){return this.operatorList?.isTabActive}}_.\u0275fac=function(t){return new(t||_)(e.\u0275\u0275directiveInject(U.FeatureService))},_.\u0275cmp=e.\u0275\u0275defineComponent({type:_,selectors:[["ts-chat-transfer"]],viewQuery:function(t,n){if(t&1&&(e.\u0275\u0275viewQuery(h.MatLegacyMenuTrigger,5),e.\u0275\u0275viewQuery(h.MatLegacyMenu,5),e.\u0275\u0275viewQuery(b,5),e.\u0275\u0275viewQuery(v,5),e.\u0275\u0275viewQuery(de,5),e.\u0275\u0275viewQuery(he,5)),t&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.trigger=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.menu=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.operatorList=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.queueList=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.templateInput=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.childTabs=a)}},inputs:{systemMessageTemplate:"systemMessageTemplate",transferData:"transferData"},outputs:{chatTransferred:"chatTransferred"},decls:17,vars:11,consts:[[3,"matMenuTriggerFor"],["yPosition","above","xPosition","after",1,"chat-transfer-menu"],["menu","matMenu"],[1,"chat-transfer-header"],["class","search-template-wrapper",3,"click",4,"ngIf"],["mat-stretch-tabs","","animationDuration","0ms","disableRipple","true",3,"selectedIndex","selectedIndexChange","click","selectedTabChange"],["tabs",""],["mat-tab-label",""],["class","no-available-text",4,"ngIf"],[3,"systemMessageTemplate","chatTransferredToOperator"],[3,"systemMessageTemplate","transferData","chatTransferredToQueue"],[1,"search-template-wrapper",3,"click"],[1,"search-template-icon","search-icon",3,"click"],["type","text",1,"search-bar",3,"click"],["templateInput",""],[1,"clear-search-template-icon",3,"click"],["data-item-marker","TransferToOperatorMenuItem"],[1,"no-available-text"],["data-item-marker","TransferToQueueMenuItem"]],template:function(t,n){if(t&1&&(e.\u0275\u0275element(0,"div",0),e.\u0275\u0275elementStart(1,"mat-menu",1,2)(3,"div",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,ue,5,6,"div",4),e.\u0275\u0275elementStart(7,"mat-tab-group",5,6),e.\u0275\u0275listener("selectedIndexChange",function(o){return n.selectedTabIndex=o})("click",function(o){return o.stopPropagation()})("selectedTabChange",function(o){return n.onTabChanged(o)}),e.\u0275\u0275elementStart(9,"mat-tab"),e.\u0275\u0275template(10,ge,3,3,"ng-template",7),e.\u0275\u0275template(11,Me,3,3,"div",8),e.\u0275\u0275elementStart(12,"ts-transfer-operator-list",9),e.\u0275\u0275listener("chatTransferredToOperator",function(o){return n.onChatTranfered(o)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"mat-tab"),e.\u0275\u0275template(14,Ce,3,3,"ng-template",7),e.\u0275\u0275template(15,Ie,3,3,"div",8),e.\u0275\u0275elementStart(16,"ts-transfer-queue-list",10),e.\u0275\u0275listener("chatTransferredToQueue",function(o){return n.onChatTranfered(o)}),e.\u0275\u0275elementEnd()()()()),t&2){const a=e.\u0275\u0275reference(2);e.\u0275\u0275property("matMenuTriggerFor",a),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,9,"ChatSettings.Transfer.TransferWindowCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isTransferToOperator()),e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedIndex",n.selectedTabIndex),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!n.isAgentsTabActive()),e.\u0275\u0275advance(1),e.\u0275\u0275property("systemMessageTemplate",n.systemMessageTemplate),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.isQueuesTabActive()),e.\u0275\u0275advance(1),e.\u0275\u0275property("systemMessageTemplate",n.systemMessageTemplate)("transferData",n.transferData)}},dependencies:[l.NgIf,h.MatLegacyMenu,h.MatLegacyMenuTrigger,Y.MatLegacyTabGroup,Y.MatLegacyTabLabel,Y.MatLegacyTab,v,b,g.TranslatePipe],styles:['.mat-menu-panel.chat-transfer-menu{width:336px;max-width:336px;transform:translate(30px);background:#ffffff 0 0 no-repeat padding-box;box-shadow:0 3px 3px #00000029;border:1px solid #e3e6ec;opacity:1;padding-bottom:6px;padding-top:15px;margin-top:30px;border-radius:8px!important;overflow:visible}  .mat-menu-panel.chat-transfer-menu:before{border-color:transparent;border-bottom-color:#fff!important;top:-5px;right:32px;border-width:0 8px 6px;transform-origin:center bottom;content:"";position:absolute;border-style:solid;filter:drop-shadow(1px -1px 2px #bbb);clip:rect(-10px,20px,6px,auto)}  .mat-menu-panel.chat-transfer-menu .mat-tab-label{min-width:25px!important;padding:5px;background-color:transparent}  .mat-menu-panel.chat-transfer-menu .mat-tab-label.mat-tab-label-active{min-width:25px!important;padding:5px;background-color:transparent}  .mat-menu-panel.chat-transfer-menu .chat-transfer-header{color:#006ce0;font-size:12px;margin-left:16px;-webkit-user-select:none;user-select:none}  .mat-menu-panel.chat-transfer-menu .highlight-word{color:#056ee0;font-weight:700}  .mat-menu-panel.chat-transfer-menu .search-template-wrapper{cursor:pointer}  .mat-menu-panel.chat-transfer-menu .search-template-wrapper .search-icon{position:absolute;top:12px;right:12px;transition:all .5s ease}  .mat-menu-panel.chat-transfer-menu .search-template-wrapper .search-icon-open{z-index:1000;color:#fff;right:300px}  .mat-menu-panel.chat-transfer-menu .search-template-wrapper .template-caption{position:absolute;transition:all .5s ease;margin-top:8px;display:inline-block;color:#056ee0;font-size:16px}  .mat-menu-panel.chat-transfer-menu .search-template-wrapper .template-caption-hide{color:#fff;left:15px}  .mat-menu-panel.chat-transfer-menu .search-template-wrapper .search-bar{border:0 none;height:30px;transition:all .5s ease;width:0;padding:0;position:absolute;right:0;color:#444;margin-left:8px;outline:none;font-size:14px}  .mat-menu-panel.chat-transfer-menu .search-template-wrapper .search-bar-open{display:block;width:282px;top:0;margin-right:10px;margin-top:8px;padding-left:27px;border-bottom:1px dotted #444444}  .mat-menu-panel.chat-transfer-menu .search-template-wrapper .search-template-icon{width:16px;height:16px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNi4wMDciIGhlaWdodD0iMTYuMDA4IiB2aWV3Qm94PSIwIDAgMTYuMDA3IDE2LjAwOCI+PGRlZnM+PHN0eWxlPi5hLC5iLC5je2ZpbGw6bm9uZTt9LmEsLmJ7c3Ryb2tlOiMyODQ1Nzg7fS5he3N0cm9rZS1taXRlcmxpbWl0OjEwO30uZHtzdHJva2U6bm9uZTt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI2My44MiA2NC42NSkiPjxnIGNsYXNzPSJhIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI2My44MiAtNjQuNjUpIj48Y2lyY2xlIGNsYXNzPSJkIiBjeD0iNiIgY3k9IjYiIHI9IjYiLz48Y2lyY2xlIGNsYXNzPSJjIiBjeD0iNiIgY3k9IjYiIHI9IjUuNSIvPjwvZz48cGF0aCBjbGFzcz0iYiIgZD0iTS4zNDQuMzQ0LDUuNSw1LjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjU0LjMyIC01NS4xNSkiLz48L2c+PHJlY3QgY2xhc3M9ImMiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDcgMC4wMDgpIi8+PC9zdmc+);display:inline-block;cursor:pointer}  .mat-menu-panel.chat-transfer-menu .search-template-wrapper .clear-search-template-icon{width:0;height:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5Ljg3MyIgaGVpZ2h0PSI5Ljg3MyIgdmlld0JveD0iMCAwIDkuODczIDkuODczIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojNzA3MDcwO308L3N0eWxlPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU1OS41NjQgLTM0Ny41NjMpIj48bGluZSBjbGFzcz0iYSIgeDI9IjkuMTY2IiB5Mj0iOS4xNjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NTkuOTE3IDM0Ny45MTcpIi8+PGxpbmUgY2xhc3M9ImEiIHgxPSI5LjE2NiIgeTI9IjkuMTY2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTU5LjkxNyAzNDcuOTE3KSIvPjwvZz48L3N2Zz4=);background-size:10px 10px;display:inline-block;cursor:pointer;transition:all .5s ease;padding:0;position:absolute;right:0;top:0;margin-top:15px;margin-right:12px}  .mat-menu-panel.chat-transfer-menu .search-template-wrapper .clear-search-template-icon-open{display:block;width:10px;top:0;margin-right:12px}  .mat-menu-panel.chat-transfer-menu .no-available-text{font-family:Open Sans,Regular,sans-serif;font-size:14px;text-align:center;color:gray;margin:8px 0 5px}']});const fe=["templatesMenuContainer"];function xe(i,t){i&1&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),i&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"MessageTemplate.SuggestionHint")))}function ve(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",9),e.\u0275\u0275listener("click",function(o){const m=e.\u0275\u0275restoreView(n).$implicit,C=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(C.chooseTemplate(o,m.id))}),e.\u0275\u0275elementStart(1,"div",10),e.\u0275\u0275element(2,"div",11),e.\u0275\u0275pipe(3,"highlight"),e.\u0275\u0275element(4,"div",12),e.\u0275\u0275pipe(5,"highlight"),e.\u0275\u0275elementEnd()()}if(i&2){const n=t.$implicit,a=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate1("id","template-menu-item-",n.id,""),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("innerHTML",e.\u0275\u0275pipeBind2(3,3,n.name,a.searchString),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("innerHTML",e.\u0275\u0275pipeBind2(5,6,n.text,a.searchString),e.\u0275\u0275sanitizeHtml)}}class A{constructor(t,n,a){this._translateService=t,this.ref=n,this.scrollToBottomObserverFactory=a,this._isMenuShown=!1,this.loadNext=new e.EventEmitter,this.showTemplateSuggestionHint=!1,this.templateSelected=new e.EventEmitter,this.selectorClosed=new e.EventEmitter}set menuItems(t){this._menuItems=t,this._toggleMenuVisibility(),this.scrollPageToBottomObserver?.resetScrollMaxPosition()}get menuItems(){return this._menuItems}get isMenuShown(){return this._isMenuShown}_toggleMenuVisibility(){!this._isMenuShown&&this._menuItems?.length>0||this.showTemplateSuggestionHint?(this.trigger.openMenu(),this._isMenuShown=!0):this._isMenuShown&&this._menuItems?.length===0&&(this.trigger.closeMenu(),this._isMenuShown=!1)}_resetMaxListHeight(){if(!this.templatesMenuContainer)return;let t=0;const n=this.templatesMenuContainer.nativeElement.children,a=Math.min(n.length,5),o=1;for(let s=0;s<a;s++)t=t+n[s].offsetHeight;this.templatesMenuContainer.nativeElement.style.maxHeight=o*(a-1)+t+"px"}_destroyScrollToBottomObserver(){this.scrollPageToBottomObserver?.destroy()}_initScrollToBottomObserver(){this.scrollPageToBottomObserver=this.scrollToBottomObserverFactory.createObserver(this.templatesMenuContainer.nativeElement,()=>{this.loadNext.emit()})}focusFirstItem(){this.menu.focusFirstItem()}chooseTemplate(t,n){this.templateSelected.emit(n)}onMenuClosed(){this._isMenuShown=!1,this._menuItems=[],this.selectorClosed.emit()}ngAfterViewInit(){this._initScrollToBottomObserver()}ngOnDestroy(){this._destroyScrollToBottomObserver()}ngAfterViewChecked(){this._resetMaxListHeight()}}A.\u0275fac=function(t){return new(t||A)(e.\u0275\u0275directiveInject(g.TranslateService),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(d.ScrollToBottomObserverFactory))},A.\u0275cmp=e.\u0275\u0275defineComponent({type:A,selectors:[["ts-template-selector"]],viewQuery:function(t,n){if(t&1&&(e.\u0275\u0275viewQuery(h.MatLegacyMenuTrigger,5),e.\u0275\u0275viewQuery(h.MatLegacyMenu,5),e.\u0275\u0275viewQuery(fe,5)),t&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.trigger=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.menu=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.templatesMenuContainer=a.first)}},inputs:{menuItems:"menuItems",searchString:"searchString"},outputs:{loadNext:"loadNext",templateSelected:"templateSelected",selectorClosed:"selectorClosed"},decls:10,vars:6,consts:[[3,"matMenuTriggerFor"],["yPosition","above","xPosition","after",1,"templates_menu",3,"closed"],["menu","matMenu"],[1,"menu-title"],["class","menu-title menu-title-hint",4,"ngIf"],[1,"menu-items"],["templatesMenuContainer",""],["mat-menu-item","",3,"id","click",4,"ngFor","ngForOf"],[1,"menu-title","menu-title-hint"],["mat-menu-item","",3,"id","click"],[1,"template-item-text-wrapper"],[1,"title",3,"innerHTML"],[1,"preview",3,"innerHTML"]],template:function(t,n){if(t&1&&(e.\u0275\u0275element(0,"div",0),e.\u0275\u0275elementStart(1,"mat-menu",1,2),e.\u0275\u0275listener("closed",function(){return n.onMenuClosed()}),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,xe,3,3,"div",4),e.\u0275\u0275elementStart(7,"div",5,6),e.\u0275\u0275template(9,ve,6,9,"button",7),e.\u0275\u0275elementEnd()()),t&2){const a=e.\u0275\u0275reference(2);e.\u0275\u0275property("matMenuTriggerFor",a),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"MessageTemplate.Suggestion")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.showTemplateSuggestionHint),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.menuItems)}},dependencies:[l.NgForOf,l.NgIf,h.MatLegacyMenu,h.MatLegacyMenuItem,h.MatLegacyMenuTrigger,g.TranslatePipe,x],styles:['.templates_menu{width:280px;transform:translate(30px);border-radius:8px!important;background:#ffffff 0 0 no-repeat padding-box;box-shadow:0 3px 3px #00000029;border:1px solid #e3e6ec;opacity:1;padding-bottom:6px;overflow:visible!important}  .templates_menu.mat-menu-panel .menu-items{max-height:320px;overflow-x:hidden}  .templates_menu.mat-menu-panel .menu-items::-webkit-scrollbar{-webkit-appearance:none;width:5px;height:5px}  .templates_menu.mat-menu-panel .menu-items::-webkit-scrollbar-thumb{background-color:#0003}  .templates_menu:after{border-color:transparent;border-top-color:#fff!important;bottom:-6px;right:30px;border-width:6px 8px 0;transform-origin:center bottom;content:"";position:absolute;border-style:solid;filter:drop-shadow(1px 3px 2px #bbb);clip:rect(0,20px,20px,auto)}  .templates_menu .highlight-word{color:#056ee0;font-weight:700}  .templates_menu .menu-title{text-align:left;padding:9px 0 4px 20px;font-size:12px;font-family:Open Sans,sans-serif;color:#006ce0}  .templates_menu .menu-title-hint{border-top:1px solid #e3e6ec;color:#8095b3}  .templates_menu .mat-menu-item{font-size:13px;font-family:Open Sans,sans-serif;line-height:inherit;padding-bottom:4px;padding-top:4px;height:inherit!important;margin-left:8px;margin-right:8px;width:264px}  .templates_menu .mat-menu-item:not(:last-child){border-bottom:1px solid #ededed}  .templates_menu .mat-menu-item:hover:not([disabled]){background:#eaedf3 0 0 no-repeat padding-box}  .templates_menu .mat-menu-item.cdk-keyboard-focused{background-color:#eaedf3}  .templates_menu .mat-menu-item.cdk-program-focused{background-color:#eaedf3}  .templates_menu .mat-menu-item .template-item-text-wrapper{margin-bottom:8px;padding-top:8px}  .templates_menu .mat-menu-item .template-item-text-wrapper .title{line-height:normal;font-size:11px;color:#757575;margin-bottom:8px}  .templates_menu .mat-menu-item .template-item-text-wrapper .preview{line-height:normal;color:#181818;font-size:13px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;white-space:initial}']});function Te(i,t){if(i&1&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),i&2){const n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.unprocessedMsgCount)}}function ye(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",2),e.\u0275\u0275template(1,Te,2,1,"div",3),e.\u0275\u0275elementStart(2,"ts-contact-photo",4),e.\u0275\u0275listener("contactClick",function(){const s=e.\u0275\u0275restoreView(n).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.goToChat(s))}),e.\u0275\u0275elementEnd()()}if(i&2){const n=t.$implicit,a=e.\u0275\u0275nextContext();e.\u0275\u0275classMap(n.id===a.currentChat.id?"active-chat":""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.unprocessedMsgCount),e.\u0275\u0275advance(1),e.\u0275\u0275property("contact",n.contact)("contactColor",a.contactColorService.getNextColor(n.contact.id))}}class E{constructor(t,n,a,o,s){this.chatService=t,this.customEventService=n,this._userInfo=a,this.ref=o,this.contactColorService=s,this.chatClick=new e.EventEmitter}_loadChats(){this.chatService.getOperatorChats().pipe((0,p.filter)(t=>t.success),(0,p.map)(t=>t.result)).subscribe(t=>{const n=t.filter(a=>a.operator.value===this._userInfo.id);this.activeChats=n?.length>1?n:[],this.updateCounter(this.currentChat.id,0),this.ref.detectChanges()})}_convertWSMessage(t){return{sender:t.Header?.Sender,body:typeof t?.Body=="string"?JSON.parse(t.Body):t.Body}}removeChat(t){this.activeChats=this.activeChats.filter(n=>n.id.toLowerCase()!==t.toLowerCase())}addChat(t){this.chatService.getItem(t).subscribe(n=>{n&&n.success&&(this.activeChats.push(n.result[0]),this.activeChats=[...this.activeChats])})}updateCounter(t,n){this.activeChats.forEach(a=>{a.id===t&&(a.unprocessedMsgCount=n)}),this.ref.detectChanges()}handleWsMessages(t){if(t=JSON.parse(t),t.Header?.Sender){const a=this._convertWSMessage(t),o=a.body;switch(a.sender){case"UnreadMessageInChat":o.ChatId.toLowerCase()!==this.currentChat.id.toLowerCase()&&this.updateCounter(o.ChatId,o.Count);break;case"CompleteChat":this.removeChat(o.ChatId);break;case"NewTransferredChat":this.addChat(o.ChatId);break;default:break}}}ngOnInit(){this.activeChats=this.initialActiveChats||[],this.activeChats.length===0&&this._loadChats(),this.updateCounter(this.currentChat.id,0),this.customEventService.subscribe("OmniChatWSMessages").subscribe(t=>this.handleWsMessages(t))}goToChat(t){t.id!==this.currentChat.id&&(this.updateCounter(t.id,0),this.chatClick.emit({chat:t}))}}E.\u0275fac=function(t){return new(t||E)(e.\u0275\u0275directiveInject(r.OmnichannelChatService),e.\u0275\u0275directiveInject(X.CustomEventService),e.\u0275\u0275directiveInject(d.UserInfo),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(d.ContactColorService))},E.\u0275cmp=e.\u0275\u0275defineComponent({type:E,selectors:[["ts-active-chats"]],inputs:{currentChat:"currentChat",initialActiveChats:"initialActiveChats"},outputs:{chatClick:"chatClick"},decls:2,vars:1,consts:[[1,"active-chats"],["class","active-chat-item",3,"class",4,"ngFor","ngForOf"],[1,"active-chat-item"],["class","messages-counter",4,"ngIf"],[1,"active-chat-icon",3,"contact","contactColor","contactClick"],[1,"messages-counter"]],template:function(t,n){t&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,ye,3,5,"span",1),e.\u0275\u0275elementEnd()),t&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.activeChats))},dependencies:[l.NgForOf,l.NgIf,r.ContactPhotoComponent],styles:[".active-chats[_ngcontent-%COMP%]{display:inline-grid;gap:6px;padding:0 0 16px 10px;grid-auto-flow:column}.active-chats[_ngcontent-%COMP%]   .active-chat-item[_ngcontent-%COMP%]{width:32px;height:32px}.active-chats[_ngcontent-%COMP%]   .active-chat-item.active-chat[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-3px}.active-chats[_ngcontent-%COMP%]   .active-chat-item.active-chat[_ngcontent-%COMP%]   .active-chat-icon[_ngcontent-%COMP%]     .contact-photo{border:2px solid #ffffff;box-shadow:0 0 0 1px #006ce0}.active-chats[_ngcontent-%COMP%]   .active-chat-item[_ngcontent-%COMP%]   .messages-counter[_ngcontent-%COMP%]{background:red;width:19px;height:19px;border-radius:50%;text-align:center;font-size:12px;color:#fff;z-index:2;position:relative;margin:-11px 0 -8px -8px}"]});const Ne=["conversationContainer"],we=["inputField"],be=["templatesList"],_e=["transferChat"];function Se(i,t){i&1&&e.\u0275\u0275element(0,"ts-mask",44)}function De(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.completeChat())}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementEnd()}if(i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("libHintOverlay",n.getHint(e.\u0275\u0275pipeBind1(1,1,"ChatSettings.ChatWindow.Actions.Complete")))}}function je(i,t){i&1&&e.\u0275\u0275element(0,"div")}function ze(i,t){i&1&&e.\u0275\u0275element(0,"div")}function Oe(i,t){i&1&&e.\u0275\u0275element(0,"div")}function ke(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",46),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onSearchContactDuplicatesClick(o))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementEnd()}if(i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("libHintOverlay",n.getHint(e.\u0275\u0275pipeBind1(1,1,"ChatSettings.ChatWindow.Actions.ContactDuplicates.Find")))}}function Pe(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",47),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.openDuplicatesPageClick(o))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementStart(2,"span",48),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("libHintOverlay",n.getHint(e.\u0275\u0275pipeBind1(1,2,"ChatSettings.ChatWindow.Actions.ContactDuplicates.Show"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.contactDuplicatesList.length)}}function Le(i,t){if(i&1&&(e.\u0275\u0275elementStart(0,"div",49),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementStart(2,"span",48),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()),i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("libHintOverlay",n.getHint(e.\u0275\u0275pipeBind1(1,2,"ChatSettings.ChatWindow.Actions.ContactDuplicates.NotFound"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.contactDuplicatesList.length)}}function Ae(i,t){if(i&1&&(e.\u0275\u0275elementStart(0,"a",50),e.\u0275\u0275element(1,"div",51),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("href",n.getContactSearchLink(n.chat.contact.name),e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275property("libHintOverlay",n.getHint(e.\u0275\u0275pipeBind1(2,2,"ChatSettings.ChatWindow.Actions.SearchFacebook")))}}function Ee(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",52),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openTransferMenu())}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementEnd()}if(i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("libHintOverlay",n.getHint(e.\u0275\u0275pipeBind1(1,1,"ChatSettings.ChatWindow.Actions.Transfer")))}}function Ze(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",58),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.openAccount(o.chat.contact.account.value))}),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"div",59),e.\u0275\u0275elementEnd()}if(i&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.chat.contact.account.displayValue," ")}}function Ye(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",53)(1,"ts-contact-photo",54),e.\u0275\u0275element(2,"img",55),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",56),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openContact(o.chat.contact.id))}),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Ze,3,1,"div",57),e.\u0275\u0275elementEnd()}if(i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("contact",n.chat.contact)("contactColor",n.contactColorService.getNextColor(n.chat.contact==null?null:n.chat.contact.id)),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("src",n.chat.channel==null||n.chat.channel.provider==null?null:n.chat.channel.provider.icon,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.chat.contact.name," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.chat.contact.account)}}function He(i,t){if(i&1&&(e.\u0275\u0275elementStart(0,"div",69)(1,"div",70),e.\u0275\u0275text(2,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",71)(4,"a",74),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()),i&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(4),e.\u0275\u0275property("href","mailto:"+(n.firstMessageAuthor==null?null:n.firstMessageAuthor.email),e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.firstMessageAuthor==null?null:n.firstMessageAuthor.email)}}function Ge(i,t){if(i&1&&(e.\u0275\u0275elementStart(0,"div",68)(1,"div",69)(2,"div",70),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",71)(6,"a",72),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(8,He,6,2,"div",73),e.\u0275\u0275elementEnd()),i&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,4,"ChatSettings.PreChatSummary.Fields.Source")),e.\u0275\u0275advance(3),e.\u0275\u0275property("href",n.channelLink,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.chat==null||n.chat.channel==null?null:n.chat.channel.name),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.firstMessageAuthor==null?null:n.firstMessageAuthor.email)}}const Ue=function(i,t){return{down:i,up:t}};function Fe(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",60)(1,"div",61),e.\u0275\u0275element(2,"div",62),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",63)(4,"div",64),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementStart(7,"div",65),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.toggleSummary())}),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275element(10,"span",66),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,Ge,9,6,"div",67),e.\u0275\u0275elementEnd()()}if(i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,5,"ChatSettings.PreChatSummary.Caption")," "),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("data-item-marker",n.isSummaryShow?"HideChatSummary":"ShowChatSummary"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,7,n.isSummaryShow?"ChatSettings.PreChatSummary.Toggle.Opened":"ChatSettings.PreChatSummary.Toggle.Closed")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(9,Ue,!n.isSummaryShow,n.isSummaryShow)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isSummaryShow)}}function Re(i,t){if(i&1&&(e.\u0275\u0275elementStart(0,"div",75),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.statusText)}}function Qe(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"label",76),e.\u0275\u0275element(1,"span",77),e.\u0275\u0275elementStart(2,"span",78),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",79),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.removeAttachment(o))}),e.\u0275\u0275elementEnd()()}if(i&2){const n=t.$implicit;e.\u0275\u0275attribute("file-name",n.name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.name)}}function Be(i,t){i&1&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",80),e.\u0275\u0275element(1,"circle",81),e.\u0275\u0275elementEnd())}const Je=function(i){return{chatQueueId:i}},We=function(i){return{"disabled-attachment":i}};class M{constructor(t,n,a,o,s,m,C,ot,st,rt,ct,lt){this.chatService=t,this._userInfo=n,this.ref=a,this._translateService=o,this._deduplicationService=s,this._dialogService=m,this._processEngineService=C,this._messagingSysSettings=ot,this._messageTemplateService=st,this.window=rt,this.contactColorService=ct,this.injector=lt,this._initialized=!1,this._isComponentLoaded=!1,this._maxFileSize=25*1024*1024,this._overSizeFilesName=[],this._processActions=[],this._templateSearchString="",this._isAllLoaded=!1,this.isFirstOpen=!1,this.contactClick=new e.EventEmitter,this.accountClick=new e.EventEmitter,this.backClick=new e.EventEmitter,this.duplicatesContactsClick=new e.EventEmitter,this.messagesCounter=0,this.messageText="",this.duplicatesSearchText="",this.isChatCompleted=!1,this.statusText="",this.showSearchDuplicatesButton=!1,this.contactDuplicatesList=[],this.chosenFiles=[],this.isLoading=!0,this.isSending=!1,this.isChatTransferred=!1,this.isSummaryShow=!1}set chat(t){const n=t?.id!==this._chat?.id;this._chat=t,n&&this._chat?.id&&(this._reloadChat(),this._loadMessageTemplate())}get chat(){return this._chat}_replaceNbsps(t){return t.replace(/&nbsp;/gi," ")}_addNewMessage(t){this.messages.find(a=>a.id===t.id)||(this.messages.push(t),this._updateCounter(t),this.ref.detectChanges(),this._followToMessage(t.id),this.isLastMessageVisible&&this.scrollDown())}_updateCounter(t){t.direction===r.MessageDirection.Incoming?this.messagesCounter++:this.messagesCounter=0}_saveScrollToStorage(){const t=this.conversationContainer.nativeElement.scrollTop;this.window.sessionStorage.setItem(`${this.chat.id}_scrollTop`,t)}_initScrollFromStorage(){const t=parseInt(this.window.sessionStorage.getItem(`${this.chat.id}_scrollTop`));t>=0?this.conversationContainer.nativeElement.scrollTop=t:this._scrollToNewMessages()}_initIntersectionObserver(){const t=this.messages[this.messages.length-1].id,n=this.conversationContainer.nativeElement,a={root:n,rootMargin:"0px",threshold:.5};n.addEventListener("scroll",this._saveScrollToStorage.bind(this)),this._observer=new IntersectionObserver(o=>{const s=o[0].isIntersecting;this._initialized||(this._scrollToNewMessages(),this._initialized=!0),this.isLastMessageVisible=s,this.ref.detectChanges()},a),this._followToMessage(t),this._observeFirstMessage(a)}_observeFirstMessage(t){const n=this.messages[0].id;this._observerFirstMessage=new IntersectionObserver(a=>{a[0].isIntersecting&&!this._isAllLoaded&&(this._observerFirstMessage.disconnect(),this.chatService.getAllConversation(this.chat.contact.id,this.chat.channelId||this.chat.channel.id,this.messages.length).subscribe({next:s=>{s.length<r.OmnichannelChatService.rowsCount&&(this._isAllLoaded=!0),this.messages=[...s,...this.messages],this.ref.detectChanges(),this._getMessageElementById(n).scrollIntoView(!0),this._observeFirstMessage(t)},error:s=>{throw new Error(s.message)}}))},t),this._observerFirstMessage.observe(this._getMessageElementById(n))}_followToMessage(t){this._observer.disconnect();const n=this._getMessageElementById(t);n&&this._observer.observe(n)}_getMessageElementById(t){return this.conversationContainer.nativeElement.querySelector("#message_"+t)}_scrollToNewMessages(){if(this.messagesCounter>0){const t=this.messages[this.messages.length-this.messagesCounter].id;this._getMessageElementById(t).scrollIntoView(!1)}}_loadConversation(){this.chatService.getAllConversation(this.chat.contact.id,this.chat.channelId||this.chat.channel.id).subscribe({next:t=>{this._handleLoadConversation(t)},error:t=>{throw new Error(t.message)}})}_handleLoadConversation(t){if(t.length===0){this.isLoading=!1,this.ref.detectChanges();return}this.messages=t,this.ref.detectChanges(),this._isAllLoaded=t.length<r.OmnichannelChatService.rowsCount,this.isFirstOpen&&this.scrollDown(),this._initIntersectionObserver(),this.chatService.markAsRead(this.chat.id),this.isLoading=!1,this._initScrollFromStorage(),this._setFirstMessageAuthor()}_loadMessageTemplate(){this.chatService.getMessageTemplate(this.chat.id).subscribe({next:t=>{this.messageTemplate=t},error:t=>{throw this.messageTemplate={},new Error(t.message)}})}_reloadChat(){this.isLoading=!0,this.chatService.getItem(this.chat.id).subscribe(t=>{t&&t.success&&(this.chat=t.result[0],this._isChatForCurrentOperator(this.chat)||this.chat.status.value===r.ChatStatus.Completed?this._loadConversation():(this.backClick.emit(),this._dialogService.openInfoDialog(this._translateService.instant("ChatSettings.ChatWindow.AlreadyAssignedChat"))))})}_isChatForCurrentOperator(t){return t.operator?.value===this._userInfo.id||t.operator?.value===void 0||t.operator?.value===null}_setDuplicatesMessage(t){if(t.length>1){const n=this._translateService.instant("ChatSettings.Deduplication.DuplicatesFoundTemplate");this.duplicatesSearchText=K.String.format(n,t.length),this.contactDuplicatesList=t,this.isFirstOpen||this._openDuplicatesPage()}else this.duplicatesSearchText=this._translateService.instant("ChatSettings.Deduplication.DuplicatesNotFound"),this.contactDuplicatesList=[];this.ref.detectChanges()}_openDuplicatesPage(){this.duplicatesContactsClick.emit({contactsId:this.contactDuplicatesList,currentContactId:this.chat.contact.id})}_isCanSendMessage(){const t=this.messageText.length>0,n=this.chosenFiles&&this.chosenFiles.length>0;return(t||n)&&!this.isChatCompleted&&!this.isChatTransferred}_clearMessage(){this.messageText="",this.inputMessageContainer.nativeElement.innerText="",this.inputMessageContainer.nativeElement.focus(),this.chosenFiles=[]}_isAttachmentCanBeAdded(t){return t.size<=this._maxFileSize}_handleSendingResponse(t){t.Success||this._dialogService.openInfoDialog(t.ErrorMessage||t.error.error)}_loadActions(){this.chatService.getChatActions(this.chat.id).subscribe(t=>{this._processActions=t},t=>{throw new Error(t.message)})}_insertTemplateAtPosition(t,n){return t=t.replace(/<[^>]*>?/gm,""),t=this.messageText.slice(0,n)+t+this.messageText.slice(n),t=t.replace(/\n\s*\n/g,`
`),t=this._replaceNbsps(t),t}_runProcess(t){this._processEngineService.executeProcessByName(t,{ChatId:this.chat.id,ContactId:this.chat.contact.id}).subscribe()}_getTemplateSearchSequence(){const t=this.messageText.match(/\/\/(.+)/);return t&&t.length>0?t[1]:""}_searchEnabled(){return this.messageText.indexOf("//")!==-1}_insertTemplate(t,n,a){this._messageTemplateService.getTemplateText(t,this.chat.id).subscribe(o=>{this.messageText=this.messageText.replace("//"+this._templateSearchString,""),this.messageText=this.inputMessageContainer.nativeElement.innerText=(0,le.decode)(this._insertTemplateAtPosition(o.GetMultiLanguageTextTemplateResult.textTemplate,this.getCaretIndex())).toString(),typeof n=="function"&&(a?n.call(a):n()),this.cacheInputMessage(this.messageText)})}_setInputFocus(){setTimeout(()=>this.inputMessageContainer.nativeElement.focus(),0);const t=document.createRange();t.selectNodeContents(this.inputMessageContainer.nativeElement),t.collapse(!1);const n=document.getSelection();n.removeAllRanges(),n.addRange(t)}_clearState(){this.isChatCompleted=!1,this.statusText=""}_loadCachedMessage(){const t=this.inputMessageContainer.nativeElement,n=this.window.sessionStorage.getItem(this.chat.id);n?(this.messageText=this.inputMessageContainer.nativeElement.innerText=n,setTimeout(()=>this._setInputFocus(),0)):setTimeout(()=>t.focus(),0)}_saveCurrentChatToStorage(){this.window.sessionStorage.setItem(M.CURRENT_CHAT_CACHE_NAME,this.chat.id)}_getDeduplicationParams(){return{schemaName:"Contact",primaryColumnValue:this.chat.contact.id,model:[{columnName:"Name",schemaName:"Contact",value:[this.chat.contact.name]}],columns:["Id","Name"]}}_getChannelLinkService(t){let n;switch(t){case r.ChannelType.Telegram:n=this.injector.get(k);break;case r.ChannelType.FacebookMessenger:n=this.injector.get(O);break;case r.ChannelType.WhatsApp:n=this.injector.get(P);break;default:console.log(`Channel link generator for provider ${t} was not found.`);break}return n}_setFirstMessageAuthor(){if(this.messages?.length>0){const t=this.messages.find(n=>n.direction===r.MessageDirection.Incoming);if(!t)return;this.firstMessageAuthor=t.author}}createChannelLink(){const t=this.chat?.channel?.provider?.id;this._getChannelLinkService(t)?.generate(this.chat).subscribe(a=>{this.channelLink=a})}processTemplateSuggestion(){this.templatesList.showTemplateSuggestionHint=this._searchEnabled();const t=this._getTemplateSearchSequence();this.templatesList.showTemplateSuggestionHint?(this._templateSearchString=this.templatesList.searchString=t,this._messageTemplateService.getTemplates(t,6).subscribe(n=>{this.templatesMenu=n,this.ref.detectChanges(),this._setInputFocus()}),this.templatesList.showTemplateSuggestionHint=!1):(this.templatesMenu=[],this.ref.detectChanges())}ngOnInit(){this._clearState(),R.ValidationUtilities.checkArgumentEmpty("chat",this.chat),this.messagesCounter=this.chat.unprocessedMsgCount,this._loadActions(),this._loadCachedMessage(),this.isFirstOpen?this.searchContactDuplicates():this.showSearchDuplicatesButton=!0,this._isComponentLoaded=!0,this._saveCurrentChatToStorage()}ngAfterViewInit(){this.transferChat.transferData={chatQueueId:this.chat.chatQueueId}}ngOnChanges(){this.createChannelLink()}getHint(t){return new d.HintDirectiveConfig({hintConfig:{displayValue:t,cssClasses:"omnichat-tooltip-hint"},componentType:r.SimpleHintComponent})}completeChat(){this.chatService.completeChat(this.chat.id).subscribe(()=>{this.showCompleteChatMessage()})}scrollDown(){this.conversationContainer.nativeElement.scrollTop=this.conversationContainer.nativeElement.scrollHeight,this.isLastMessageVisible=!0}openContact(t){return this.contactClick.emit({contactId:t}),!1}openAccount(t){return this.accountClick.emit({accountId:t}),!1}openTemplateLookup(){this.messageText=this.messageText.replace(/\/+$/,"")+"//",this.inputMessageContainer.nativeElement.textContent=this.messageText,this._setInputFocus(),this.processTemplateSuggestion()}getCaretIndex(){this.inputMessageContainer.nativeElement.focus();let t;if(window.getSelection){t=window.getSelection().getRangeAt(0);const n=t.cloneRange();n.selectNodeContents(this.inputMessageContainer.nativeElement),n.setEnd(t.endContainer,t.endOffset);let a=n.toString().length;return t.endContainer.previousElementSibling!==null?++a:a}return 0}sendMessage(){if(!this._isCanSendMessage())return;this.messageTemplate.Message=this.messageText,this.isSending=!0,setTimeout(()=>{this.isSending=!1,this.ref.detectChanges()},2e3);let t;this.chosenFiles.length>0?t=this.chatService.sendMessageWithAttachments(this.messageTemplate,this.chosenFiles):t=this.chatService.sendMessage(this.messageTemplate),t.subscribe(this._handleSendingResponse.bind(this),this._handleSendingResponse.bind(this)),this._clearMessage(),this.clearCachedMessage()}onKeyDown(t){this.templatesList.isMenuShown&&(t.key==="ArrowDown"||t.key==="ArrowUp")&&(this.templatesList.focusFirstItem(),t.preventDefault()),t.key==="Enter"&&!(t.shiftKey||t.ctrlKey)&&(t.preventDefault(),this.sendMessage())}hideComponent(){this._isComponentLoaded=!1}getMenuActions(){const t=[];return this._processActions.length>0?(t.push({code:r.ActionsMenuDivider.code,caption:this._translateService.instant("ChatSettings.ChatWindow.Actions.ProcessesDivider")}),this._processActions.forEach(n=>{t.push({caption:n.Caption,code:n.ProcessName})})):t.push({code:r.ActionsMenuDivider.code,caption:this._translateService.instant("ChatSettings.ChatWindow.Actions.EmptyProcessesList")}),t}onMenuItemClick(t){this._runProcess(t)}getBackToChatsButtonTip(){return this._translateService.instant("ChatSettings.ChatWindow.Tips.BackToChats")}backToChatsList(){this._observer?.disconnect(),this._observerFirstMessage?.disconnect(),this.backClick.emit()}isShownContactSearchButton(){return this.chat.channel?.provider?.id===r.ChannelType.FacebookMessenger}getContactSearchLink(t){return`${this._messagingSysSettings.SearchInFacebookURL||"https://www.facebook.com/search/people/?q="}${t}`}searchContactDuplicates(){this.showSearchDuplicatesButton=!1;const t=this.chat.contact.name;if(this._deduplicationService.elasticDeduplicationEnabled){const n=this._getDeduplicationParams();this._deduplicationService.findDuplicatesOnSaveES(n).subscribe(a=>this._setDuplicatesMessage(a))}else this._deduplicationService.findDuplicatesOnSave({schemaName:"Contact",request:{Name:t}}).subscribe(n=>this._setDuplicatesMessage(n))}openDuplicatesPageClick(t){t.preventDefault(),this._openDuplicatesPage()}onSearchContactDuplicatesClick(t){t.preventDefault(),this.searchContactDuplicates()}onFileSelected(t){const n=t.target.files||[];if(n.length>0&&[...n].forEach(a=>{this._isAttachmentCanBeAdded(a)?this.chosenFiles.push(a):this._overSizeFilesName.push(a.name)}),this._overSizeFilesName.length>0){const a=K.String.format(this._translateService.instant("ChatSettings.ChatWindow.OversizeFiles"),this._overSizeFilesName.join(`
`));this._dialogService.openInfoDialog(a),this._overSizeFilesName=[]}this.inputMessageContainer.nativeElement.focus(),t.target.value=null}removeAttachment(t){const n=t.target.parentNode.getAttribute("file-name");this.chosenFiles=this.chosenFiles.filter(a=>n!==a.name)}onPaste(t){try{const n=t.clipboardData.files[0];if(n){const a=(0,l.formatDate)(n.lastModifiedDate||n.lastModified||new Date,"yyyy-MM-dd_HH-mm-ss","en-US"),o=new File([n],`image_${a}.png`,{type:n.type,lastModified:n.lastModified});this.chosenFiles.push(o)}}catch(n){console.error(n)}}openTransferMenu(){this.isChatTransferred||this.transferChat.openMenu()}onInput(t){this.messageText=t.target.innerText,this.processTemplateSuggestion(),this.cacheInputMessage(this.messageText)}loadNextTemplates(){const t=this.templatesMenu.length,n=this._getTemplateSearchSequence();this._messageTemplateService.getNextTemplates(n,t,5).subscribe(a=>{a.length!==0&&(a.forEach(o=>{this.templatesMenu.find(m=>m.id===o.id)||(this.templatesMenu=[...this.templatesMenu.slice(),o])}),this.ref.detectChanges())})}onTemplateSelected(t){this._insertTemplate(t,this._setInputFocus,this)}onTemplateSelectorClosed(){this._setInputFocus()}showCompleteChatMessage(){!this._isComponentLoaded||this.isChatCompleted||(this.isChatCompleted=!0,this.inputMessageContainer.nativeElement.innerText="",this.statusText=this._getChatClosedStatusText(),this.ref.detectChanges(),this.scrollDown())}_getChatClosedStatusText(){const t=new Date,n=new Intl.DateTimeFormat(this._userInfo.cultureInfo.sysCultureName).format(t),a=(0,d.getUserCultureTimeFormat)(t,this._userInfo.cultureInfo);return this._translateService.instant("ChatSettings.ChatWindow.ChatIsCompleted").replace("{datePart}",n).replace("{timePart}",a)}addMessageToConversation(t){if(!this._isComponentLoaded)return;const n=t.ChatId,a=t.Message;if(n.toLowerCase()===this.chat.id.toLowerCase()){if(a.time=new Date(a.time),a.author){const o=new r.Contact(a.author.id,a.author.name,a.author.photoId);o.email=a.author.email,o.account=a.author.account,a.author=o}this._addNewMessage(a)}}markAsRead(){!this._isComponentLoaded||this.chatService.markAsRead(this.chat.id)}addSystemMessageToConversation(t){this.addMessageToConversation(t)}activateChat(t){this._observer?.disconnect(),this.chat=t.chat,this.ngOnInit()}clearCachedMessage(){this.window.sessionStorage.removeItem(this.chat.id)}cacheInputMessage(t){this.window.sessionStorage.setItem(this.chat.id,t)}isAttachmentDisabled(){return this.chat.channel?.provider?.id.toLowerCase()===r.ChannelType.WhatsApp}onChatTransferred(){this.isChatTransferred=!0}toggleSummary(){this.isSummaryShow=!this.isSummaryShow}}M.CURRENT_CHAT_CACHE_NAME="current_chat_in_conversation",M.\u0275fac=function(t){return new(t||M)(e.\u0275\u0275directiveInject(r.OmnichannelChatService),e.\u0275\u0275directiveInject(d.UserInfo),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(g.TranslateService),e.\u0275\u0275directiveInject(L),e.\u0275\u0275directiveInject(H.DialogService),e.\u0275\u0275directiveInject(U.ProcessEngineService),e.\u0275\u0275directiveInject("messagingSysSettings"),e.\u0275\u0275directiveInject(N),e.\u0275\u0275directiveInject(X.WINDOW_TOKEN),e.\u0275\u0275directiveInject(d.ContactColorService),e.\u0275\u0275directiveInject(e.Injector))},M.\u0275cmp=e.\u0275\u0275defineComponent({type:M,selectors:[["ts-conversation"]],viewQuery:function(t,n){if(t&1&&(e.\u0275\u0275viewQuery(Ne,7),e.\u0275\u0275viewQuery(we,7),e.\u0275\u0275viewQuery(be,7),e.\u0275\u0275viewQuery(_e,5)),t&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.conversationContainer=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.inputMessageContainer=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.templatesList=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.transferChat=a.first)}},inputs:{chat:"chat",isFirstOpen:"isFirstOpen",activeChats:"activeChats"},outputs:{contactClick:"contactClick",accountClick:"accountClick",backClick:"backClick",duplicatesContactsClick:"duplicatesContactsClick"},features:[e.\u0275\u0275NgOnChangesFeature],decls:54,vars:47,consts:[["class","component-mask",4,"ngIf"],[1,"conversation-wrapper"],[1,"contact-info"],[1,"contact-info-header"],["data-item-marker","BackToChatsList",1,"left-arrow",3,"click"],[1,"back-button",3,"click"],[1,"spacer"],["class","close-chat","data-item-marker","CloseChat",3,"libHintOverlay","click",4,"ngIf"],[4,"ngIf","ngIfThen"],["searchDuplicatesButton",""],["searchDuplicatesResult",""],["searchDuplicatesNotFound",""],["target","_blank","class","open-in-facebook","rel","noopener",3,"href",4,"ngIf"],["class","transfer-chat","data-item-marker","TransferChat",3,"libHintOverlay","click",4,"ngIf"],[3,"systemMessageTemplate","transferData","chatTransferred"],["transferChat",""],[1,"header-menu-button",3,"menuItems","cssClasses","menuItemClick"],["class","contact-info-main",4,"ngIf"],[1,"contact-info-separator"],["class","chat-summary",4,"ngIf"],[1,"conversation",3,"id"],["conversationContainer",""],[1,"messages",3,"messages","messagesCounter","chat"],["class","status-row",4,"ngIf"],[1,"scroll-to-down-button",3,"hidden","click"],[1,"footer"],[1,"attachments-wrapper"],["contenteditable","false","class","preview-attachment",4,"ngFor","ngForOf"],[3,"menuItems","loadNext","templateSelected","selectorClosed"],["templatesList",""],[1,"input-wrapper"],[1,"send-attachment-button",3,"ngClass","libHintOverlay"],["data-item-marker","SendAttachment","type","file","name","attachment","multiple","",3,"change"],["data-item-marker","ChatInputField",1,"input-message",3,"input","keydown","paste"],["inputField",""],[1,"chat-message-input-actions-wrapper"],[1,"template-button",3,"click"],[3,"libHintOverlay"],[1,"template-icon"],[1,"send-button-with-spinner"],["data-item-marker","SendMessage",1,"send-button",3,"click"],["class","spin-container",4,"ngIf"],[1,"active-chats-container"],[3,"initialActiveChats","currentChat","chatClick"],[1,"component-mask"],["data-item-marker","CloseChat",1,"close-chat",3,"libHintOverlay","click"],["data-item-marker","SearchDuplicates",1,"search-duplicates",3,"libHintOverlay","click"],[1,"search-duplicates","wide-button",3,"libHintOverlay","click"],[1,"duplicates-count"],[1,"search-duplicates","wide-button",3,"libHintOverlay"],["target","_blank","rel","noopener",1,"open-in-facebook",3,"href"],[1,"tooltip-hint",3,"libHintOverlay"],["data-item-marker","TransferChat",1,"transfer-chat",3,"libHintOverlay","click"],[1,"contact-info-main"],[1,"chat-contact-photo",3,"contact","contactColor"],["alt","",1,"channel-icon",3,"src"],[1,"contact-name",3,"click"],["class","account-info",3,"click",4,"ngIf"],[1,"account-info",3,"click"],[1,"account-icon"],[1,"chat-summary"],[1,"summary-icon-container"],[1,"summary-icon"],[1,"summary-content-container"],[1,"summary-title"],[1,"summary-toggle",3,"click"],[1,"toggle-arrow",3,"ngClass"],["class","summary-items",4,"ngIf"],[1,"summary-items"],[1,"summary-item"],[1,"item-title"],[1,"item-value"],["data-item-marker","ChatSummaryChannelLink","target","_blank",3,"href"],["class","summary-item",4,"ngIf"],[3,"href"],[1,"status-row"],["contenteditable","false",1,"preview-attachment"],[1,"attachment-icon"],[1,"attachment-name"],[1,"attachment-remove",3,"click"],[1,"spin-container"],["r","12","cy","16","cx","16"]],template:function(t,n){if(t&1&&(e.\u0275\u0275template(0,Se,1,0,"ts-mask",0),e.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.\u0275\u0275listener("click",function(){return n.backToChatsList()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275listener("click",function(){return n.backToChatsList()}),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"div",6),e.\u0275\u0275template(9,De,2,3,"div",7),e.\u0275\u0275template(10,je,1,0,"div",8),e.\u0275\u0275template(11,ze,1,0,"div",8),e.\u0275\u0275template(12,Oe,1,0,"div",8),e.\u0275\u0275template(13,ke,2,3,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(15,Pe,4,4,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(17,Le,4,4,"ng-template",null,11,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(19,Ae,3,4,"a",12),e.\u0275\u0275template(20,Ee,2,3,"div",13),e.\u0275\u0275elementStart(21,"ts-chat-transfer",14,15),e.\u0275\u0275listener("chatTransferred",function(){return n.onChatTransferred()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"ts-compact-actions-menu",16),e.\u0275\u0275listener("menuItemClick",function(o){return n.onMenuItemClick(o)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(24,Ye,6,5,"div",17),e.\u0275\u0275element(25,"div",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,Fe,12,12,"div",19),e.\u0275\u0275elementStart(27,"div",20,21),e.\u0275\u0275element(29,"crt-chat-messages",22),e.\u0275\u0275template(30,Re,2,1,"div",23),e.\u0275\u0275elementStart(31,"div",24),e.\u0275\u0275listener("click",function(){return n.scrollDown()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div",25)(33,"div",26),e.\u0275\u0275template(34,Qe,5,2,"label",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"ts-template-selector",28,29),e.\u0275\u0275listener("loadNext",function(){return n.loadNextTemplates()})("templateSelected",function(o){return n.onTemplateSelected(o)})("selectorClosed",function(){return n.onTemplateSelectorClosed()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"div",30)(38,"label",31),e.\u0275\u0275pipe(39,"translate"),e.\u0275\u0275elementStart(40,"input",32),e.\u0275\u0275listener("change",function(o){return n.onFileSelected(o)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(41,"div",33,34),e.\u0275\u0275listener("input",function(o){return n.onInput(o)})("keydown",function(o){return n.onKeyDown(o)})("paste",function(o){return n.onPaste(o)}),e.\u0275\u0275pipe(43,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"div",35)(45,"button",36),e.\u0275\u0275listener("click",function(){return n.openTemplateLookup()}),e.\u0275\u0275elementStart(46,"div",37),e.\u0275\u0275pipe(47,"translate"),e.\u0275\u0275element(48,"span",38),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(49,"div",39)(50,"button",40),e.\u0275\u0275listener("click",function(){return n.sendMessage()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(51,Be,2,0,"svg",41),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(52,"div",42)(53,"ts-active-chats",43),e.\u0275\u0275listener("chatClick",function(o){return n.activateChat(o)}),e.\u0275\u0275elementEnd()()()),t&2){const a=e.\u0275\u0275reference(14),o=e.\u0275\u0275reference(16),s=e.\u0275\u0275reference(18),m=e.\u0275\u0275reference(36);e.\u0275\u0275property("ngIf",n.isLoading),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,35,"ChatSettings.ChatWindow.Actions.Back")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.isChatCompleted&&!n.isChatTransferred),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(n.isFirstOpen||!n.showSearchDuplicatesButton)&&n.contactDuplicatesList.length===0)("ngIfThen",s),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(n.isFirstOpen||!n.showSearchDuplicatesButton)&&n.contactDuplicatesList.length>1)("ngIfThen",o),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.showSearchDuplicatesButton)("ngIfThen",a),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",n.isShownContactSearchButton()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isChatCompleted&&!n.isChatTransferred),e.\u0275\u0275advance(1),e.\u0275\u0275property("systemMessageTemplate",n.messageTemplate)("transferData",e.\u0275\u0275pureFunction1(43,Je,n.chat.chatQueueId)),e.\u0275\u0275advance(2),e.\u0275\u0275property("menuItems",n.getMenuActions())("cssClasses","chat-menu-actions"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.chat.contact),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.chat),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("id","chat_",n.chat.id,""),e.\u0275\u0275advance(2),e.\u0275\u0275property("messages",n.messages)("messagesCounter",n.messagesCounter)("chat",n.chat),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.statusText),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",n.isLastMessageVisible),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.chosenFiles),e.\u0275\u0275advance(1),e.\u0275\u0275property("menuItems",n.templatesMenu),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(45,We,n.isAttachmentDisabled()))("libHintOverlay",n.getHint(e.\u0275\u0275pipeBind1(39,37,"ChatSettings.ChatWindow.AttachFile"))),e.\u0275\u0275advance(3),e.\u0275\u0275attribute("data-placeholder",e.\u0275\u0275pipeBind1(43,39,"ChatSettings.ChatWindow.NewMessagePlaceholder"))("contenteditable",!n.isChatCompleted&&!n.isChatTransferred),e.\u0275\u0275advance(5),e.\u0275\u0275property("libHintOverlay",n.getHint(e.\u0275\u0275pipeBind1(47,41,"MessageTemplate.QuickSearchHint"))),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("template-icon-active",m.isMenuShown),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.isSending),e.\u0275\u0275advance(2),e.\u0275\u0275property("initialActiveChats",n.activeChats)("currentChat",n.chat)}},dependencies:[l.NgClass,l.NgForOf,l.NgIf,r.ContactPhotoComponent,r.CompactActionsMenuComponent,H.MaskComponent,d.HintOverlayDirective,r.CrtChatMessagesComponent,A,E,_,g.TranslatePipe],styles:['@charset "UTF-8";  .mat-table,   .mat-option-text{font-family:Open Sans,serif}  ts-lookup-dialog .mat-button-base.mat-primary{background-color:#006ce0}  .omnichat-tooltip-hint{margin:0 30px;min-width:60px;max-width:300px;display:inline-block;align-items:center;background:#fff;position:relative;width:max-content;color:#757575;border-radius:50px;border:none;z-index:1;font-size:11px;padding:5px;box-shadow:none;top:10px;text-align:center}  .actions-menu-panel.chat-menu-actions .mat-menu-content mat-divider{margin:0}  .actions-menu-panel.chat-menu-actions .mat-menu-content .menu-divider-caption{text-transform:initial}.conversation-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;font-family:Open Sans,sans-serif}.conversation-wrapper[_ngcontent-%COMP%]   .contact-info-separator[_ngcontent-%COMP%]{width:calc(100% - 30px);text-align:center;border-bottom:1px solid #e3e6ec;line-height:.1em;margin:17px 0 5px 17px}.conversation[_ngcontent-%COMP%]{padding:0 15px;height:100%;overflow-y:auto;flex-grow:1}.conversation[_ngcontent-%COMP%]   .status-row[_ngcontent-%COMP%]{font-family:Open Sans,serif;font-size:11px;text-align:center;color:#999;margin-top:17px}.scroll-to-down-button[_ngcontent-%COMP%]{height:25px;width:25px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij48ZGVmcz48c3R5bGU+LmEsLmIsLmR7ZmlsbDpub25lO30uYSwuYntzdHJva2U6IzgwOTViMzt9LmJ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fS5je3N0cm9rZTpub25lO308L3N0eWxlPjwvZGVmcz48ZyBjbGFzcz0iYSI+PGNpcmNsZSBjbGFzcz0iYyIgY3g9IjEyLjUiIGN5PSIxMi41IiByPSIxMi41Ii8+PGNpcmNsZSBjbGFzcz0iZCIgY3g9IjEyLjUiIGN5PSIxMi41IiByPSIxMiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS4yNSAxNi4xNikgcm90YXRlKC05MCkiPjxsaW5lIGNsYXNzPSJiIiB4MT0iOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMzQgMS4yNSkiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTIxMzIuNDc3LDMxMS4xODNsLTQtNCw0LTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMTI4LjgxNyAtMzA1LjkzMikiLz48L2c+PC9zdmc+);background-color:#fff;border-radius:50%;position:sticky;bottom:0;right:0;float:right;cursor:pointer}.message-author[_ngcontent-%COMP%]{margin-bottom:-13px;margin-top:17px}.contact-info[_ngcontent-%COMP%]{line-height:24px;padding-bottom:7px}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]{display:flex}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]   .pseudo-position[_ngcontent-%COMP%]{position:relative;width:0;height:0}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]   .wide-button[_ngcontent-%COMP%]{width:auto;padding-right:12px;padding-left:32px;background-position:12px center!important}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]   .left-arrow[_ngcontent-%COMP%]{display:block;height:24px;width:24px;border-radius:12px;background-repeat:no-repeat;background-position:center;background-size:16px;margin-left:9px;cursor:pointer;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmEsLmIsLmN7ZmlsbDpub25lO30uYiwuY3tzdHJva2U6IzAwNmNlMDt9LmJ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjMwMyAtMC4zMDQpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjE0OSAwLjE0OSkiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMTU1IDAuMTU1KSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguOTIxIDkuMjcxKSI+PHBhdGggY2xhc3M9ImIiIGQ9Ik0tMjAyLjU1Niw4MTUuMDY4djQuODYzaDUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcxNy43NTQgLTQzNy4yMjkpIHJvdGF0ZSg0NSkiLz48L2c+PHBhdGggY2xhc3M9ImMiIGQ9Ik0tMjA2LDgxNy43OTJoNy44MzkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxMC41NDEgLTgwOS4xMzcpIi8+PC9nPjwvZz48L3N2Zz4)}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{cursor:pointer;color:#006ce0;font-size:12px}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]   .close-chat[_ngcontent-%COMP%]{display:block;height:24px;width:24px;border-radius:12px;background-repeat:no-repeat;background-position:center;background-size:16px;margin-left:9px;cursor:pointer;background-size:11px;background-position-y:calc(50% + 1px);background-color:#009688;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMi43MDciIHZpZXdCb3g9IjAgMCAxMiAxMi43MDciPjxkZWZzPjxzdHlsZT4uYXtmaWxsOiNmZmY7c3Ryb2tlOiNmZmY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fS5ie2ZpbGw6IzAwOTY4ODtmaWxsLXJ1bGU6ZXZlbm9kZDt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC41IDAuNSkiPjxwYXRoIGNsYXNzPSJhIiBkPSJNLTM4Ny42ODUsMzgyLjcyNmgyLjUzOHYyLjUzOGwyLjUzOC0yLjUzOGg1LjkyM3YtOC40NjJoLTExWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzg3LjY4NSAtMzc0LjI2NCkiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTEyODguNzQxLDQ3My43MDlhLjU4NC41ODQsMCwwLDAtLjgyNywwbC0yLjcxOSwyLjctMS0xYS41ODUuNTg1LDAsMCwwLS44My44MjRsMS40MDcsMS40MTZhLjU4Ny41ODcsMCwwLDAsLjgyNiwwbDMuMTM0LTMuMTA4YS41ODMuNTgzLDAsMCwwLDAtLjgyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyNzkuNzAxIC00NzEuMjU1KSIvPjwvZz48L3N2Zz4)}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]   .search-duplicates[_ngcontent-%COMP%]{display:block;height:24px;width:24px;border-radius:12px;background-repeat:no-repeat;background-position:center;background-size:16px;margin-left:9px;cursor:pointer;width:auto;min-width:24px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNi4zNTMiIHZpZXdCb3g9IjAgMCAxNiAxNi4zNTMiPjxkZWZzPjxzdHlsZT4uYXtmaWxsOiNmZmY7fS5hLC5ie3N0cm9rZTojZmZmO3N0cm9rZS1taXRlcmxpbWl0OjEwO30uYiwuY3tmaWxsOm5vbmU7fS5ke3N0cm9rZTpub25lO308L3N0eWxlPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDAuNSkiPjxwYXRoIGNsYXNzPSJhIiBkPSJNLTQ1My4wNDgsNDg0LjkzNWgtNS41YTUuOTkzLDUuOTkzLDAsMCwxLDYuMjUtNC44ODEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ1OC41NDggLTQ3MS45MzUpIi8+PGNpcmNsZSBjbGFzcz0iYSIgY3g9IjMiIGN5PSIzIiByPSIzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzKSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYuNSA4KSI+PGcgY2xhc3M9ImEiPjxjaXJjbGUgY2xhc3M9ImQiIGN4PSIzIiBjeT0iMyIgcj0iMyIvPjxjaXJjbGUgY2xhc3M9ImMiIGN4PSIzIiBjeT0iMyIgcj0iMi41Ii8+PC9nPjxsaW5lIGNsYXNzPSJiIiB4Mj0iMyIgeTI9IjMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuNSA0LjUpIi8+PC9nPjwvZz48cmVjdCBjbGFzcz0iYyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+PC9zdmc+);background-color:#604edc}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]   .search-duplicates[_ngcontent-%COMP%]   .duplicates-count[_ngcontent-%COMP%]{color:#fff;line-height:24px;font-size:12px}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]   .transfer-chat[_ngcontent-%COMP%]{display:block;height:24px;width:24px;border-radius:12px;background-repeat:no-repeat;background-position:center;margin-left:9px;cursor:pointer;background-size:16px;background-color:#05a9f3;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmEsLmN7ZmlsbDojZmZmO30uYSwuYntzdHJva2U6I2ZmZjtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmIsLmR7ZmlsbDpub25lO308L3N0eWxlPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NTkuNTQ4IC00NzEuNDM1KSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik0tNDUzLjA0OCw0ODQuOTM1aC01LjVhNS45OTMsNS45OTMsMCwwLDEsNi4yNS00Ljg4MSIvPjxjaXJjbGUgY2xhc3M9ImEiIGN4PSIzIiBjeT0iMyIgcj0iMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ1NS41NDggNDcxLjkzNSkiLz48cGF0aCBjbGFzcz0iYiIgZD0iTS01NTQuNDc3LDQ4Mi4wMDdhMy4yNCwzLjI0LDAsMCwwLC43ODEsMy4zMjQsMy4yMzcsMy4yMzcsMCwwLDAsNC41NzksMCwzLjIzOSwzLjIzOSwwLDAsMCwwLTQuNTc5LDMuMjI3LDMuMjI3LDAsMCwwLTIuNDY5LS45NDQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMy4wOTcgMC40MzEpIi8+PHBhdGggY2xhc3M9ImMiIGQ9Ik0tNTUwLjU2NSw0NzhsLTMsMiwzLDJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDMuMDE4IDAuNDMxKSIvPjwvZz48cmVjdCBjbGFzcz0iZCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+PC9zdmc+)}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]   .open-in-facebook[_ngcontent-%COMP%]{display:block;height:24px;width:24px;border-radius:12px;background-repeat:no-repeat;background-position:center;background-size:16px;margin-left:9px;cursor:pointer;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE2IDE2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTkuMzIsMTYuMDJ2LTguMWgyLjE5YzAuMTMtMC44OSwwLjI0LTEuNzksMC4zNS0yLjY4SDkuMzJjMC0wLjA2LTAuMDItMS4zOCwwLTEuOTkNCgljMC0wLjI4LDAuMTgtMC41MSwwLjQzLTAuNjdjMC4xNC0wLjEsMC4zLTAuMTYsMC40OS0wLjE0YzAuMjYsMCwxLjQtMC4wMiwxLjY5LTAuMDJ2LTIuNGMtMC4wNiwwLTAuMSwwLTAuMTQsMA0KCWMtMC42OSwwLTEuNCwwLTIuMDksMGMtMC40MywwLTAuODUsMC4wNi0xLjI0LDAuMjJjLTAuNTEsMC4yMi0wLjkxLDAuNTUtMS4yNiwxQzYuOTQsMS41OCw2Ljc2LDEuOTUsNi42OCwyLjM2DQoJQzYuNjQsMi41OCw2LjYyLDIuOCw2LjYyLDMuMDVjMCwwLjY3LDAsMi4xNSwwLDIuMTVjLTAuMDYsMC0yLjE3LDAuMDItMi4yMSwwLjAyYzAsMC44NywwLDEuNzcsMCwyLjY0YzAuNDEsMCwxLjgxLDAsMi4wOSwwDQoJYzAuMDgsMCwwLjEyLDAuMDIsMC4xMiwwLjEyYzAsMC4wNiwwLDguMDQsMCw4LjA0Ii8+DQo8L3N2Zz4);background-color:#006ce0}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]   .header-menu-button[_ngcontent-%COMP%]{padding:5px}.contact-info[_ngcontent-%COMP%]   .contact-info-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 auto}.contact-info[_ngcontent-%COMP%]   .contact-info-main[_ngcontent-%COMP%]{text-align:center}.contact-info[_ngcontent-%COMP%]   .contact-info-main[_ngcontent-%COMP%]     .chat-contact-photo .contact-photo{width:48px;height:48px;border-radius:50%;cursor:auto;right:1.3em;line-height:2.7em;font-size:1.8em}.contact-info[_ngcontent-%COMP%]   .contact-info-main[_ngcontent-%COMP%]     .chat-contact-photo .channel-icon{display:inline-block;background:white;border-radius:50%;width:18px;height:18px;padding:1px;position:relative;right:1.3em;bottom:-1.8em}.contact-info[_ngcontent-%COMP%]   .contact-info-main[_ngcontent-%COMP%]     .chat-contact-photo img.contact-photo+.channel-icon{bottom:0}.contact-info[_ngcontent-%COMP%]   .contact-info-main[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{color:#006ce0;font-size:22px;padding-top:8px;cursor:pointer}.contact-info[_ngcontent-%COMP%]   .contact-info-main[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]{font-size:12px;color:#757575}.contact-info[_ngcontent-%COMP%]   .contact-info-main[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon[_ngcontent-%COMP%]{height:16px;width:16px;display:inline-block;margin-bottom:-2px;background-repeat:no-repeat;background-position:center;background-size:16px;cursor:pointer;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZmO30uYntmaWxsOm5vbmU7c3Ryb2tlOiMwMDZjZTA7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNDc2IC0xNDQpIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDc2IDE0NCkiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTAsMCwzLjQ5MSwzLjQzNiwwLDYuODY0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDgwLjc1NSAxNTAuMjU2KSIvPjwvZz48L3N2Zz4)}.contact-info[_ngcontent-%COMP%]   .contact-info-main[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon[_ngcontent-%COMP%]:hover{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZmO30uYntmaWxsOm5vbmU7c3Ryb2tlOiMwMDZjZTA7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNDc2IC0xNDQpIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDc2IDE0NCkiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTAsMCwzLjQ5MSwzLjQzNiwwLDYuODY0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDg0LjUwOSAxNTAuMjU2KSIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNMCwwLDMuNDkxLDMuNDM2LDAsNi44NjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0ODAgMTUwLjI1NikiLz48L2c+PC9zdmc+)}.contact-info[_ngcontent-%COMP%]   .contact-info-main[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]:hover{color:#006ce0;cursor:pointer}.contact-info[_ngcontent-%COMP%]   .contact-info-main[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]:hover   .account-icon[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZmO30uYntmaWxsOm5vbmU7c3Ryb2tlOiMwMDZjZTA7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNDc2IC0xNDQpIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDc2IDE0NCkiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTAsMCwzLjQ5MSwzLjQzNiwwLDYuODY0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDg0LjUwOSAxNTAuMjU2KSIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNMCwwLDMuNDkxLDMuNDM2LDAsNi44NjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0ODAgMTUwLjI1NikiLz48L2c+PC9zdmc+)}.footer[_ngcontent-%COMP%]{margin-left:17px}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-grow:.1;margin-top:10px;margin-bottom:20px}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-message[_ngcontent-%COMP%]{border:1px solid #c8c8c8;border-radius:15px;margin:5px 10px 0 6px;width:100%;resize:none;outline:none;min-height:32px;max-height:212px;overflow:auto;color:#181818;font-size:14px;font-family:Open Sans,serif;-moz-appearance:textfield;background-color:#eaedf3;background-color:-moz-field;padding:5px 26px 8px 8px;scrollbar-width:thin;-moz-margin-end:-5px}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-message[_ngcontent-%COMP%]:before{content:"\\feff"}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-message[_ngcontent-%COMP%]:empty:before{content:attr(data-placeholder);color:#757575;font-size:12px;padding-top:5px}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-message[_ngcontent-%COMP%]:empty:focus:before{content:""}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-message[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:5px;height:5px}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-message[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-button-with-spinner[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:flex-start;min-width:36px;max-width:36px;margin-left:-15px;-moz-margin-start:-5px}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-button-with-spinner[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{padding:5px 12px;border:0;color:#fff;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO30uYiwuZHtmaWxsOiMwMDZjZTA7fS5ie3N0cm9rZS1saW5lY2FwOnJvdW5kO30uYywuZHtzdHJva2U6bm9uZTt9PC9zdHlsZT48L2RlZnM+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPjxnIGNsYXNzPSJiIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNTE3Ljg0OSAxLjM0NSkiPjxwYXRoIGNsYXNzPSJjIiBkPSJNIC0yNTE2LjgzOTExMTMyODEyNSAxMy42MjYxNDE1NDgxNTY3NCBMIC0yNTE2LjUxMzY3MTg3NSAxMi4yOTI2MTMwMjk0Nzk5OCBMIC0yNTE2LjUwMDk3NjU2MjUgMTIuMjQwMDUzMTc2ODc5ODggTCAtMjUxNi40OTk3NTU4NTkzNzUgMTIuMTg1OTczMTY3NDE5NDMgTCAtMjUxNi4zOTk2NTgyMDMxMjUgNy45Njc4MTE1ODQ0NzI2NTYgTCAtMjUxMC40MjI4NTE1NjI1IDcuMjYwNTQzMzQ2NDA1MDI5IEwgLTI1MTAuNDIyODUxNTYyNSA2LjI2NzQ2MzIwNzI0NDg3MyBMIC0yNTE2LjM5OTY1ODIwMzEyNSA1LjU2MDE5NDk2OTE3NzI0NiBMIC0yNTE2LjQ5OTc1NTg1OTM3NSAxLjM0MjAzMzI2NzAyMTE3OSBMIC0yNTE2LjUwMDk3NjU2MjUgMS4yODc5NTMyNTc1NjA3MyBMIC0yNTE2LjUxMzY3MTg3NSAxLjIzNTM5MzI4NTc1MTM0MyBMIC0yNTE2LjgzNjE4MTY0MDYyNSAtMC4wODY3NTA0NzAxMDE4MzMzNCBDIC0yNTExLjc4OTMwNjY0MDYyNSAyLjM2MjkzNDgyNzgwNDU2NSAtMjUwNS4wODY5MTQwNjI1IDUuNjU1MzkxMjE2Mjc4MDc2IC0yNTAzLjAxNDg5MjU3ODEyNSA2Ljc3MDQ1Mjk3NjIyNjgwNyBDIC0yNTA0LjE5MjEzODY3MTg3NSA3LjQ0MDAxOTYwNzU0Mzk0NSAtMjUwNy41MzY2MjEwOTM3NSA5LjIwNzkxMDUzNzcxOTcyNyAtMjUxNi44MzkxMTEzMjgxMjUgMTMuNjI2MTQxNTQ4MTU2NzQgWiIvPjxwYXRoIGNsYXNzPSJkIiBkPSJNIC0yNTE2LjEwNDAwMzkwNjI1IDEyLjcyMjk1NDc1MDA2MTA0IEMgLTI1MDkuMDA5Mjc3MzQzNzUgOS4zNDM5NDgzNjQyNTc4MTMgLTI1MDUuNjQ3NDYwOTM3NSA3LjYzMTU5NzA0MjA4Mzc0IC0yNTA0LjA2NzM4MjgxMjUgNi43ODI1NTcwMTA2NTA2MzUgQyAtMjUwNi41NTU5MDgyMDMxMjUgNS40OTY4NDM4MTQ4NDk4NTQgLTI1MTEuODU2Njg5NDUzMTI1IDIuODkxMjE5MTM5MDk5MTIxIC0yNTE2LjA5ODYzMjgxMjUgMC44Mjc3MTUwMzkyNTMyMzQ5IEwgLTI1MTYuMDI4MDc2MTcxODc1IDEuMTE2ODkzMjkxNDczMzg5IEwgLTI1MTYuMDAyNDQxNDA2MjUgMS4yMjIwMTMyMzUwOTIxNjMgTCAtMjUxNS45OTk3NTU4NTkzNzUgMS4zMzAxNzMyNTQwMTMwNjIgTCAtMjUxNS45MDk5MTIxMDkzNzUgNS4xMTQ2NDY0MzQ3ODM5MzYgTCAtMjUxMC4zNjQyNTc4MTI1IDUuNzcwOTMzMTUxMjQ1MTE3IEwgLTI1MTAuMzY0MjU3ODEyNSA3Ljc1NzA3MzQwMjQwNDc4NSBMIC0yNTE1LjkwOTkxMjEwOTM3NSA4LjQxMzM1OTY0MjAyODgwOSBMIC0yNTE1Ljk5OTc1NTg1OTM3NSAxMi4xOTc4MzMwNjEyMTgyNiBMIC0yNTE2LjAwMjQ0MTQwNjI1IDEyLjMwNTk5MzA4MDEzOTE2IEwgLTI1MTYuMDI4MDc2MTcxODc1IDEyLjQxMTExMzczOTAxMzY3IEwgLTI1MTYuMTA0MDAzOTA2MjUgMTIuNzIyOTU0NzUwMDYxMDQgTSAtMjUxNy41NzM3MzA0Njg3NSAxNC41MjgwMDM2OTI2MjY5NSBMIC0yNTE2Ljk5OTUxMTcxODc1IDEyLjE3NDExMzI3MzYyMDYxIEwgLTI1MTYuODg5MTYwMTU2MjUgNy41MjIyNTM1MTMzMzYxODIgTCAtMjUxMC40ODE2ODk0NTMxMjUgNi43NjQwMDMyNzY4MjQ5NTEgTCAtMjUxNi44ODkxNjAxNTYyNSA2LjAwNTc1MzA0MDMxMzcyMSBMIC0yNTE2Ljk5OTUxMTcxODc1IDEuMzUzODkzMjgwMDI5Mjk3IEwgLTI1MTcuNTczNzMwNDY4NzUgLTAuOTk5OTk2NzIxNzQ0NTM3NCBDIC0yNTE3LjU3MzczMDQ2ODc1IC0wLjk5OTk5NjcyMTc0NDUzNzQgLTI1MDIuMTgxMzk2NDg0Mzc1IDYuNDU1MjYzMTM3ODE3MzgzIC0yNTAyLjA2NzM4MjgxMjUgNi43NjAxNTMyOTM2MDk2MTkgTCAtMjUwMi4wNjQ5NDE0MDYyNSA2Ljc2MDE1MzI5MzYwOTYxOSBMIC0yNTAyLjA2Mzk2NDg0Mzc1IDYuNzYwMTUzMjkzNjA5NjE5IEwgLTI1MDIuMDY0NDUzMTI1IDYuNzYwNTUzMzU5OTg1MzUyIEMgLTI1MDIuMDY0OTQxNDA2MjUgNi43NjE3MDM0OTEyMTA5MzggLTI1MDIuMDY1NDI5Njg3NSA2Ljc2Mjg1MzE0NTU5OTM2NSAtMjUwMi4wNjU5MTc5Njg3NSA2Ljc2NDAwMzI3NjgyNDk1MSBDIC0yNTAyLjA2NTQyOTY4NzUgNi43NjUxNDMzOTQ0NzAyMTUgLTI1MDIuMDY0OTQxNDA2MjUgNi43NjYzMDMwNjI0Mzg5NjUgLTI1MDIuMDY0NDUzMTI1IDYuNzY3NDUzMTkzNjY0NTUxIEwgLTI1MDIuMDYzOTY0ODQzNzUgNi43Njc4NTMyNjAwNDAyODMgTCAtMjUwMi4wNjQ5NDE0MDYyNSA2Ljc2Nzg1MzI2MDA0MDI4MyBMIC0yNTAyLjA2NzM4MjgxMjUgNi43Njc4NTMyNjAwNDAyODMgQyAtMjUwMi4wNjczODI4MTI1IDYuNzY3ODUzMjYwMDQwMjgzIC0yNTAyLjcwMTkwNDI5Njg3NSA3LjQ4MzMzMzExMDgwOTMyNiAtMjUxNy41NzM3MzA0Njg3NSAxNC41MjgwMDM2OTI2MjY5NSBaIi8+PC9nPjwvc3ZnPg);margin-right:0;margin-top:3px;margin-left:3px;display:block;cursor:pointer;outline:0;width:16px;min-width:16px;height:16px;background-repeat:no-repeat;background-color:transparent;align-self:center}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-button-with-spinner[_ngcontent-%COMP%]   .spin-container[_ngcontent-%COMP%]{width:32px;height:32px;position:relative;animation:_ngcontent-%COMP%_sendSpin 2s infinite;top:2px;left:-34px;display:inline;flex:none}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-button-with-spinner[_ngcontent-%COMP%]   .spin-container[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:none;stroke-width:1;stroke:#006ce0;stroke-linecap:round;animation:_ngcontent-%COMP%_fillSpin 2s linear infinite}@keyframes _ngcontent-%COMP%_sendSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fillSpin{0%{stroke-dashoffset:0;stroke-dasharray:0 100}to{stroke-dashoffset:0;stroke-dasharray:100 0}}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-attachment-button[_ngcontent-%COMP%]{width:16px;min-width:16px;height:16px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmEsLmJ7ZmlsbDpub25lO30uYXtzdHJva2U6IzI4NDU3ODtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMi4xNjQgMS40MSkiPjxwYXRoIGNsYXNzPSJhIiBkPSJNLTIzOS4wNDYsNDEwLjEwNmwtNS41LDUuNDM1YTEuNDUxLDEuNDUxLDAsMCwwLDAsMiwxLjQ1MiwxLjQ1MiwwLDAsMCwyLDBsNi41NzQtNi40OWEyLjIsMi4yLDAsMCwwLDAtM2gwYTIuMiwyLjIsMCwwLDAtMywwbC03LjQ4Miw3LjU1YTIuOTM1LDIuOTM1LDAsMCwwLC4zMjYsMy40NCwyLjU2OCwyLjU2OCwwLDAsMCw0LjA4MiwwYzEuMjA5LTEuMjA5LDYtNS45OSw2LTUuOTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0Ni44ODIgLTQwNy40NjEpIi8+PC9nPjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz48L3N2Zz4);display:block;cursor:pointer;margin-bottom:8px}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-attachment-button[_ngcontent-%COMP%]:hover{background-image:url(data:image/svg+xml;base64,PHN2ZyBpZD0iQ29tcG9uZW50XzcxNl8xIiBkYXRhLW5hbWU9IkNvbXBvbmVudCA3MTYg4oCTIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxnIGlkPSJHcm91cF81Nzg0IiBkYXRhLW5hbWU9Ikdyb3VwIDU3ODQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIuMTY1IDEuNDEpIj4KICAgIDxnIGlkPSJHcm91cF81NzgzIiBkYXRhLW5hbWU9Ikdyb3VwIDU3ODMiPgogICAgICA8cGF0aCBpZD0iUGF0aF80MjkyIiBkYXRhLW5hbWU9IlBhdGggNDI5MiIgZD0iTS0yMzkuMDQ2LDQxMC4xMDZsLTUuNSw1LjQzNWExLjQ1MSwxLjQ1MSwwLDAsMCwwLDIsMS40NTIsMS40NTIsMCwwLDAsMiwwbDYuNTc0LTYuNDlhMi4yLDIuMiwwLDAsMCwwLTNoMGEyLjIsMi4yLDAsMCwwLTMsMGwtNy40ODIsNy41NWEyLjkzNSwyLjkzNSwwLDAsMCwuMzI2LDMuNDQsMi41NjgsMi41NjgsMCwwLDAsNC4wODIsMGMxLjIwOS0xLjIwOSw2LTUuOTksNi01Ljk5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNDYuODgyIC00MDcuNDYxKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDA2Y2UwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPC9nPgogIDwvZz4KICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzUwMzkiIGRhdGEtbmFtZT0iUmVjdGFuZ2xlIDUwMzkiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4)}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-attachment-button[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.footer[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-attachment-button.disabled-attachment[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbl9hZGRfbmEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiPg0KICA8ZyBpZD0iR3JvdXBfNzM2MyIgZGF0YS1uYW1lPSJHcm91cCA3MzYzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNDkuMDQ2IC00MDYuMDUpIj4NCiAgICA8ZyBpZD0iR3JvdXBfNzM2MiIgZGF0YS1uYW1lPSJHcm91cCA3MzYyIj4NCiAgICAgIDxwYXRoIGlkPSJQYXRoXzY5MTYiIGRhdGEtbmFtZT0iUGF0aCA2OTE2IiBkPSJNLTIzOS4wNDYsNDEwLjEwN2wtNS41LDUuNDM0YTEuNDUxLDEuNDUxLDAsMCwwLDAsMiwxLjQ1MiwxLjQ1MiwwLDAsMCwyLDBsNi41NzQtNi40OTFhMi4yLDIuMiwwLDAsMCwwLTNoMGEyLjIsMi4yLDAsMCwwLTMsMGwtNy40ODIsNy41NTFhMi45MzUsMi45MzUsMCwwLDAsLjMyNiwzLjQ0LDIuNTY4LDIuNTY4LDAsMCwwLDQuMDgyLDBjMS4yMDktMS4yMDksNi01Ljk5MSw2LTUuOTkxIiBmaWxsPSJub25lIiBzdHJva2U9IiM5OTkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogICAgPC9nPg0KICA8L2c+DQogIDxyZWN0IGlkPSJSZWN0YW5nbGVfNjQzMyIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgNjQzMyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJub25lIi8+DQo8L3N2Zz4NCg==);cursor:default;pointer-events:none}.footer[_ngcontent-%COMP%]   .chat-message-input-actions-wrapper[_ngcontent-%COMP%]{position:relative;right:38px;top:-6px}.footer[_ngcontent-%COMP%]   .chat-message-input-actions-wrapper[_ngcontent-%COMP%]   .template-button[_ngcontent-%COMP%]{border:0;background:transparent;width:16px;height:16px;padding:0}.footer[_ngcontent-%COMP%]   .chat-message-input-actions-wrapper[_ngcontent-%COMP%]   .template-button[_ngcontent-%COMP%]:focus{outline:none}.footer[_ngcontent-%COMP%]   .chat-message-input-actions-wrapper[_ngcontent-%COMP%]   .template-icon[_ngcontent-%COMP%]{width:16px;height:16px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmEsLmJ7ZmlsbDpub25lO30uYXtzdHJva2U6IzgwOTViMztzdHJva2UtbWl0ZXJsaW1pdDoxMDt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC41IDEuNSkiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iMTUiIGhlaWdodD0iMTMiIHJ4PSIxIi8+PGxpbmUgY2xhc3M9ImEiIHgyPSIxNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA0KSIvPjxsaW5lIGNsYXNzPSJhIiB4Mj0iMTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIgMikiLz48bGluZSBjbGFzcz0iYSIgeTI9IjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQgNC41KSIvPjxsaW5lIGNsYXNzPSJhIiB4Mj0iNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiA3KSIvPjxsaW5lIGNsYXNzPSJhIiB4Mj0iNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiAxMCkiLz48L2c+PHJlY3QgY2xhc3M9ImIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPjwvc3ZnPg==);display:inline-block;cursor:pointer}.footer[_ngcontent-%COMP%]   .chat-message-input-actions-wrapper[_ngcontent-%COMP%]   .template-icon[_ngcontent-%COMP%]:hover{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmEsLmJ7ZmlsbDpub25lO30uYXtzdHJva2U6IzAwNmNlMDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE2MDYgLTc2OCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MDYuNSA3NjkuNSkiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iMTUiIGhlaWdodD0iMTMiIHJ4PSIxIi8+PGxpbmUgY2xhc3M9ImEiIHgyPSIxNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA0KSIvPjxsaW5lIGNsYXNzPSJhIiB4Mj0iMTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIgMikiLz48bGluZSBjbGFzcz0iYSIgeTI9IjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQgNC41KSIvPjxsaW5lIGNsYXNzPSJhIiB4Mj0iNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiA3KSIvPjxsaW5lIGNsYXNzPSJhIiB4Mj0iNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiAxMCkiLz48L2c+PHJlY3QgY2xhc3M9ImIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYwNiA3NjgpIi8+PC9nPjwvc3ZnPg==)}.footer[_ngcontent-%COMP%]   .chat-message-input-actions-wrapper[_ngcontent-%COMP%]   .template-icon-active[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmEsLmJ7ZmlsbDpub25lO30uYXtzdHJva2U6IzAwNmNlMDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE2MDYgLTc2OCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MDYuNSA3NjkuNSkiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iMTUiIGhlaWdodD0iMTMiIHJ4PSIxIi8+PGxpbmUgY2xhc3M9ImEiIHgyPSIxNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA0KSIvPjxsaW5lIGNsYXNzPSJhIiB4Mj0iMTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIgMikiLz48bGluZSBjbGFzcz0iYSIgeTI9IjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQgNC41KSIvPjxsaW5lIGNsYXNzPSJhIiB4Mj0iNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiA3KSIvPjxsaW5lIGNsYXNzPSJhIiB4Mj0iNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiAxMCkiLz48L2c+PHJlY3QgY2xhc3M9ImIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYwNiA3NjgpIi8+PC9nPjwvc3ZnPg==)}.footer[_ngcontent-%COMP%]   .attachments-wrapper[_ngcontent-%COMP%]{max-height:100px;overflow:auto;margin-left:15px}.footer[_ngcontent-%COMP%]   .attachments-wrapper[_ngcontent-%COMP%]   .preview-attachment[_ngcontent-%COMP%]{border:1px solid gray;display:flex;overflow:hidden;border-radius:10px;align-items:center;margin:2px 5px 2px 10px}.footer[_ngcontent-%COMP%]   .attachments-wrapper[_ngcontent-%COMP%]   .preview-attachment[_ngcontent-%COMP%]   .attachment-icon[_ngcontent-%COMP%]{width:16px;min-width:16px;height:16px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojNmNjOGM1O30uYntmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcuMjYzIC0xNy44MSkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03LjI2MyAxNy44MSkiPjxwYXRoIGNsYXNzPSJhIiBkPSJNMCwwSDE2VjE2SDBaIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMi4yNjMgMy4xOSkiPjxwYXRoIGNsYXNzPSJiIiBkPSJNNDYsMjhoM3Y1SDQ2WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQwIC0yNSkiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTQ2LDIzLjkyMlYyM2g1djYuODg1SDQ5LjkyMVYyMy45MjJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDAgLTIxLjkxMykiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTEzLDIxLjg4OVYxNC4xMTFMMTgsMTNWMjNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTMgLTEzKSIvPjwvZz48L2c+PC9nPjwvc3ZnPg==);margin:0 0 0 10px}.footer[_ngcontent-%COMP%]   .attachments-wrapper[_ngcontent-%COMP%]   .preview-attachment[_ngcontent-%COMP%]   .attachment-remove[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE0IDE0Ij48ZGVmcz48c3R5bGU+LmEsLmJ7ZmlsbDpub25lO30uYntzdHJva2U6I2I1YjViNTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9PC9zdHlsZT48L2RlZnM+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIvPjxsaW5lIGNsYXNzPSJiIiB5MT0iOCIgeDI9IjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMgMykiLz48bGluZSBjbGFzcz0iYiIgeDI9IjgiIHkyPSI4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDMpIi8+PC9zdmc+);margin:2px 10px 0 0;width:16px;min-width:16px;height:16px;cursor:pointer}.footer[_ngcontent-%COMP%]   .attachments-wrapper[_ngcontent-%COMP%]   .preview-attachment[_ngcontent-%COMP%]   .attachment-name[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:pre;overflow:hidden;margin:5px;font-size:13px}.chat-summary[_ngcontent-%COMP%]{display:flex;padding-left:15px;margin-bottom:8px}.chat-summary[_ngcontent-%COMP%]   .summary-icon-container[_ngcontent-%COMP%]{padding-right:12px}.chat-summary[_ngcontent-%COMP%]   .summary-icon-container[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{width:32px;height:32px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZmO30uYiwuY3tmaWxsOm5vbmU7c3Ryb2tlOiMwMDZjZTA7fS5ie3N0cm9rZS1taXRlcmxpbWl0OjEwO30uZCwuZXtzdHJva2U6bm9uZTt9LmV7ZmlsbDojZjNmM2YzO308L3N0eWxlPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTI0OCAtMTg2KSI+PGcgY2xhc3M9ImEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyNDggMTg2KSI+PHBhdGggY2xhc3M9ImQiIGQ9Ik0gMTYgMzEuNSBDIDExLjg1OTgwMDMzODc0NTEyIDMxLjUgNy45Njc0MTAwODc1ODU0NDkgMjkuODg3NzIwMTA4MDMyMjMgNS4wMzk4NDAyMjE0MDUwMjkgMjYuOTYwMTU5MzAxNzU3ODEgQyAyLjExMjI3OTg5MTk2Nzc3MyAyNC4wMzI1OTA4NjYwODg4NyAwLjUgMjAuMTQwMTk5NjYxMjU0ODggMC41IDE2IEMgMC41IDExLjg1OTgwMDMzODc0NTEyIDIuMTEyMjc5ODkxOTY3NzczIDcuOTY3NDEwMDg3NTg1NDQ5IDUuMDM5ODQwMjIxNDA1MDI5IDUuMDM5ODQwMjIxNDA1MDI5IEMgNy45Njc0MTAwODc1ODU0NDkgMi4xMTIyNzk4OTE5Njc3NzMgMTEuODU5ODAwMzM4NzQ1MTIgMC41IDE2IDAuNSBDIDIwLjE0MDE5OTY2MTI1NDg4IDAuNSAyNC4wMzI1OTA4NjYwODg4NyAyLjExMjI3OTg5MTk2Nzc3MyAyNi45NjAxNTkzMDE3NTc4MSA1LjAzOTg0MDIyMTQwNTAyOSBDIDI5Ljg4NzcyMDEwODAzMjIzIDcuOTY3NDEwMDg3NTg1NDQ5IDMxLjUgMTEuODU5ODAwMzM4NzQ1MTIgMzEuNSAxNiBDIDMxLjUgMjAuMTQwMTk5NjYxMjU0ODggMjkuODg3NzIwMTA4MDMyMjMgMjQuMDMyNTkwODY2MDg4ODcgMjYuOTYwMTU5MzAxNzU3ODEgMjYuOTYwMTU5MzAxNzU3ODEgQyAyNC4wMzI1OTA4NjYwODg4NyAyOS44ODc3MjAxMDgwMzIyMyAyMC4xNDAxOTk2NjEyNTQ4OCAzMS41IDE2IDMxLjUgWiIvPjxwYXRoIGNsYXNzPSJlIiBkPSJNIDE2IDEgQyAxMS45OTMzNDkwNzUzMTczOCAxIDguMjI2NTIwNTM4MzMwMDc4IDIuNTYwMjcwMzA5NDQ4MjQyIDUuMzkzNDAwMTkyMjYwNzQyIDUuMzkzNDAwMTkyMjYwNzQyIEMgMi41NjAyNzAzMDk0NDgyNDIgOC4yMjY1MjA1MzgzMzAwNzggMSAxMS45OTMzNDkwNzUzMTczOCAxIDE2IEMgMSAyMC4wMDY2NDkwMTczMzM5OCAyLjU2MDI3MDMwOTQ0ODI0MiAyMy43NzM0Nzk0NjE2Njk5MiA1LjM5MzQwMDE5MjI2MDc0MiAyNi42MDY1OTk4MDc3MzkyNiBDIDguMjI2NTIwNTM4MzMwMDc4IDI5LjQzOTcyOTY5MDU1MTc2IDExLjk5MzM0OTA3NTMxNzM4IDMxIDE2IDMxIEMgMjAuMDA2NjQ5MDE3MzMzOTggMzEgMjMuNzczNDc5NDYxNjY5OTIgMjkuNDM5NzI5NjkwNTUxNzYgMjYuNjA2NTk5ODA3NzM5MjYgMjYuNjA2NTk5ODA3NzM5MjYgQyAyOS40Mzk3Mjk2OTA1NTE3NiAyMy43NzM0Nzk0NjE2Njk5MiAzMSAyMC4wMDY2NDkwMTczMzM5OCAzMSAxNiBDIDMxIDExLjk5MzM0OTA3NTMxNzM4IDI5LjQzOTcyOTY5MDU1MTc2IDguMjI2NTIwNTM4MzMwMDc4IDI2LjYwNjU5OTgwNzczOTI2IDUuMzkzNDAwMTkyMjYwNzQyIEMgMjMuNzczNDc5NDYxNjY5OTIgMi41NjAyNzAzMDk0NDgyNDIgMjAuMDA2NjQ5MDE3MzMzOTggMSAxNiAxIE0gMTYgMCBDIDI0LjgzNjU1OTI5NTY1NDMgMCAzMiA3LjE2MzQ0MDcwNDM0NTcwMyAzMiAxNiBDIDMyIDI0LjgzNjU1OTI5NTY1NDMgMjQuODM2NTU5Mjk1NjU0MyAzMiAxNiAzMiBDIDcuMTYzNDQwNzA0MzQ1NzAzIDMyIDAgMjQuODM2NTU5Mjk1NjU0MyAwIDE2IEMgMCA3LjE2MzQ0MDcwNDM0NTcwMyA3LjE2MzQ0MDcwNDM0NTcwMyAwIDE2IDAgWiIvPjwvZz48bGluZSBjbGFzcz0iYiIgeDI9IjEuNTA1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjU4Ljc0OCAxOTguNSkiLz48bGluZSBjbGFzcz0iYiIgeDI9IjEuNTA1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjU4Ljc0OCAyMDEuNSkiLz48bGluZSBjbGFzcz0iYiIgeDI9IjEuNTA1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjU4Ljc0OCAyMDQuNSkiLz48bGluZSBjbGFzcz0iYiIgeDI9IjcuNTA1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjYxLjc0OCAxOTguNSkiLz48bGluZSBjbGFzcz0iYiIgeDI9IjcuNTA1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjYxLjc0OCAyMDEuNSkiLz48bGluZSBjbGFzcz0iYiIgeDI9IjEuNzUyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjYxLjc0OCAyMDQuNSkiLz48cGF0aCBjbGFzcz0iYyIgZD0iTTAsMCwyLjE4MiwxLjg3NSw1LjItMS43NTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyNjQuOTE4IDIwNC40MzgpIi8+PC9nPjwvc3ZnPg);background-size:contain}.chat-summary[_ngcontent-%COMP%]   .summary-content-container[_ngcontent-%COMP%]{width:calc(100% - 49px)}.chat-summary[_ngcontent-%COMP%]   .summary-content-container[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:11px;line-height:32px;color:#757575;-webkit-user-select:none;user-select:none}.chat-summary[_ngcontent-%COMP%]   .summary-content-container[_ngcontent-%COMP%]   .summary-toggle[_ngcontent-%COMP%]{cursor:pointer;float:right;color:#006ce0}.chat-summary[_ngcontent-%COMP%]   .summary-content-container[_ngcontent-%COMP%]   .toggle-arrow[_ngcontent-%COMP%]{border:solid #006ce0;border-width:0 1px 1px 0;display:inline-block;padding:2.8px;margin:3px 12px 0 2px}.chat-summary[_ngcontent-%COMP%]   .summary-content-container[_ngcontent-%COMP%]   .toggle-arrow.down[_ngcontent-%COMP%]{transform:rotate(45deg);-webkit-transform:rotate(45deg);vertical-align:text-top}.chat-summary[_ngcontent-%COMP%]   .summary-content-container[_ngcontent-%COMP%]   .toggle-arrow.up[_ngcontent-%COMP%]{transform:rotate(-135deg);-webkit-transform:rotate(-135deg);vertical-align:text-bottom}.chat-summary[_ngcontent-%COMP%]   .summary-content-container[_ngcontent-%COMP%]   .summary-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.chat-summary[_ngcontent-%COMP%]   .summary-content-container[_ngcontent-%COMP%]   .summary-items[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{max-width:100%}.chat-summary[_ngcontent-%COMP%]   .summary-content-container[_ngcontent-%COMP%]   .summary-items[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:13px;color:#999}.chat-summary[_ngcontent-%COMP%]   .summary-content-container[_ngcontent-%COMP%]   .summary-items[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]{font-size:14px;overflow:hidden;text-overflow:ellipsis}.chat-summary[_ngcontent-%COMP%]   .summary-content-container[_ngcontent-%COMP%]   .summary-items[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#006ce0}'],changeDetection:0});var Ve=c(66868),Xe=c(73539);function Ke(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-option",8),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(n).$implicit,m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.changeState(s.code))}),e.\u0275\u0275element(1,"img",9),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()}if(i&2){const n=t.$implicit;e.\u0275\u0275property("value",n.code),e.\u0275\u0275advance(1),e.\u0275\u0275property("src",n.image,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.name," ")}}function $e(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"mat-form-field",2)(2,"mat-select",3),e.\u0275\u0275listener("valueChange",function(o){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.currentStatusCode=o)}),e.\u0275\u0275elementStart(3,"mat-select-trigger")(4,"span",4),e.\u0275\u0275element(5,"img",5),e.\u0275\u0275elementStart(6,"span",6),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(8,Ke,3,3,"mat-option",7),e.\u0275\u0275elementEnd()()()}if(i&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("value",n.currentStatusCode),e.\u0275\u0275advance(3),e.\u0275\u0275property("src",n.getTriggerImage(),e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.getTriggerCaption()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.statuses)}}class S{constructor(t){this.operatorStatusService=t}ngOnInit(){(0,I.forkJoin)([this.operatorStatusService.getOperatorStatus(),this.operatorStatusService.getOperatorStatuses()]).subscribe(([t,n])=>{this.currentStatusCode=t,this.statuses=n})}changeState(t){this.operatorStatusService.changeState(t)}getTriggerImage(){return this.statuses?.filter(t=>t.code===this.currentStatusCode)[0].image}getTriggerCaption(){return this.statuses?.filter(t=>t.code===this.currentStatusCode)[0].name}}S.\u0275fac=function(t){return new(t||S)(e.\u0275\u0275directiveInject(w))},S.\u0275cmp=e.\u0275\u0275defineComponent({type:S,selectors:[["ts-operator-status"]],inputs:{currentStatusCode:"currentStatusCode"},decls:1,vars:1,consts:[["class","operator-status-container",4,"ngIf"],[1,"operator-status-container"],["floatLabel","never"],["disableOptionCentering","","panelClass","operator-chat-state-select-menu-panel",3,"value","valueChange"],[1,"select-menu-trigger"],["alt","Current status",1,"triggered-status-image",3,"src"],[1,"triggered-status-caption"],["class","mat-option-status",3,"value","click",4,"ngFor","ngForOf"],[1,"mat-option-status",3,"value","click"],["alt","Change status",3,"src"]],template:function(t,n){t&1&&e.\u0275\u0275template(0,$e,9,4,"div",0),t&2&&e.\u0275\u0275property("ngIf",n.statuses&&n.currentStatusCode)},dependencies:[l.NgForOf,l.NgIf,Ve.MatLegacyFormField,G.MatLegacySelect,G.MatLegacySelectTrigger,Xe.MatLegacyOption],styles:[".mat-select-panel-wrap .mat-select-panel.operator-chat-state-select-menu-panel{position:absolute;top:22px;left:15px;padding:1px}  .mat-select-panel-wrap .mat-select-panel.operator-chat-state-select-menu-panel mat-option.select-menu-option{padding:0 18px;height:33px!important;line-height:33px!important}  .mat-select-panel-wrap .mat-select-panel.operator-chat-state-select-menu-panel mat-option.select-menu-option .select-menu-option-content{display:flex;align-items:center;font-size:14px;line-height:18px;padding-right:15px}  .mat-select-panel-wrap .mat-option-status .mat-option-text{font-size:14px;font-family:Open Sans,Regular,sans-serif}  .mat-select-panel-wrap .mat-option-status .mat-option-text img{margin-right:5px;width:10px;height:10px}  ts-operator-status .operator-status-container .triggered-status-image{width:12px;height:12px}  ts-operator-status .operator-status-container .triggered-status-caption{margin-left:8px}  ts-operator-status .operator-status-container .mat-form-field-type-mat-select .mat-form-field-wrapper{padding-bottom:0!important}  ts-operator-status .operator-status-container .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix{width:auto;padding:0!important;border-top-style:none}  ts-operator-status .operator-status-container .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select{width:auto;height:26px;display:flex;align-items:center;border-radius:2px}  ts-operator-status .operator-status-container .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select:focus,   ts-operator-status .operator-status-container .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select:hover{background-color:#f2f5ff}  ts-operator-status .operator-status-container .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger{padding:0 4px 0 8px}  ts-operator-status .operator-status-container .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger .mat-select-value{max-width:100%;width:auto;color:#444;font-size:14px}  ts-operator-status .operator-status-container .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger .mat-select-value .select-menu-trigger{display:flex;align-items:center;height:18px;line-height:18px;position:relative;bottom:1px}  ts-operator-status .operator-status-container .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger .mat-select-arrow-wrapper{position:relative;top:1px!important}  ts-operator-status .operator-status-container .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-underline{display:none}"]});const qe=["templateInput"];function et(i,t){if(i&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",10),e.\u0275\u0275listener("click",function(o){const m=e.\u0275\u0275restoreView(n).$implicit,C=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(C.chooseTemplate(o,m.id))}),e.\u0275\u0275elementStart(1,"div",11),e.\u0275\u0275element(2,"div",12),e.\u0275\u0275pipe(3,"highlight"),e.\u0275\u0275element(4,"div",13),e.\u0275\u0275pipe(5,"highlight"),e.\u0275\u0275elementEnd()()}if(i&2){const n=t.$implicit,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("innerHTML",e.\u0275\u0275pipeBind2(3,2,n.name,a.templateText),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("innerHTML",e.\u0275\u0275pipeBind2(5,5,n.text,a.templateText),e.\u0275\u0275sanitizeHtml)}}class Z{constructor(t,n){this._messageTemplateService=t,this.ref=n,this._isMenuShown=!1,this.templateSelected=new e.EventEmitter,this.selectorClosed=new e.EventEmitter,this.searchEnabled=!1}set menuItems(t){this._menuItems=t}get menuItems(){return this._menuItems}get isMenuShown(){return this._isMenuShown}loadTemplates(t){this._messageTemplateService.getTemplates(this.templateText).subscribe(n=>{this.menuItems=n,this.ref.detectChanges(),t&&(t.preventDefault(),t.stopPropagation())})}resetTemplateSearchInput(){this.templateInput.nativeElement.value=this.templateText=""}toggleMenuVisibility(){this._isMenuShown?(this.trigger.closeMenu(),this._isMenuShown=!1):(this.trigger.openMenu(),this._isMenuShown=!0,this.loadTemplates())}chooseTemplate(t,n){this.searchEnabled=!1,this.resetTemplateSearchInput(),this.templateSelected.emit(n)}onMenuClosed(){this.searchEnabled=!1,this.resetTemplateSearchInput(),this._isMenuShown=!1,this.selectorClosed.emit()}onInputTemplate(t){this.templateText=t.target.value,this.loadTemplates(t)}onSearchClick(t){this.searchEnabled=!0,this.templateInput.nativeElement.focus(),t.preventDefault(),t.stopPropagation()}closeSearch(t){this.searchEnabled=!1,this.resetTemplateSearchInput(),this.loadTemplates(t),t.preventDefault(),t.stopPropagation()}}Z.\u0275fac=function(t){return new(t||Z)(e.\u0275\u0275directiveInject(N),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},Z.\u0275cmp=e.\u0275\u0275defineComponent({type:Z,selectors:[["ts-template-lookup-selector"]],viewQuery:function(t,n){if(t&1&&(e.\u0275\u0275viewQuery(h.MatLegacyMenuTrigger,5),e.\u0275\u0275viewQuery(qe,5)),t&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.trigger=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.templateInput=a.first)}},inputs:{menuItems:"menuItems"},outputs:{templateSelected:"templateSelected",selectorClosed:"selectorClosed"},decls:12,vars:13,consts:[[3,"matMenuTriggerFor"],["yPosition","above","xPosition","after",1,"templates-lookup-menu",3,"closed"],["menu","matMenu"],[1,"search-template-wrapper",3,"click"],[1,"template-caption"],[1,"search-template-icon","search-icon",3,"click"],["type","text",1,"search-bar",3,"input","click"],["templateInput",""],[1,"clear-search-template-icon",3,"click"],["class","template-item-button","mat-button","",3,"click",4,"ngFor","ngForOf"],["mat-button","",1,"template-item-button",3,"click"],[1,"template-item-text-wrapper"],[1,"title",3,"innerHTML"],[1,"preview",3,"innerHTML"]],template:function(t,n){if(t&1&&(e.\u0275\u0275element(0,"div",0),e.\u0275\u0275elementStart(1,"mat-menu",1,2),e.\u0275\u0275listener("closed",function(){return n.onMenuClosed()}),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275listener("click",function(o){return n.onSearchClick(o)}),e.\u0275\u0275elementStart(4,"span",4),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",5),e.\u0275\u0275listener("click",function(o){return n.onSearchClick(o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"input",6,7),e.\u0275\u0275listener("input",function(o){return n.onInputTemplate(o)})("click",function(o){return o.stopPropagation()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",8),e.\u0275\u0275listener("click",function(o){return n.closeSearch(o)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,et,6,8,"button",9),e.\u0275\u0275elementEnd()),t&2){const a=e.\u0275\u0275reference(2);e.\u0275\u0275property("matMenuTriggerFor",a),e.\u0275\u0275advance(4),e.\u0275\u0275classProp("template-caption-hide",n.searchEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"MessageTemplate.TemplateSearchCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("search-icon-open",n.searchEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("search-bar-open",n.searchEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("clear-search-template-icon-open",n.searchEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.menuItems)}},dependencies:[l.NgForOf,W.MatLegacyButton,h.MatLegacyMenu,h.MatLegacyMenuTrigger,g.TranslatePipe,x],styles:[".templates-lookup-menu{width:280px;transform:translate(30px);background:#ffffff 0 0 no-repeat padding-box;box-shadow:0 3px 3px #00000029;border:1px solid #e3e6ec;opacity:1;overflow:hidden!important;padding-bottom:8px}  .templates-lookup-menu .highlight-word{color:#056ee0;font-weight:700}  .templates-lookup-menu .search-template-wrapper{border-bottom:1px solid #999999;height:33px;margin:0 10px 5px 15px;cursor:pointer}  .templates-lookup-menu .search-template-wrapper .search-icon{position:absolute;right:0;transition:all .5s ease}  .templates-lookup-menu .search-template-wrapper .search-icon-open{z-index:1000;color:#fff;right:238px}  .templates-lookup-menu .search-template-wrapper .template-caption{position:absolute;transition:all .5s ease;margin-top:8px;display:inline-block;color:#056ee0;font-size:16px}  .templates-lookup-menu .search-template-wrapper .template-caption-hide{color:#fff;left:15px}  .templates-lookup-menu .search-template-wrapper .search-bar{border:0 none;height:20px;transition:all .5s ease;width:0;padding:0;position:absolute;right:0;color:#444;margin-left:8px;outline:none;font-size:14px}  .templates-lookup-menu .search-template-wrapper .search-bar-open{display:block;width:218px;top:0;margin-right:20px;margin-top:8px}  .templates-lookup-menu .search-template-wrapper .search-template-icon{width:16px;height:16px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNi4wMDciIGhlaWdodD0iMTYuMDA4IiB2aWV3Qm94PSIwIDAgMTYuMDA3IDE2LjAwOCI+PGRlZnM+PHN0eWxlPi5hLC5iLC5je2ZpbGw6bm9uZTt9LmEsLmJ7c3Ryb2tlOiMyODQ1Nzg7fS5he3N0cm9rZS1taXRlcmxpbWl0OjEwO30uZHtzdHJva2U6bm9uZTt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI2My44MiA2NC42NSkiPjxnIGNsYXNzPSJhIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI2My44MiAtNjQuNjUpIj48Y2lyY2xlIGNsYXNzPSJkIiBjeD0iNiIgY3k9IjYiIHI9IjYiLz48Y2lyY2xlIGNsYXNzPSJjIiBjeD0iNiIgY3k9IjYiIHI9IjUuNSIvPjwvZz48cGF0aCBjbGFzcz0iYiIgZD0iTS4zNDQuMzQ0LDUuNSw1LjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjU0LjMyIC01NS4xNSkiLz48L2c+PHJlY3QgY2xhc3M9ImMiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDcgMC4wMDgpIi8+PC9zdmc+);display:inline-block;cursor:pointer;margin-top:12px;margin-right:12px}  .templates-lookup-menu .search-template-wrapper .clear-search-template-icon{width:0;height:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5Ljg3MyIgaGVpZ2h0PSI5Ljg3MyIgdmlld0JveD0iMCAwIDkuODczIDkuODczIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojNzA3MDcwO308L3N0eWxlPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU1OS41NjQgLTM0Ny41NjMpIj48bGluZSBjbGFzcz0iYSIgeDI9IjkuMTY2IiB5Mj0iOS4xNjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NTkuOTE3IDM0Ny45MTcpIi8+PGxpbmUgY2xhc3M9ImEiIHgxPSI5LjE2NiIgeTI9IjkuMTY2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTU5LjkxNyAzNDcuOTE3KSIvPjwvZz48L3N2Zz4=);display:inline-block;cursor:pointer;transition:all .5s ease;padding:0;position:absolute;right:0;margin-top:15px;margin-right:12px}  .templates-lookup-menu .search-template-wrapper .clear-search-template-icon-open{display:block;width:10px;top:0;margin-right:12px}  .templates-lookup-menu .menu-title{text-align:left;padding:8px;font-size:13px;font-family:Open Sans,sans-serif;color:#444}  .templates-lookup-menu .menu-title-hint{border-top:1px solid #e3e6ec;color:#8095b3}  .templates-lookup-menu .mat-button{font-size:13px;font-family:Open Sans,sans-serif;line-height:inherit;padding-bottom:4px;padding-top:4px;height:inherit!important;margin-left:8px;margin-right:8px;width:264px;text-align:left;text-transform:none!important}  .templates-lookup-menu .mat-button:not(:last-child){border-bottom:1px solid #ededed}  .templates-lookup-menu .mat-button:hover:not([disabled]){background:#e5ebfb 0 0 no-repeat padding-box}  .templates-lookup-menu .mat-button.cdk-keyboard-focused{background-color:#e5ebfb}  .templates-lookup-menu .mat-button.cdk-program-focused{background-color:#e5ebfb}  .templates-lookup-menu .mat-button .template-item-text-wrapper{margin-bottom:8px;padding-top:8px}  .templates-lookup-menu .mat-button .template-item-text-wrapper .title{line-height:normal;font-size:11px;color:#757575;margin-bottom:8px}  .templates-lookup-menu .mat-button .template-item-text-wrapper .preview{line-height:normal;color:#181818;font-size:13px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;white-space:initial}"]});let $=[];function tt(i){return()=>{const n=i.get(d.UserInfoService).loadCurrentUserInfo().pipe((0,p.map)(()=>i.get(U.SysSettingsService)),(0,p.switchMap)(a=>a.getByCodes(["SearchInFacebookURL"])),(0,p.filter)(a=>a&&a.success),(0,p.map)(a=>(0,ee.mapValues)(a.values||{},o=>o.value)),(0,p.tap)(a=>$=a));return(0,I.lastValueFrom)(n,{defaultValue:null})}}class D{_registerIcons(){Object.keys(this._registeredIconUrls).forEach(t=>{this._matIconRegistry.addSvgIconLiteral(t,this._domSanitizer?.bypassSecurityTrustHtml(c(20684)("./"+this._registeredIconUrls[t])))})}constructor(t,n){this._matIconRegistry=t,this._domSanitizer=n,this._registeredIconUrls={close:"close-icon.svg",search:"search-icon.svg"},this._registerIcons()}}D.\u0275fac=function(t){return new(t||D)(e.\u0275\u0275inject(J.MatIconRegistry),e.\u0275\u0275inject(q.DomSanitizer))},D.\u0275mod=e.\u0275\u0275defineNgModule({type:D}),D.\u0275inj=e.\u0275\u0275defineInjector({providers:[r.DEFAULT_REST_ERROR_HANDLER,r.DEFAULT_REST_HANDLER,{provide:"messagingSysSettings",useFactory:()=>$},{provide:e.APP_INITIALIZER,useFactory:tt,deps:[e.Injector],multi:!0}],imports:[l.CommonModule,u.HttpClientModule,g.TranslateModule,r.ContactPhotoModule,T.FormsModule,G.MatLegacySelectModule,W.MatLegacyButtonModule,h.MatLegacyMenuModule,J.MatIconModule,V.BrowserAnimationsModule,r.CdkModule,H.MaskModule,r.HintOverlayModule,Y.MatLegacyTabsModule,z.OverlayModule,F.LegacyDataServiceQueryExecutorModule,r.CrtOmnichatModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(D,{declarations:[y,M,S,A,E,Z,x,_,v,b],imports:[l.CommonModule,u.HttpClientModule,g.TranslateModule,r.ContactPhotoModule,T.FormsModule,G.MatLegacySelectModule,W.MatLegacyButtonModule,h.MatLegacyMenuModule,J.MatIconModule,V.BrowserAnimationsModule,r.CdkModule,H.MaskModule,r.HintOverlayModule,Y.MatLegacyTabsModule,z.OverlayModule,F.LegacyDataServiceQueryExecutorModule,r.CrtOmnichatModule],exports:[y,M,S,r.ContactPhotoComponent]})}();class nt{}class at{}class it{}},4290:j=>{j.exports=`<svg id="Group_7" data-name="Group 7" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_7" data-name="Rectangle 7" width="16" height="16" fill="none"/>
  <line id="Line_5" data-name="Line 5" y1="10" x2="10" transform="translate(3 3)" fill="none" stroke="#999" stroke-miterlimit="10" stroke-width="1"/>
  <line id="Line_6" data-name="Line 6" x2="10" y2="10" transform="translate(3 3)" fill="none" stroke="#999" stroke-miterlimit="10" stroke-width="1"/>
</svg>
`},47738:j=>{j.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><g fill="none" stroke="#8095b3" stroke-width="1.2" stroke-miterlimit="10"><circle cx="6" cy="6" r="4.5"/><path stroke-linecap="round" d="M 9.4,9.4 14,14"/></g></svg>'}}]);
