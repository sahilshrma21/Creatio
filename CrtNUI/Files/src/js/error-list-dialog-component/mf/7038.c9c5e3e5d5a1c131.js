(self.webpackChunkapp_studio_enterprise_error_list_dialog=self.webpackChunkapp_studio_enterprise_error_list_dialog||[]).push([[7038],{35579:function(G$,W0){/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.7
 * @date    2023-09-13T18:13:28.258Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */(function(Ur,yt){yt(W0)})(this,function(Ur){function yt(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var Vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ie(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var K={exports:{}},Yi=function(a){return a&&a.Math==Math&&a},he=Yi(typeof globalThis=="object"&&globalThis)||Yi(typeof window=="object"&&window)||Yi(typeof self=="object"&&self)||Yi(typeof Vr=="object"&&Vr)||function(){return this}()||Function("return this")(),Y=function(a){try{return!!a()}catch{return!0}},Jo=Y,Zo=!Jo(function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")}),Bf=Zo,Hu=Function.prototype,Wu=Hu.apply,Vn=Hu.call,Xi=typeof Reflect=="object"&&Reflect.apply||(Bf?Vn.bind(Wu):function(){return Vn.apply(Wu,arguments)}),Uu=Zo,Os=Function.prototype,Vu=Os.call,ke=Uu&&Os.bind.bind(Vu,Vu),De=Uu?ke:function(a){return function(){return Vu.apply(a,arguments)}},jf=De,U0=jf({}.toString),qr=jf("".slice),ai=function(a){return qr(U0(a),8,-1)},V0=ai,Ss=De,xs=function(a){if(V0(a)==="Function")return Ss(a)},qn=typeof document=="object"&&document.all,q0=typeof qn>"u"&&qn!==void 0,et={all:qn,IS_HTMLDDA:q0},Qi=et,it=Qi.all,Le=Qi.IS_HTMLDDA?function(a){return typeof a=="function"||a===it}:function(a){return typeof a=="function"},Or={},Lt=Y,qe=!Lt(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),zf=Zo,ea=Function.prototype.call,nt=zf?ea.bind(ea):function(){return ea.apply(ea,arguments)},hr={},ta={}.propertyIsEnumerable,Gn=Object.getOwnPropertyDescriptor,G0=Gn&&!ta.call({1:2},1);hr.f=G0?function(l){var c=Gn(this,l);return!!c&&c.enumerable}:ta;var Ji=function(a,l){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:l}},qu=De,K0=Y,Ts=ai,si=Object,Y0=qu("".split),Is=K0(function(){return!si("z").propertyIsEnumerable(0)})?function(a){return Ts(a)=="String"?Y0(a,""):si(a)}:si,Gr=function(a){return a==null},X0=Gr,Q0=TypeError,rr=function(a){if(X0(a))throw Q0("Can't call method on "+a);return a},Lf=Is,J0=rr,Pe=function(a){return Lf(J0(a))},be=Le,$s=et,Gu=$s.all,ct=$s.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:be(a)||a===Gu}:function(a){return typeof a=="object"?a!==null:be(a)},Ne={},Mt=Ne,Be=he,ra=Le,Ku=function(a){return ra(a)?a:void 0},dt=function(a,l){return arguments.length<2?Ku(Mt[a])||Ku(Be[a]):Mt[a]&&Mt[a][l]||Be[a]&&Be[a][l]},Hf=De,Ge=Hf({}.isPrototypeOf),Kr=typeof navigator<"u"&&String(navigator.userAgent)||"",Yu=he,li=Kr,Xu=Yu.process,Wf=Yu.Deno,Uf=Xu&&Xu.versions||Wf&&Wf.version,Zi=Uf&&Uf.v8,ir,Ps;Zi&&(ir=Zi.split("."),Ps=ir[0]>0&&ir[0]<4?1:+(ir[0]+ir[1])),!Ps&&li&&(ir=li.match(/Edge\/(\d+)/),(!ir||ir[1]>=74)&&(ir=li.match(/Chrome\/(\d+)/),ir&&(Ps=+ir[1])));var Kn=Ps,Vf=Kn,Z0=Y,Sr=!!Object.getOwnPropertySymbols&&!Z0(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&Vf&&Vf<41}),ew=Sr,en=ew&&!Symbol.sham&&typeof Symbol.iterator=="symbol",tw=dt,rw=Le,iw=Ge,tn=en,nw=Object,ia=tn?function(a){return typeof a=="symbol"}:function(a){var l=tw("Symbol");return rw(l)&&iw(l.prototype,nw(a))},Qu=String,ui=function(a){try{return Qu(a)}catch{return"Object"}},Ju=Le,Zu=ui,ow=TypeError,wt=function(a){if(Ju(a))return a;throw ow(Zu(a)+" is not a function")},qf=wt,aw=Gr,eh=function(a,l){var c=a[l];return aw(c)?void 0:qf(c)},Cs=nt,na=Le,Ds=ct,Yn=TypeError,sw=function(a,l){var c,d;if(l==="string"&&na(c=a.toString)&&!Ds(d=Cs(c,a))||na(c=a.valueOf)&&!Ds(d=Cs(c,a))||l!=="string"&&na(c=a.toString)&&!Ds(d=Cs(c,a)))return d;throw Yn("Can't convert object to primitive value")},Gf={exports:{}},At=!0,Kf=he,lw=Object.defineProperty,ot=function(a,l){try{lw(Kf,a,{value:l,configurable:!0,writable:!0})}catch{Kf[a]=l}return l},uw=he,hw=ot,Yf="__core-js_shared__",cw=uw[Yf]||hw(Yf,{}),Xn=cw,Xf=Xn;(Gf.exports=function(a,l){return Xf[a]||(Xf[a]=l!==void 0?l:{})})("versions",[]).push({version:"3.29.0",mode:"pure",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"});var rn=Gf.exports,dw=rr,fw=Object,Ht=function(a){return fw(dw(a))},Qn=De,th=Ht,vw=Qn({}.hasOwnProperty),ce=Object.hasOwn||function(l,c){return vw(th(l),c)},pw=De,Qf=0,Jf=Math.random(),gw=pw(1 .toString),Ms=function(a){return"Symbol("+(a===void 0?"":a)+")_"+gw(++Qf+Jf,36)},yw=he,mw=rn,Zf=ce,bw=Ms,As=Sr,ev=en,hi=yw.Symbol,rh=mw("wks"),tv=ev?hi.for||hi:hi&&hi.withoutSetter||bw,He=function(a){return Zf(rh,a)||(rh[a]=As&&Zf(hi,a)?hi[a]:tv("Symbol."+a)),rh[a]},rv=nt,iv=ct,nv=ia,ww=eh,_w=sw,kw=He,Ew=TypeError,Ow=kw("toPrimitive"),Sw=function(a,l){if(!iv(a)||nv(a))return a;var c=ww(a,Ow),d;if(c){if(l===void 0&&(l="default"),d=rv(c,a,l),!iv(d)||nv(d))return d;throw Ew("Can't convert object to primitive value")}return l===void 0&&(l="number"),_w(a,l)},ov=Sw,xw=ia,Ns=function(a){var l=ov(a,"string");return xw(l)?l:l+""},Tw=he,Jn=ct,ih=Tw.document,Iw=Jn(ih)&&Jn(ih.createElement),nh=function(a){return Iw?ih.createElement(a):{}},$w=qe,Pw=Y,Cw=nh,av=!$w&&!Pw(function(){return Object.defineProperty(Cw("div"),"a",{get:function(){return 7}}).a!=7}),Dw=qe,oa=nt,Wt=hr,sv=Ji,Mw=Pe,Aw=Ns,Nw=ce,Ut=av,lv=Object.getOwnPropertyDescriptor;Or.f=Dw?lv:function(l,c){if(l=Mw(l),c=Aw(c),Ut)try{return lv(l,c)}catch{}if(Nw(l,c))return sv(!oa(Wt.f,l,c),l[c])};var Rw=Y,Fw=Le,Rs=/#|\.prototype\./,Zn=function(a,l){var c=oh[Bw(a)];return c==ah?!0:c==jw?!1:Fw(l)?Rw(l):!!l},Bw=Zn.normalize=function(a){return String(a).replace(Rs,".").toLowerCase()},oh=Zn.data={},jw=Zn.NATIVE="N",ah=Zn.POLYFILL="P",Fs=Zn,Bs=xs,zw=wt,Lw=Zo,eo=Bs(Bs.bind),cr=function(a,l){return zw(a),l===void 0?a:Lw?eo(a,l):function(){return a.apply(l,arguments)}},Vt={},Hw=qe,Ww=Y,uv=Hw&&Ww(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Uw=ct,to=String,Vw=TypeError,at=function(a){if(Uw(a))return a;throw Vw(to(a)+" is not an object")},hv=qe,qw=av,te=uv,js=at,cv=Ns,Gw=TypeError,ro=Object.defineProperty,Kw=Object.getOwnPropertyDescriptor,sh="enumerable",lh="configurable",nn="writable";Vt.f=hv?te?function(l,c,d){if(js(l),c=cv(c),js(d),typeof l=="function"&&c==="prototype"&&"value"in d&&nn in d&&!d[nn]){var f=Kw(l,c);f&&f[nn]&&(l[c]=d.value,d={configurable:lh in d?d[lh]:f[lh],enumerable:sh in d?d[sh]:f[sh],writable:!1})}return ro(l,c,d)}:ro:function(l,c,d){if(js(l),c=cv(c),js(d),qw)try{return ro(l,c,d)}catch{}if("get"in d||"set"in d)throw Gw("Accessors not supported");return"value"in d&&(l[c]=d.value),l};var Yw=qe,Xw=Vt,Qw=Ji,Ye=Yw?function(a,l,c){return Xw.f(a,l,Qw(1,c))}:function(a,l,c){return a[l]=c,a},zs=he,Jw=Xi,Zw=xs,dv=Le,uh=Or.f,aa=Fs,ci=Ne,e1=cr,io=Ye,fv=ce,vv=function(a){var l=function(c,d,f){if(this instanceof l){switch(arguments.length){case 0:return new a;case 1:return new a(c);case 2:return new a(c,d)}return new a(c,d,f)}return Jw(a,this,arguments)};return l.prototype=a.prototype,l},ne=function(a,l){var c=a.target,d=a.global,f=a.stat,p=a.proto,m=d?zs:f?zs[c]:(zs[c]||{}).prototype,_=d?ci:ci[c]||io(ci,c,{})[c],b=_.prototype,O,x,T,I,C,U,ee,se,fe;for(I in l)O=aa(d?I:c+(f?".":"#")+I,a.forced),x=!O&&m&&fv(m,I),U=_[I],x&&(a.dontCallGetSet?(fe=uh(m,I),ee=fe&&fe.value):ee=m[I]),C=x&&ee?ee:l[I],!(x&&typeof U==typeof C)&&(a.bind&&x?se=e1(C,zs):a.wrap&&x?se=vv(C):p&&dv(C)?se=Zw(C):se=C,(a.sham||C&&C.sham||U&&U.sham)&&io(se,"sham",!0),io(_,I,se),p&&(T=c+"Prototype",fv(ci,T)||io(ci,T,{}),io(ci[T],I,C),a.real&&b&&(O||!b[I])&&io(b,I,C)))},hh=ne,t1=qe,pv=Vt.f;hh({target:"Object",stat:!0,forced:Object.defineProperty!==pv,sham:!t1},{defineProperty:pv});var Ls=Ne,no=Ls.Object,gv=K.exports=function(l,c,d){return no.defineProperty(l,c,d)};no.defineProperty.sham&&(gv.sham=!0);var r1=K.exports,i1=r1,yv=i1,ch=yv,n1=ch,o1=n1,a1=o1,s1=a1,on=s1,sa=ie(on),l1=ai,di=Array.isArray||function(l){return l1(l)=="Array"},mv=Math.ceil,Xe=Math.floor,Hs=Math.trunc||function(l){var c=+l;return(c>0?Xe:mv)(c)},bv=Hs,Ws=function(a){var l=+a;return l!==l||l===0?0:bv(l)},u1=Ws,h1=Math.min,wv=function(a){return a>0?h1(u1(a),9007199254740991):0},c1=wv,qt=function(a){return c1(a.length)},d1=TypeError,f1=9007199254740991,la=function(a){if(a>f1)throw d1("Maximum allowed index exceeded");return a},_v=Ns,kv=Vt,v1=Ji,je=function(a,l,c){var d=_v(l);d in a?kv.f(a,d,v1(0,c)):a[d]=c},p1=He,g1=p1("toStringTag"),Ev={};Ev[g1]="z";var ua=String(Ev)==="[object z]",y1=ua,Ov=Le,N=ai,dh=He,Sv=dh("toStringTag"),fh=Object,xv=N(function(){return arguments}())=="Arguments",Tv=function(a,l){try{return a[l]}catch{}},xr=y1?N:function(a){var l,c,d;return a===void 0?"Undefined":a===null?"Null":typeof(c=Tv(l=fh(a),Sv))=="string"?c:xv?N(l):(d=N(l))=="Object"&&Ov(l.callee)?"Arguments":d},Iv=De,$v=Le,Us=Xn,Vs=Iv(Function.toString);$v(Us.inspectSource)||(Us.inspectSource=function(a){return Vs(a)});var oo=Us.inspectSource,qs=De,vh=Y,Pv=Le,m1=xr,Gs=dt,b1=oo,Cv=function(){},w1=[],fi=Gs("Reflect","construct"),ph=/^\s*(?:class|function)\b/,_1=qs(ph.exec),Tr=!ph.exec(Cv),an=function(l){if(!Pv(l))return!1;try{return fi(Cv,w1,l),!0}catch{return!1}},Dv=function(l){if(!Pv(l))return!1;switch(m1(l)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Tr||!!_1(ph,b1(l))}catch{return!0}};Dv.sham=!0;var Ks=!fi||vh(function(){var a;return an(an.call)||!an(Object)||!an(function(){a=!0})||a})?Dv:an,Mv=di,k1=Ks,Av=ct,E1=He,Nv=E1("species"),Rv=Array,O1=function(a){var l;return Mv(a)&&(l=a.constructor,k1(l)&&(l===Rv||Mv(l.prototype))?l=void 0:Av(l)&&(l=l[Nv],l===null&&(l=void 0))),l===void 0?Rv:l},Fv=O1,ha=function(a,l){return new(Fv(a))(l===0?0:l)},S1=Y,Bv=He,Ys=Kn,x1=Bv("species"),ao=function(a){return Ys>=51||!S1(function(){var l=[],c=l.constructor={};return c[x1]=function(){return{foo:1}},l[a](Boolean).foo!==1})},T1=ne,I1=Y,gh=di,yh=ct,$1=Ht,P1=qt,mh=la,Xs=je,C1=ha,Ir=ao,so=He,$r=Kn,Qs=so("isConcatSpreadable"),D1=$r>=51||!I1(function(){var a=[];return a[Qs]=!1,a.concat()[0]!==a}),jv=function(a){if(!yh(a))return!1;var l=a[Qs];return l!==void 0?!!l:gh(a)},M1=!D1||!Ir("concat");T1({target:"Array",proto:!0,arity:1,forced:M1},{concat:function(l){var c=$1(this),d=C1(c,0),f=0,p,m,_,b,O;for(p=-1,_=arguments.length;p<_;p++)if(O=p===-1?c:arguments[p],jv(O))for(b=P1(O),mh(f+b),m=0;m<b;m++,f++)m in O&&Xs(d,f,O[m]);else mh(f+1),Xs(d,f++,O);return d.length=f,d}});var bh=xr,A1=String,Pr=function(a){if(bh(a)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return A1(a)},Js={},N1=Ws,R1=Math.max,F1=Math.min,Zs=function(a,l){var c=N1(a);return c<0?R1(c+l,0):F1(c,l)},B1=Pe,el=Zs,j1=qt,zv=function(a){return function(l,c,d){var f=B1(l),p=j1(f),m=el(d,p),_;if(a&&c!=c){for(;p>m;)if(_=f[m++],_!=_)return!0}else for(;p>m;m++)if((a||m in f)&&f[m]===c)return a||m||0;return!a&&-1}},z1={includes:zv(!0),indexOf:zv(!1)},lo={},L1=De,wh=ce,H1=Pe,_h=z1.indexOf,kh=lo,Eh=L1([].push),tl=function(a,l){var c=H1(a),d=0,f=[],p;for(p in c)!wh(kh,p)&&wh(c,p)&&Eh(f,p);for(;l.length>d;)wh(c,p=l[d++])&&(~_h(f,p)||Eh(f,p));return f},rl=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Lv=tl,il=rl,Cr=Object.keys||function(l){return Lv(l,il)},Hv=qe,Wv=uv,uo=Vt,Uv=at,W1=Pe,U1=Cr;Js.f=Hv&&!Wv?Object.defineProperties:function(l,c){Uv(l);for(var d=W1(c),f=U1(c),p=f.length,m=0,_;p>m;)uo.f(l,_=f[m++],d[_]);return l};var V1=dt,Vv=V1("document","documentElement"),qv=rn,Oh=Ms,Gv=qv("keys"),sn=function(a){return Gv[a]||(Gv[a]=Oh(a))},q1=at,ca=Js,Kv=rl,G1=lo,K1=Vv,Y1=nh,Yv=sn,Xv=">",nl="<",ol="prototype",Sh="script",xh=Yv("IE_PROTO"),Th=function(){},Qv=function(a){return nl+Sh+Xv+a+nl+"/"+Sh+Xv},Jv=function(a){a.write(Qv("")),a.close();var l=a.parentWindow.Object;return a=null,l},X1=function(){var a=Y1("iframe"),l="java"+Sh+":",c;return a.style.display="none",K1.appendChild(a),a.src=String(l),c=a.contentWindow.document,c.open(),c.write(Qv("document.F=Object")),c.close(),c.F},al,sl=function(){try{al=new ActiveXObject("htmlfile")}catch{}sl=typeof document<"u"?document.domain&&al?Jv(al):X1():Jv(al);for(var a=Kv.length;a--;)delete sl[ol][Kv[a]];return sl()};G1[xh]=!0;var ln=Object.create||function(l,c){var d;return l!==null?(Th[ol]=q1(l),d=new Th,Th[ol]=null,d[xh]=l):d=sl(),c===void 0?d:ca.f(d,c)},ho={},co=tl,fo=rl,Q1=fo.concat("length","prototype");ho.f=Object.getOwnPropertyNames||function(l){return co(l,Q1)};var Ih={},Zv=Zs,J1=qt,Z1=je,e_=Array,t_=Math.max,ep=function(a,l,c){for(var d=J1(a),f=Zv(l,d),p=Zv(c===void 0?d:c,d),m=e_(t_(p-f,0)),_=0;f<p;f++,_++)Z1(m,_,a[f]);return m.length=_,m},r_=ai,i_=Pe,tp=ho.f,n_=ep,rp=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o_=function(a){try{return tp(a)}catch{return n_(rp)}};Ih.f=function(l){return rp&&r_(l)=="Window"?o_(l):tp(i_(l))};var da={};da.f=Object.getOwnPropertySymbols;var a_=Ye,vo=function(a,l,c,d){return d&&d.enumerable?a[l]=c:a_(a,l,c),a},s_=Vt,$h=function(a,l,c){return s_.f(a,l,c)},fa={},l_=He;fa.f=l_;var Ph=Ne,ip=ce,u_=fa,h_=Vt.f,Re=function(a){var l=Ph.Symbol||(Ph.Symbol={});ip(l,a)||h_(l,a,{value:u_.f(a)})},Ch=nt,np=dt,ll=He,op=vo,ap=function(){var a=np("Symbol"),l=a&&a.prototype,c=l&&l.valueOf,d=ll("toPrimitive");l&&!l[d]&&op(l,d,function(f){return Ch(c,this)},{arity:1})},Dh=ua,Mh=xr,c_=Dh?{}.toString:function(){return"[object "+Mh(this)+"]"},d_=ua,sp=Vt.f,f_=Ye,lp=ce,up=c_,v_=He,hp=v_("toStringTag"),un=function(a,l,c,d){if(a){var f=c?a:a.prototype;lp(f,hp)||sp(f,hp,{configurable:!0,value:l}),d&&!d_&&f_(f,"toString",up)}},cp=he,p_=Le,Ah=cp.WeakMap,g_=p_(Ah)&&/native code/.test(String(Ah)),y_=g_,dp=he,m_=ct,b_=Ye,ul=ce,Nh=Xn,Rh=sn,w_=lo,fp="Object already initialized",Fh=dp.TypeError,__=dp.WeakMap,va,pa,hl,vp=function(a){return hl(a)?pa(a):va(a,{})},k_=function(a){return function(l){var c;if(!m_(l)||(c=pa(l)).type!==a)throw Fh("Incompatible receiver, "+a+" required");return c}};if(y_||Nh.state){var dr=Nh.state||(Nh.state=new __);dr.get=dr.get,dr.has=dr.has,dr.set=dr.set,va=function(a,l){if(dr.has(a))throw Fh(fp);return l.facade=a,dr.set(a,l),l},pa=function(a){return dr.get(a)||{}},hl=function(a){return dr.has(a)}}else{var vi=Rh("state");w_[vi]=!0,va=function(a,l){if(ul(a,vi))throw Fh(fp);return l.facade=a,b_(a,vi,l),l},pa=function(a){return ul(a,vi)?a[vi]:{}},hl=function(a){return ul(a,vi)}}var po={set:va,get:pa,has:hl,enforce:vp,getterFor:k_},E_=cr,ga=De,pp=Is,cl=Ht,O_=qt,S_=ha,gp=ga([].push),Gt=function(a){var l=a==1,c=a==2,d=a==3,f=a==4,p=a==6,m=a==7,_=a==5||p;return function(b,O,x,T){for(var I=cl(b),C=pp(I),U=E_(O,x),ee=O_(C),se=0,fe=T||S_,ge=l?fe(b,ee):c||m?fe(b,0):void 0,bt,Oe;ee>se;se++)if((_||se in C)&&(bt=C[se],Oe=U(bt,se,I),a))if(l)ge[se]=Oe;else if(Oe)switch(a){case 3:return!0;case 5:return bt;case 6:return se;case 2:gp(ge,bt)}else switch(a){case 4:return!1;case 7:gp(ge,bt)}return p?-1:d||f?f:ge}},go={forEach:Gt(0),map:Gt(1),filter:Gt(2),some:Gt(3),every:Gt(4),find:Gt(5),findIndex:Gt(6),filterReject:Gt(7)},ya=ne,Bh=he,jh=nt,x_=De,Yr=qe,yo=Sr,T_=Y,st=ce,I_=Ge,zh=at,dl=Pe,fl=Ns,$_=Pr,Lh=Ji,ma=ln,yp=Cr,P_=ho,mp=Ih,C_=da,Hh=Or,bp=Vt,D_=Js,Wh=hr,Uh=vo,wp=$h,Vh=rn,_p=sn,kp=lo,Ep=Ms,Op=He,hn=fa,M_=Re,Sp=ap,xp=un,Tp=po,cn=go.forEach,_t=_p("hidden"),vl="Symbol",ba="prototype",A_=Tp.set,Ip=Tp.getterFor(vl),fr=Object[ba],dn=Bh.Symbol,wa=dn&&dn[ba],$p=Bh.TypeError,pl=Bh.QObject,gl=Hh.f,pi=bp.f,yl=mp.f,Pp=Wh.f,qh=x_([].push),kt=Vh("symbols"),z=Vh("op-symbols"),Cp=Vh("wks"),Gh=!pl||!pl[ba]||!pl[ba].findChild,Kh=Yr&&T_(function(){return ma(pi({},"a",{get:function(){return pi(this,"a",{value:7}).a}})).a!=7})?function(a,l,c){var d=gl(fr,l);d&&delete fr[l],pi(a,l,c),d&&a!==fr&&pi(fr,l,d)}:pi,ml=function(a,l){var c=kt[a]=ma(wa);return A_(c,{type:vl,tag:a,description:l}),Yr||(c.description=l),c},_a=function(l,c,d){l===fr&&_a(z,c,d),zh(l);var f=fl(c);return zh(d),st(kt,f)?(d.enumerable?(st(l,_t)&&l[_t][f]&&(l[_t][f]=!1),d=ma(d,{enumerable:Lh(0,!1)})):(st(l,_t)||pi(l,_t,Lh(1,{})),l[_t][f]=!0),Kh(l,f,d)):pi(l,f,d)},Yh=function(l,c){zh(l);var d=dl(c),f=yp(d).concat(Ap(d));return cn(f,function(p){(!Yr||jh(ka,d,p))&&_a(l,p,d[p])}),l},Dp=function(l,c){return c===void 0?ma(l):Yh(ma(l),c)},ka=function(l){var c=fl(l),d=jh(Pp,this,c);return this===fr&&st(kt,c)&&!st(z,c)?!1:d||!st(this,c)||!st(kt,c)||st(this,_t)&&this[_t][c]?d:!0},Mp=function(l,c){var d=dl(l),f=fl(c);if(!(d===fr&&st(kt,f)&&!st(z,f))){var p=gl(d,f);return p&&st(kt,f)&&!(st(d,_t)&&d[_t][f])&&(p.enumerable=!0),p}},gi=function(l){var c=yl(dl(l)),d=[];return cn(c,function(f){!st(kt,f)&&!st(kp,f)&&qh(d,f)}),d},Ap=function(a){var l=a===fr,c=yl(l?z:dl(a)),d=[];return cn(c,function(f){st(kt,f)&&(!l||st(fr,f))&&qh(d,kt[f])}),d};yo||(dn=function(){if(I_(wa,this))throw $p("Symbol is not a constructor");var l=!arguments.length||arguments[0]===void 0?void 0:$_(arguments[0]),c=Ep(l),d=function(f){this===fr&&jh(d,z,f),st(this,_t)&&st(this[_t],c)&&(this[_t][c]=!1),Kh(this,c,Lh(1,f))};return Yr&&Gh&&Kh(fr,c,{configurable:!0,set:d}),ml(c,l)},wa=dn[ba],Uh(wa,"toString",function(){return Ip(this).tag}),Uh(dn,"withoutSetter",function(a){return ml(Ep(a),a)}),Wh.f=ka,bp.f=_a,D_.f=Yh,Hh.f=Mp,P_.f=mp.f=gi,C_.f=Ap,hn.f=function(a){return ml(Op(a),a)},Yr&&wp(wa,"description",{configurable:!0,get:function(){return Ip(this).description}})),ya({global:!0,constructor:!0,wrap:!0,forced:!yo,sham:!yo},{Symbol:dn}),cn(yp(Cp),function(a){M_(a)}),ya({target:vl,stat:!0,forced:!yo},{useSetter:function(){Gh=!0},useSimple:function(){Gh=!1}}),ya({target:"Object",stat:!0,forced:!yo,sham:!Yr},{create:Dp,defineProperty:_a,defineProperties:Yh,getOwnPropertyDescriptor:Mp}),ya({target:"Object",stat:!0,forced:!yo},{getOwnPropertyNames:gi}),Sp(),xp(dn,vl),kp[_t]=!0;var Xh=Sr,Qh=Xh&&!!Symbol.for&&!!Symbol.keyFor,N_=ne,R_=dt,F_=ce,Np=Pr,Rp=rn,Jh=Qh,Zh=Rp("string-to-symbol-registry"),B_=Rp("symbol-to-string-registry");N_({target:"Symbol",stat:!0,forced:!Jh},{for:function(a){var l=Np(a);if(F_(Zh,l))return Zh[l];var c=R_("Symbol")(l);return Zh[l]=c,B_[c]=l,c}});var j_=ne,Ea=ce,z_=ia,L_=ui,H_=rn,W_=Qh,Fp=H_("symbol-to-string-registry");j_({target:"Symbol",stat:!0,forced:!W_},{keyFor:function(l){if(!z_(l))throw TypeError(L_(l)+" is not a symbol");if(Ea(Fp,l))return Fp[l]}});var U_=De,mo=U_([].slice),Bp=De,jp=di,V_=Le,zp=ai,Lp=Pr,Hp=Bp([].push),q_=function(a){if(V_(a))return a;if(!!jp(a)){for(var l=a.length,c=[],d=0;d<l;d++){var f=a[d];typeof f=="string"?Hp(c,f):(typeof f=="number"||zp(f)=="Number"||zp(f)=="String")&&Hp(c,Lp(f))}var p=c.length,m=!0;return function(_,b){if(m)return m=!1,b;if(jp(this))return b;for(var O=0;O<p;O++)if(c[O]===_)return b}}},Oa=ne,Wp=dt,Up=Xi,bl=nt,bo=De,Vp=Y,qp=Le,Gp=ia,Kp=mo,Yp=q_,G_=Sr,K_=String,Xr=Wp("JSON","stringify"),wl=bo(/./.exec),ec=bo("".charAt),Y_=bo("".charCodeAt),tc=bo("".replace),Sa=bo(1 .toString),X_=/[\uD800-\uDFFF]/g,rc=/^[\uD800-\uDBFF]$/,Xp=/^[\uDC00-\uDFFF]$/,Qp=!G_||Vp(function(){var a=Wp("Symbol")();return Xr([a])!="[null]"||Xr({a})!="{}"||Xr(Object(a))!="{}"}),Jp=Vp(function(){return Xr("\uDF06\uD834")!=='"\\udf06\\ud834"'||Xr("\uDEAD")!=='"\\udead"'}),We=function(a,l){var c=Kp(arguments),d=Yp(l);if(!(!qp(d)&&(a===void 0||Gp(a))))return c[1]=function(f,p){if(qp(d)&&(p=bl(d,this,K_(f),p)),!Gp(p))return p},Up(Xr,null,c)},Q_=function(a,l,c){var d=ec(c,l-1),f=ec(c,l+1);return wl(rc,a)&&!wl(Xp,f)||wl(Xp,a)&&!wl(rc,d)?"\\u"+Sa(Y_(a,0),16):a};Xr&&Oa({target:"JSON",stat:!0,arity:3,forced:Qp||Jp},{stringify:function(l,c,d){var f=Kp(arguments),p=Up(Qp?We:Xr,null,f);return Jp&&typeof p=="string"?tc(p,X_,Q_):p}});var J_=ne,Z_=Sr,ek=Y,ic=da,tk=Ht,rk=!Z_||ek(function(){ic.f(1)});J_({target:"Object",stat:!0,forced:rk},{getOwnPropertySymbols:function(l){var c=ic.f;return c?c(tk(l)):[]}});var ik=Re;ik("asyncIterator");var nk=Re;nk("hasInstance");var ok=Re;ok("isConcatSpreadable");var Zp=Re;Zp("iterator");var yi=Re;yi("match");var Qr=Re;Qr("matchAll");var _l=Re;_l("replace");var kl=Re;kl("search");var nc=Re;nc("species");var ak=Re;ak("split");var wo=Re,_o=ap;wo("toPrimitive"),_o();var sk=dt,lt=Re,lk=un;lt("toStringTag"),lk(sk("Symbol"),"Symbol");var oc=Re;oc("unscopables");var El=he,ac=un;ac(El.JSON,"JSON",!0);var uk=Ne,sc=uk.Symbol,Dr={},Ol=qe,hk=ce,lc=Function.prototype,ck=Ol&&Object.getOwnPropertyDescriptor,Sl=hk(lc,"name"),eg=Sl&&function(){}.name==="something",dk=Sl&&(!Ol||Ol&&ck(lc,"name").configurable),tg={EXISTS:Sl,PROPER:eg,CONFIGURABLE:dk},rg=Y,ig=!rg(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),uc=ce,ng=Le,og=Ht,fk=sn,vk=ig,ag=fk("IE_PROTO"),hc=Object,pk=hc.prototype,xa=vk?hc.getPrototypeOf:function(a){var l=og(a);if(uc(l,ag))return l[ag];var c=l.constructor;return ng(c)&&l instanceof c?c.prototype:l instanceof hc?pk:null},xl=Y,Nt=Le,Tl=ct,Ta=ln,sg=xa,lg=vo,vr=He,Jr=vr("iterator"),Ia=!1,Zr,cc,$a;[].keys&&($a=[].keys(),"next"in $a?(cc=sg(sg($a)),cc!==Object.prototype&&(Zr=cc)):Ia=!0);var ug=!Tl(Zr)||xl(function(){var a={};return Zr[Jr].call(a)!==a});ug?Zr={}:Zr=Ta(Zr),Nt(Zr[Jr])||lg(Zr,Jr,function(){return this});var mi={IteratorPrototype:Zr,BUGGY_SAFARI_ITERATORS:Ia},hg=mi.IteratorPrototype,gk=ln,cg=Ji,ei=un,Pa=Dr,yk=function(){return this},dc=function(a,l,c,d){var f=l+" Iterator";return a.prototype=gk(hg,{next:cg(+!d,c)}),ei(a,f,!1,!0),Pa[f]=yk,a},dg=De,fc=wt,vc=function(a,l,c){try{return dg(fc(Object.getOwnPropertyDescriptor(a,l)[c]))}catch{}},Il=Le,pc=String,fg=TypeError,vg=function(a){if(typeof a=="object"||Il(a))return a;throw fg("Can't set "+pc(a)+" as a prototype")},pg=vc,gg=at,yg=vg,mg=Object.setPrototypeOf||("__proto__"in{}?function(){var a=!1,l={},c;try{c=pg(Object.prototype,"__proto__","set"),c(l,[]),a=l instanceof Array}catch{}return function(f,p){return gg(f),yg(p),a?c(f,p):f.__proto__=p,f}}():void 0),mk=ne,bk=nt,bg=tg,wg=dc,wk=xa,gc=un,_g=vo,_k=He,kg=Dr,Eg=mi,kk=bg.PROPER;bg.CONFIGURABLE,Eg.IteratorPrototype;var $l=Eg.BUGGY_SAFARI_ITERATORS,Pl=_k("iterator"),yc="keys",Cl="values",mc="entries",Ek=function(){return this},Dl=function(a,l,c,d,f,p,m){wg(c,l,d);var _=function(fe){if(fe===f&&I)return I;if(!$l&&fe in x)return x[fe];switch(fe){case yc:return function(){return new c(this,fe)};case Cl:return function(){return new c(this,fe)};case mc:return function(){return new c(this,fe)}}return function(){return new c(this)}},b=l+" Iterator",O=!1,x=a.prototype,T=x[Pl]||x["@@iterator"]||f&&x[f],I=!$l&&T||_(f),C=l=="Array"&&x.entries||T,U,ee,se;if(C&&(U=wk(C.call(new a)),U!==Object.prototype&&U.next&&(gc(U,b,!0,!0),kg[b]=Ek)),kk&&f==Cl&&T&&T.name!==Cl&&(O=!0,I=function(){return bk(T,this)}),f)if(ee={values:_(Cl),keys:p?I:_(yc),entries:_(mc)},m)for(se in ee)($l||O||!(se in x))&&_g(x,se,ee[se]);else mk({target:l,proto:!0,forced:$l||O},ee);return m&&x[Pl]!==I&&_g(x,Pl,I,{name:f}),kg[l]=I,ee},bc=function(a,l){return{value:a,done:l}},Og=Pe,wc=Dr,Sg=po;Vt.f;var Ca=Dl,Da=bc,_c="Array Iterator",xg=Sg.set,Tg=Sg.getterFor(_c);Ca(Array,"Array",function(a,l){xg(this,{type:_c,target:Og(a),index:0,kind:l})},function(){var a=Tg(this),l=a.target,c=a.kind,d=a.index++;return!l||d>=l.length?(a.target=void 0,Da(void 0,!0)):c=="keys"?Da(d,!1):c=="values"?Da(l[d],!1):Da([d,l[d]],!1)},"values"),wc.Arguments=wc.Array;var Ok={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Sk=Ok,xk=he,bi=xr,Ml=Ye,kc=Dr,Tk=He,Ig=Tk("toStringTag");for(var Ec in Sk){var $g=xk[Ec],Al=$g&&$g.prototype;Al&&bi(Al)!==Ig&&Ml(Al,Ig,Ec),kc[Ec]=kc.Array}var Pg=sc,Oc=Pg,Cg=Re;Cg("dispose");var Ik=Oc,$k=Ik,Dg=Re;Dg("asyncDispose");var Pk=ne,Ck=dt,Dk=De,Mg=Ck("Symbol"),Ag=Mg.keyFor,Mk=Dk(Mg.prototype.valueOf);Pk({target:"Symbol",stat:!0},{isRegistered:function(l){try{return Ag(Mk(l))!==void 0}catch{return!1}}});for(var Ak=ne,Ng=rn,Sc=dt,Nk=De,Rk=ia,xc=He,Nl=Sc("Symbol"),Rg=Nl.isWellKnown,Tc=Sc("Object","getOwnPropertyNames"),Fk=Nk(Nl.prototype.valueOf),Ic=Ng("wks"),$c=0,Fg=Tc(Nl),Bk=Fg.length;$c<Bk;$c++)try{var Ma=Fg[$c];Rk(Nl[Ma])&&xc(Ma)}catch{}Ak({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(l){if(Rg&&Rg(l))return!0;try{for(var c=Fk(l),d=0,f=Tc(Ic),p=f.length;d<p;d++)if(Ic[f[d]]==c)return!0}catch{}return!1}});var Bg=Re;Bg("matcher");var jg=Re;jg("metadataKey");var jk=Re;jk("observable");var zg=Re;zg("metadata");var Pc=Re;Pc("patternMatch");var Lg=Re;Lg("replaceAll");var zk=$k,Hg=zk,Wg=Hg,wi=Wg,ko=ie(wi),Ee=De,Lk=Ws,Ug=Pr,Vg=rr,L=Ee("".charAt),Cc=Ee("".charCodeAt),qg=Ee("".slice),Gg=function(a){return function(l,c){var d=Ug(Vg(l)),f=Lk(c),p=d.length,m,_;return f<0||f>=p?a?"":void 0:(m=Cc(d,f),m<55296||m>56319||f+1===p||(_=Cc(d,f+1))<56320||_>57343?a?L(d,f):m:a?qg(d,f,f+2):(m-55296<<10)+(_-56320)+65536)}},Hk={codeAt:Gg(!1),charAt:Gg(!0)},Wk=Hk.charAt,Uk=Pr,Dc=po,Vk=Dl,Kg=bc,Yg="String Iterator",qk=Dc.set,Gk=Dc.getterFor(Yg);Vk(String,"String",function(a){qk(this,{type:Yg,string:Uk(a),index:0})},function(){var l=Gk(this),c=l.string,d=l.index,f;return d>=c.length?Kg(void 0,!0):(f=Wk(c,d),l.index+=f.length,Kg(f,!1))});var Kk=fa,Yk=Kk.f("iterator"),Mc=Yk,Xg=Mc,Xk=Xg,Qk=Xk,Qg=Qk,Jk=Qg,Zk=Jk,Ac=Zk,eE=ie(Ac);function ft(a){return ft=typeof ko=="function"&&typeof eE=="symbol"?function(l){return typeof l}:function(l){return l&&typeof ko=="function"&&l.constructor===ko&&l!==ko.prototype?"symbol":typeof l},ft(a)}var tE=fa,rE=tE.f("toPrimitive"),iE=rE,nE=iE,oE=nE,Nc=oE,aE=Nc,sE=aE,lE=sE,uE=lE,Rc=ie(uE);function hE(a,l){if(ft(a)!=="object"||a===null)return a;var c=a[Rc];if(c!==void 0){var d=c.call(a,l||"default");if(ft(d)!=="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(a)}function Fc(a){var l=hE(a,"string");return ft(l)==="symbol"?l:String(l)}function Jg(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),sa(a,Fc(d.key),d)}}function _i(a,l,c){return l&&Jg(a.prototype,l),c&&Jg(a,c),sa(a,"prototype",{writable:!1}),a}function me(a,l,c){return l=Fc(l),l in a?sa(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}var Bc=De,Ue=wt,Mr=ct,ki=ce,Zg=mo,cE=Zo,ey=Function,jc=Bc([].concat),dE=Bc([].join),Aa={},vt=function(a,l,c){if(!ki(Aa,l)){for(var d=[],f=0;f<l;f++)d[f]="a["+f+"]";Aa[l]=ey("C,a","return new C("+dE(d,",")+")")}return Aa[l](a,c)},ty=cE?ey.bind:function(l){var c=Ue(this),d=c.prototype,f=Zg(arguments,1),p=function(){var _=jc(f,Zg(arguments));return this instanceof p?vt(c,_.length,_):c.apply(l,_)};return Mr(d)&&(p.prototype=d),p},fE=ne,ry=ty;fE({target:"Function",proto:!0,forced:Function.bind!==ry},{bind:ry});var vE=Ne,Et=function(a){return vE[a+"Prototype"]},pE=Et,Se=pE("Function").bind,gE=Ge,yE=Se,zc=Function.prototype,mE=function(a){var l=a.bind;return a===zc||gE(zc,a)&&l===zc.bind?yE:l},Lc=mE,iy=Lc,Eo=iy,fn=ie(Eo),ny=wt,Ve=Ht,bE=Is,oy=qt,wE=TypeError,Na=function(a){return function(l,c,d,f){ny(c);var p=Ve(l),m=bE(p),_=oy(p),b=a?_-1:0,O=a?-1:1;if(d<2)for(;;){if(b in m){f=m[b],b+=O;break}if(b+=O,a?b<0:_<=b)throw wE("Reduce of empty array with no initial value")}for(;a?b>=0:_>b;b+=O)b in m&&(f=c(f,m[b],b,p));return f}},_E={left:Na(!1),right:Na(!0)},Oo=Y,Rl=function(a,l){var c=[][a];return!!c&&Oo(function(){c.call(null,l||function(){return 1},1)})},ay=ai,Ra=typeof process<"u"&&ay(process)=="process",kE=ne,EE=_E.left,OE=Rl,sy=Kn,Hc=Ra,SE=!Hc&&sy>79&&sy<83,xE=SE||!OE("reduce");kE({target:"Array",proto:!0,forced:xE},{reduce:function(l){var c=arguments.length;return EE(this,l,c,c>1?arguments[1]:void 0)}});var Ce=Et,TE=Ce("Array").reduce,IE=Ge,$E=TE,Fl=Array.prototype,PE=function(a){var l=a.reduce;return a===Fl||IE(Fl,a)&&l===Fl.reduce?$E:l},CE=PE,DE=CE,Wc=DE,ly=ie(Wc),vn=ne,uy=go.filter,ME=ao,hy=ME("filter");vn({target:"Array",proto:!0,forced:!hy},{filter:function(l){return uy(this,l,arguments.length>1?arguments[1]:void 0)}});var AE=Et,NE=AE("Array").filter,RE=Ge,FE=NE,Uc=Array.prototype,BE=function(a){var l=a.filter;return a===Uc||RE(Uc,a)&&l===Uc.filter?FE:l},jE=BE,zE=jE,LE=zE,Qe=ie(LE),HE=ne,WE=go.map,UE=ao,VE=UE("map");HE({target:"Array",proto:!0,forced:!VE},{map:function(l){return WE(this,l,arguments.length>1?arguments[1]:void 0)}});var qE=Et,GE=qE("Array").map,Vc=Ge,KE=GE,pr=Array.prototype,YE=function(a){var l=a.map;return a===pr||Vc(pr,a)&&l===pr.map?KE:l},XE=YE,QE=XE,JE=QE,Kt=ie(JE),ZE=di,eO=qt,tO=la,rO=cr,cy=function(a,l,c,d,f,p,m,_){for(var b=f,O=0,x=m?rO(m,_):!1,T,I;O<d;)O in c&&(T=x?x(c[O],O,l):c[O],p>0&&ZE(T)?(I=eO(T),b=cy(a,l,T,I,b,p-1)-1):(tO(b+1),a[b]=T),b++),O++;return b},iO=cy,dy=ne,nO=iO,oO=wt,aO=Ht,fy=qt,sO=ha;dy({target:"Array",proto:!0},{flatMap:function(l){var c=aO(this),d=fy(c),f;return oO(l),f=sO(c,0),f.length=nO(f,c,c,d,0,1,l,arguments.length>1?arguments[1]:void 0),f}});var lO=Et,qc=lO("Array").flatMap,Gc=Ge,uO=qc,Ar=Array.prototype,hO=function(a){var l=a.flatMap;return a===Ar||Gc(Ar,a)&&l===Ar.flatMap?uO:l},vy=hO,cO=vy,py=cO,gy=ie(py);function dO(a){return new vO(a)}var fO=function(){function a(l,c,d){var f,p,m;yt(this,a),me(this,"_source",void 0),me(this,"_transformers",void 0),me(this,"_target",void 0),me(this,"_listeners",{add:fn(f=this._add).call(f,this),remove:fn(p=this._remove).call(p,this),update:fn(m=this._update).call(m,this)}),this._source=l,this._transformers=c,this._target=d}return _i(a,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(c){var d;return ly(d=this._transformers).call(d,function(f,p){return p(f)},c)}},{key:"_add",value:function(c,d){d!=null&&this._target.add(this._transformItems(this._source.get(d.items)))}},{key:"_update",value:function(c,d){d!=null&&this._target.update(this._transformItems(this._source.get(d.items)))}},{key:"_remove",value:function(c,d){d!=null&&this._target.remove(this._transformItems(d.oldData))}}]),a}(),vO=function(){function a(l){yt(this,a),me(this,"_source",void 0),me(this,"_transformers",[]),this._source=l}return _i(a,[{key:"filter",value:function(c){return this._transformers.push(function(d){return Qe(d).call(d,c)}),this}},{key:"map",value:function(c){return this._transformers.push(function(d){return Kt(d).call(d,c)}),this}},{key:"flatMap",value:function(c){return this._transformers.push(function(d){return gy(d).call(d,c)}),this}},{key:"to",value:function(c){return new fO(this._source,this._transformers,c)}}]),a}(),pO=nt,Bl=at,gO=eh,Ot=function(a,l,c){var d,f;Bl(a);try{if(d=gO(a,"return"),!d){if(l==="throw")throw c;return c}d=pO(d,a)}catch(p){f=!0,d=p}if(l==="throw")throw c;if(f)throw d;return Bl(d),c},Kc=at,yO=Ot,mO=function(a,l,c,d){try{return d?l(Kc(c)[0],c[1]):l(c)}catch(f){yO(a,"throw",f)}},Yc=He,yy=Dr,bO=Yc("iterator"),wO=Array.prototype,jl=function(a){return a!==void 0&&(yy.Array===a||wO[bO]===a)},my=xr,Xc=eh,_O=Gr,kO=Dr,EO=He,OO=EO("iterator"),Fa=function(a){if(!_O(a))return Xc(a,OO)||Xc(a,"@@iterator")||kO[my(a)]},Ba=nt,by=wt,wy=at,_y=ui,SO=Fa,ky=TypeError,Yt=function(a,l){var c=arguments.length<2?SO(a):l;if(by(c))return wy(Ba(c,a));throw ky(_y(a)+" is not iterable")},xO=cr,TO=nt,IO=Ht,Qc=mO,Ey=jl,$O=Ks,PO=qt,Oy=je,Jc=Yt,CO=Fa,we=Array,DO=function(l){var c=IO(l),d=$O(this),f=arguments.length,p=f>1?arguments[1]:void 0,m=p!==void 0;m&&(p=xO(p,f>2?arguments[2]:void 0));var _=CO(c),b=0,O,x,T,I,C,U;if(_&&!(this===we&&Ey(_)))for(I=Jc(c,_),C=I.next,x=d?new this:[];!(T=TO(C,I)).done;b++)U=m?Qc(I,p,[T.value,b],!0):T.value,Oy(x,b,U);else for(O=PO(c),x=d?new this(O):we(O);O>b;b++)U=m?p(c[b],b):c[b],Oy(x,b,U);return x.length=b,x},Sy=He,Ei=Sy("iterator"),zl=!1;try{var MO=0,xy={next:function(){return{done:!!MO++}},return:function(){zl=!0}};xy[Ei]=function(){return this},Array.from(xy,function(){throw 2})}catch{}var So=function(a,l){if(!l&&!zl)return!1;var c=!1;try{var d={};d[Ei]=function(){return{next:function(){return{done:c=!0}}}},a(d)}catch{}return c},AO=ne,NO=DO,Ty=So,RO=!Ty(function(a){Array.from(a)});AO({target:"Array",stat:!0,forced:RO},{from:NO});var FO=Ne,BO=FO.Array.from,jO=BO,Iy=jO,zO=Iy,Ll=ie(zO),LO=Fa,$y=LO,HO=$y,Py=HO,Cy=Py,WO=Cy,Dy=WO,My=Dy,Nr=My,UO=Nr,pn=ie(UO),VO=Ne,qO=VO.Object.getOwnPropertySymbols,Ay=qO,GO=Ay,KO=GO,Ny=ie(KO),Hl={exports:{}},YO=ne,ja=Y,gr=Pe,Xt=Or.f,za=qe,Oi=!za||ja(function(){Xt(1)});YO({target:"Object",stat:!0,forced:Oi,sham:!za},{getOwnPropertyDescriptor:function(l,c){return Xt(gr(l),c)}});var gn=Ne,Zc=gn.Object,XO=Hl.exports=function(l,c){return Zc.getOwnPropertyDescriptor(l,c)};Zc.getOwnPropertyDescriptor.sham&&(XO.sham=!0);var xo=Hl.exports,yn=xo,ed=yn,Wl=ed,td=ie(Wl),Ry=dt,Fy=De,By=ho,rd=da,mn=at,La=Fy([].concat),bn=Ry("Reflect","ownKeys")||function(l){var c=By.f(mn(l)),d=rd.f;return d?La(c,d(l)):c},Ul=ne,jy=qe,QO=bn,JO=Pe,Ha=Or,id=je;Ul({target:"Object",stat:!0,sham:!jy},{getOwnPropertyDescriptors:function(l){for(var c=JO(l),d=Ha.f,f=QO(c),p={},m=0,_,b;f.length>m;)b=d(c,_=f[m++]),b!==void 0&&id(p,_,b);return p}});var ZO=Ne,St=ZO.Object.getOwnPropertyDescriptors,Je=St,Rt=Je,Vl=Rt,To=ie(Vl),Io={exports:{}},Wa=ne,$o=qe,yr=Js.f;Wa({target:"Object",stat:!0,forced:Object.defineProperties!==yr,sham:!$o},{defineProperties:yr});var wn=Ne,nd=wn.Object,zy=Io.exports=function(l,c){return nd.defineProperties(l,c)};nd.defineProperties.sham&&(zy.sham=!0);var ql=Io.exports,ti=ql,Gl=ti,_n=Gl,Ly=ie(_n),od=yv,ad=ie(od),Hy=ne,Kl=di;Hy({target:"Array",stat:!0},{isArray:Kl});var sd=Ne,Wy=sd.Array.isArray,Uy=Wy,Vy=Uy,eS=Vy,Ua=eS,Va=Ua,qa=Va,qy=qa,Po=qy,Si=ie(Po);function tS(a){if(Si(a))return a}function rS(a,l){var c=a==null?null:typeof ko<"u"&&pn(a)||a["@@iterator"];if(c!=null){var d,f,p,m,_=[],b=!0,O=!1;try{if(p=(c=c.call(a)).next,l===0){if(Object(c)!==c)return;b=!1}else for(;!(b=(d=p.call(c)).done)&&(_.push(d.value),_.length!==l);b=!0);}catch(x){O=!0,f=x}finally{try{if(!b&&c.return!=null&&(m=c.return(),Object(m)!==m))return}finally{if(O)throw f}}return _}}var Gy=ne,ld=di,Ky=Ks,Ga=ct,Yl=Zs,iS=qt,ud=Pe,nS=je,oS=He,hd=ao,aS=mo,Yy=hd("slice"),sS=oS("species"),cd=Array,Xy=Math.max;Gy({target:"Array",proto:!0,forced:!Yy},{slice:function(l,c){var d=ud(this),f=iS(d),p=Yl(l,f),m=Yl(c===void 0?f:c,f),_,b,O;if(ld(d)&&(_=d.constructor,Ky(_)&&(_===cd||ld(_.prototype))?_=void 0:Ga(_)&&(_=_[sS],_===null&&(_=void 0)),_===cd||_===void 0))return aS(d,p,m);for(b=new(_===void 0?cd:_)(Xy(m-p,0)),O=0;p<m;p++,O++)p in d&&nS(b,O,d[p]);return b.length=O,b}});var Co=Et,xi=Co("Array").slice,lS=Ge,Xl=xi,Ql=Array.prototype,Ka=function(a){var l=a.slice;return a===Ql||lS(Ql,a)&&l===Ql.slice?Xl:l},dd=Ka,kn=dd,Qy=kn,fd=Qy,Jy=fd,Zy=Jy,em=Zy,vd=em,tm=ie(vd),rm=Iy,im=rm,nm=im,uS=nm,hS=uS,cS=hS,pd=ie(cS);function Jl(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=a[c];return d}function om(a,l){var c;if(!!a){if(typeof a=="string")return Jl(a,l);var d=tm(c=Object.prototype.toString.call(a)).call(c,8,-1);if(d==="Object"&&a.constructor&&(d=a.constructor.name),d==="Map"||d==="Set")return pd(a);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Jl(a,l)}}function dS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xt(a,l){return tS(a)||rS(a,l)||om(a,l)||dS()}function am(a){if(Si(a))return Jl(a)}function fS(a){if(typeof ko<"u"&&pn(a)!=null||a["@@iterator"]!=null)return pd(a)}function sm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(a){return am(a)||fS(a)||om(a)||sm()}var Zl=Oc,En=ie(Zl),Rr=Et,vS=Rr("Array").concat,pS=Ge,gS=vS,gd=Array.prototype,Ti=function(a){var l=a.concat;return a===gd||pS(gd,a)&&l===gd.concat?gS:l},Ii=Ti,lm=Ii,On=lm,Ya=ie(On),Do=kn,$i=ie(Do),Me=ne,eu=bn;Me({target:"Reflect",stat:!0},{ownKeys:eu});var yS=Ne,pe=yS.Reflect.ownKeys,yd=pe,nr=yd,um=nr,tu=ie(um),Xa=Vy,ut=ie(Xa),md=ne,hm=Ht,bd=Cr,Pi=Y,or=Pi(function(){bd(1)});md({target:"Object",stat:!0,forced:or},{keys:function(l){return bd(hm(l))}});var mS=Ne,Ci=mS.Object.keys,bS=Ci,wS=bS,wd=wS,ru=ie(wd),_S=go.forEach,kS=Rl,Qa=kS("forEach"),_d=Qa?[].forEach:function(l){return _S(this,l,arguments.length>1?arguments[1]:void 0)},ES=ne,cm=_d;ES({target:"Array",proto:!0,forced:[].forEach!=cm},{forEach:cm});var OS=Et,Mo=OS("Array").forEach,SS=Mo,dm=SS,xS=xr,fm=ce,vm=Ge,kd=dm,pt=Array.prototype,pm={DOMTokenList:!0,NodeList:!0},ri=function(a){var l=a.forEach;return a===pt||vm(pt,a)&&l===pt.forEach||fm(pm,xS(a))?kd:l},Ao=ri,oe=ie(Ao),re=ne,Ft=De,ht=di,No=Ft([].reverse),Ed=[1,2];re({target:"Array",proto:!0,forced:String(Ed)===String(Ed.reverse())},{reverse:function(){return ht(this)&&(this.length=this.length),No(this)}});var Di=Et,TS=Di("Array").reverse,gm=Ge,IS=TS,iu=Array.prototype,Ae=function(a){var l=a.reverse;return a===iu||gm(iu,a)&&l===iu.reverse?IS:l},ym=Ae,mm=ym,bm=mm,wm=ie(bm),Ja=qe,Tt=di,_m=TypeError,km=Object.getOwnPropertyDescriptor,Em=Ja&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(a){return a instanceof TypeError}}(),Od=Em?function(a,l){if(Tt(a)&&!km(a,"length").writable)throw _m("Cannot set read only .length");return a.length=l}:function(a,l){return a.length=l},Om=ui,Sd=TypeError,Sm=function(a,l){if(!delete a[l])throw Sd("Cannot delete property "+Om(l)+" of "+Om(a))},$S=ne,PS=Ht,xm=Zs,Tm=Ws,CS=qt,DS=Od,MS=la,AS=ha,Im=je,Ro=Sm,NS=ao,$m=NS("splice"),RS=Math.max,FS=Math.min;$S({target:"Array",proto:!0,forced:!$m},{splice:function(l,c){var d=PS(this),f=CS(d),p=xm(l,f),m=arguments.length,_,b,O,x,T,I;for(m===0?_=b=0:m===1?(_=0,b=f-p):(_=m-2,b=FS(RS(Tm(c),0),f-p)),MS(f+_-b),O=AS(d,b),x=0;x<b;x++)T=p+x,T in d&&Im(O,x,d[T]);if(O.length=b,_<b){for(x=p;x<f-b;x++)T=x+b,I=x+_,T in d?d[I]=d[T]:Ro(d,I);for(x=f;x>f-b+_;x--)Ro(d,x-1)}else if(_>b)for(x=f-b;x>p;x--)T=x+b-1,I=x+_-1,T in d?d[I]=d[T]:Ro(d,I);for(x=0;x<_;x++)d[x+p]=arguments[x+2];return DS(d,f-b+_),O}});var BS=Et,jS=BS("Array").splice,xd=Ge,zS=jS,nu=Array.prototype,LS=function(a){var l=a.splice;return a===nu||xd(nu,a)&&l===nu.splice?zS:l},Td=LS,HS=Td,Pm=HS,Fr=ie(Pm),Cm=qe,Id=De,WS=nt,ou=Y,$d=Cr,US=da,VS=hr,qS=Ht,GS=Is,Fo=Object.assign,Pd=Object.defineProperty,KS=Id([].concat),YS=!Fo||ou(function(){if(Cm&&Fo({b:1},Fo(Pd({},"a",{enumerable:!0,get:function(){Pd(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var a={},l={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(f){l[f]=f}),Fo({},a)[c]!=7||$d(Fo({},l)).join("")!=d})?function(l,c){for(var d=qS(l),f=arguments.length,p=1,m=US.f,_=VS.f;f>p;)for(var b=GS(arguments[p++]),O=m?KS($d(b),m(b)):$d(b),x=O.length,T=0,I;x>T;)I=O[T++],(!Cm||WS(_,b,I))&&(d[I]=b[I]);return d}:Fo,Dm=ne,Mm=YS;Dm({target:"Object",stat:!0,arity:2,forced:Object.assign!==Mm},{assign:Mm});var au=Ne,Am=au.Object.assign,Cd=Am,XS=Cd,QS=XS,su=ie(QS),JS=ne,ZS=Y,ex=Ht,Nm=xa,tx=ig,rx=ZS(function(){Nm(1)});JS({target:"Object",stat:!0,forced:rx,sham:!tx},{getPrototypeOf:function(l){return Nm(ex(l))}});var ix=Ne,nx=ix.Object.getPrototypeOf,ox=nx,ax=ox,sx=ne,lx=qe,ux=ln;sx({target:"Object",stat:!0,sham:!lx},{create:ux});var hx=Ne,cx=hx.Object,dx=function(l,c){return cx.create(l,c)},Dd=dx,Rm=Dd,Md=Rm,fx=ie(Md),Ad=Ne,vx=Xi;Ad.JSON||(Ad.JSON={stringify:JSON.stringify});var Fm=function(l,c,d){return vx(Ad.JSON.stringify,null,arguments)},px=Fm,gx=px,Bm=gx,yx=ie(Bm),mx=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",bx=TypeError,jm=function(a,l){if(a<l)throw bx("Not enough arguments");return a},zm=he,Lm=Xi,wx=Le,Za=mx,Hm=Kr,Wm=mo,Nd=jm,Um=zm.Function,Vm=/MSIE .\./.test(Hm)||Za&&function(){var a=zm.Bun.version.split(".");return a.length<3||a[0]==0&&(a[1]<3||a[1]==3&&a[2]==0)}(),qm=function(a,l){var c=l?2:1;return Vm?function(d,f){var p=Nd(arguments.length,1)>c,m=wx(d)?d:Um(d),_=p?Wm(arguments,c):[],b=p?function(){Lm(m,this,_)}:m;return l?a(b,f):a(b)}:a},Rd=ne,Gm=he,_x=qm,Mi=_x(Gm.setInterval,!0);Rd({global:!0,bind:!0,forced:Gm.setInterval!==Mi},{setInterval:Mi});var kx=ne,Km=he,Ex=qm,Ym=Ex(Km.setTimeout,!0);kx({global:!0,bind:!0,forced:Km.setTimeout!==Ym},{setTimeout:Ym});var Fd=Ne,Ox=Fd.setTimeout,Sx=Ox,Ai=ie(Sx),Bd={exports:{}};(function(a){a.exports=l;function l(d){if(d)return c(d)}function c(d){for(var f in l.prototype)d[f]=l.prototype[f];return d}l.prototype.on=l.prototype.addEventListener=function(d,f){return this._callbacks=this._callbacks||{},(this._callbacks["$"+d]=this._callbacks["$"+d]||[]).push(f),this},l.prototype.once=function(d,f){function p(){this.off(d,p),f.apply(this,arguments)}return p.fn=f,this.on(d,p),this},l.prototype.off=l.prototype.removeListener=l.prototype.removeAllListeners=l.prototype.removeEventListener=function(d,f){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var p=this._callbacks["$"+d];if(!p)return this;if(arguments.length==1)return delete this._callbacks["$"+d],this;for(var m,_=0;_<p.length;_++)if(m=p[_],m===f||m.fn===f){p.splice(_,1);break}return p.length===0&&delete this._callbacks["$"+d],this},l.prototype.emit=function(d){this._callbacks=this._callbacks||{};for(var f=new Array(arguments.length-1),p=this._callbacks["$"+d],m=1;m<arguments.length;m++)f[m-1]=arguments[m];if(p){p=p.slice(0);for(var m=0,_=p.length;m<_;++m)p[m].apply(this,f)}return this},l.prototype.listeners=function(d){return this._callbacks=this._callbacks||{},this._callbacks["$"+d]||[]},l.prototype.hasListeners=function(d){return!!this.listeners(d).length}})(Bd);var xx=Bd.exports,Tx=ie(xx);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function mr(){return mr=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},mr.apply(this,arguments)}function Qt(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}function es(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var lu;typeof Object.assign!="function"?lu=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(l),d=1;d<arguments.length;d++){var f=arguments[d];if(f!=null)for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p])}return c}:lu=Object.assign;var Sn=lu,jd=["","webkit","Moz","MS","ms","o"],Ni=typeof document>"u"?{style:{}}:document.createElement("div"),Ix="function",Bo=Math.round,xn=Math.abs,zd=Date.now;function br(a,l){for(var c,d,f=l[0].toUpperCase()+l.slice(1),p=0;p<jd.length;){if(c=jd[p],d=c?c+f:l,d in a)return d;p++}}var Br;typeof window>"u"?Br={}:Br=window;var Xm=br(Ni.style,"touchAction"),Qm=Xm!==void 0;function Jm(){if(!Qm)return!1;var a={},l=Br.CSS&&Br.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(c){return a[c]=l?Br.CSS.supports("touch-action",c):!0}),a}var Ld="compute",Zm="auto",jo="manipulation",jr="none",Ri="pan-x",zo="pan-y",uu=Jm(),$x=/mobile|tablet|ip(ad|hone|od)|android/i,eb="ontouchstart"in Br,Px=br(Br,"PointerEvent")!==void 0,Cx=eb&&$x.test(navigator.userAgent),Fi="touch",tb="pen",hu="mouse",rb="kinect",ib=25,It=1,Tn=2,Ze=4,Bt=8,cu=1,ts=2,In=4,$n=8,ii=16,wr=ts|In,Pn=$n|ii,nb=wr|Pn,ob=["x","y"],du=["clientX","clientY"];function ni(a,l,c){var d;if(!!a)if(a.forEach)a.forEach(l,c);else if(a.length!==void 0)for(d=0;d<a.length;)l.call(c,a[d],d,a),d++;else for(d in a)a.hasOwnProperty(d)&&l.call(c,a[d],d,a)}function Lo(a,l){return typeof a===Ix?a.apply(l&&l[0]||void 0,l):a}function Cn(a,l){return a.indexOf(l)>-1}function Dx(a){if(Cn(a,jr))return jr;var l=Cn(a,Ri),c=Cn(a,zo);return l&&c?jr:l||c?l?Ri:zo:Cn(a,jo)?jo:Zm}var Hd=function(){function a(c,d){this.manager=c,this.set(d)}var l=a.prototype;return l.set=function(d){d===Ld&&(d=this.compute()),Qm&&this.manager.element.style&&uu[d]&&(this.manager.element.style[Xm]=d),this.actions=d.toLowerCase().trim()},l.update=function(){this.set(this.manager.options.touchAction)},l.compute=function(){var d=[];return ni(this.manager.recognizers,function(f){Lo(f.options.enable,[f])&&(d=d.concat(f.getTouchAction()))}),Dx(d.join(" "))},l.preventDefaults=function(d){var f=d.srcEvent,p=d.offsetDirection;if(this.manager.session.prevented){f.preventDefault();return}var m=this.actions,_=Cn(m,jr)&&!uu[jr],b=Cn(m,zo)&&!uu[zo],O=Cn(m,Ri)&&!uu[Ri];if(_){var x=d.pointers.length===1,T=d.distance<2,I=d.deltaTime<250;if(x&&T&&I)return}if(!(O&&b)&&(_||b&&p&wr||O&&p&Pn))return this.preventSrc(f)},l.preventSrc=function(d){this.manager.session.prevented=!0,d.preventDefault()},a}();function Wd(a,l){for(;a;){if(a===l)return!0;a=a.parentNode}return!1}function ab(a){var l=a.length;if(l===1)return{x:Bo(a[0].clientX),y:Bo(a[0].clientY)};for(var c=0,d=0,f=0;f<l;)c+=a[f].clientX,d+=a[f].clientY,f++;return{x:Bo(c/l),y:Bo(d/l)}}function Ud(a){for(var l=[],c=0;c<a.pointers.length;)l[c]={clientX:Bo(a.pointers[c].clientX),clientY:Bo(a.pointers[c].clientY)},c++;return{timeStamp:zd(),pointers:l,center:ab(l),deltaX:a.deltaX,deltaY:a.deltaY}}function fu(a,l,c){c||(c=ob);var d=l[c[0]]-a[c[0]],f=l[c[1]]-a[c[1]];return Math.sqrt(d*d+f*f)}function Dn(a,l,c){c||(c=ob);var d=l[c[0]]-a[c[0]],f=l[c[1]]-a[c[1]];return Math.atan2(f,d)*180/Math.PI}function Vd(a,l){return a===l?cu:xn(a)>=xn(l)?a<0?ts:In:l<0?$n:ii}function Mx(a,l){var c=l.center,d=a.offsetDelta||{},f=a.prevDelta||{},p=a.prevInput||{};(l.eventType===It||p.eventType===Ze)&&(f=a.prevDelta={x:p.deltaX||0,y:p.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),l.deltaX=f.x+(c.x-d.x),l.deltaY=f.y+(c.y-d.y)}function sb(a,l,c){return{x:l/a||0,y:c/a||0}}function Ax(a,l){return fu(l[0],l[1],du)/fu(a[0],a[1],du)}function Nx(a,l){return Dn(l[1],l[0],du)+Dn(a[1],a[0],du)}function qd(a,l){var c=a.lastInterval||l,d=l.timeStamp-c.timeStamp,f,p,m,_;if(l.eventType!==Bt&&(d>ib||c.velocity===void 0)){var b=l.deltaX-c.deltaX,O=l.deltaY-c.deltaY,x=sb(d,b,O);p=x.x,m=x.y,f=xn(x.x)>xn(x.y)?x.x:x.y,_=Vd(b,O),a.lastInterval=l}else f=c.velocity,p=c.velocityX,m=c.velocityY,_=c.direction;l.velocity=f,l.velocityX=p,l.velocityY=m,l.direction=_}function Rx(a,l){var c=a.session,d=l.pointers,f=d.length;c.firstInput||(c.firstInput=Ud(l)),f>1&&!c.firstMultiple?c.firstMultiple=Ud(l):f===1&&(c.firstMultiple=!1);var p=c.firstInput,m=c.firstMultiple,_=m?m.center:p.center,b=l.center=ab(d);l.timeStamp=zd(),l.deltaTime=l.timeStamp-p.timeStamp,l.angle=Dn(_,b),l.distance=fu(_,b),Mx(c,l),l.offsetDirection=Vd(l.deltaX,l.deltaY);var O=sb(l.deltaTime,l.deltaX,l.deltaY);l.overallVelocityX=O.x,l.overallVelocityY=O.y,l.overallVelocity=xn(O.x)>xn(O.y)?O.x:O.y,l.scale=m?Ax(m.pointers,d):1,l.rotation=m?Nx(m.pointers,d):0,l.maxPointers=c.prevInput?l.pointers.length>c.prevInput.maxPointers?l.pointers.length:c.prevInput.maxPointers:l.pointers.length,qd(c,l);var x=a.element,T=l.srcEvent,I;T.composedPath?I=T.composedPath()[0]:T.path?I=T.path[0]:I=T.target,Wd(I,x)&&(x=I),l.target=x}function lb(a,l,c){var d=c.pointers.length,f=c.changedPointers.length,p=l&It&&d-f===0,m=l&(Ze|Bt)&&d-f===0;c.isFirst=!!p,c.isFinal=!!m,p&&(a.session={}),c.eventType=l,Rx(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function rs(a){return a.trim().split(/\s+/g)}function Ho(a,l,c){ni(rs(l),function(d){a.addEventListener(d,c,!1)})}function is(a,l,c){ni(rs(l),function(d){a.removeEventListener(d,c,!1)})}function Gd(a){var l=a.ownerDocument||a;return l.defaultView||l.parentWindow||window}var Bi=function(){function a(c,d){var f=this;this.manager=c,this.callback=d,this.element=c.element,this.target=c.options.inputTarget,this.domHandler=function(p){Lo(c.options.enable,[c])&&f.handler(p)},this.init()}var l=a.prototype;return l.handler=function(){},l.init=function(){this.evEl&&Ho(this.element,this.evEl,this.domHandler),this.evTarget&&Ho(this.target,this.evTarget,this.domHandler),this.evWin&&Ho(Gd(this.element),this.evWin,this.domHandler)},l.destroy=function(){this.evEl&&is(this.element,this.evEl,this.domHandler),this.evTarget&&is(this.target,this.evTarget,this.domHandler),this.evWin&&is(Gd(this.element),this.evWin,this.domHandler)},a}();function Mn(a,l,c){if(a.indexOf&&!c)return a.indexOf(l);for(var d=0;d<a.length;){if(c&&a[d][c]==l||!c&&a[d]===l)return d;d++}return-1}var Fx={pointerdown:It,pointermove:Tn,pointerup:Ze,pointercancel:Bt,pointerout:Bt},ub={2:Fi,3:tb,4:hu,5:rb},Kd="pointerdown",Yd="pointermove pointerup pointercancel";Br.MSPointerEvent&&!Br.PointerEvent&&(Kd="MSPointerDown",Yd="MSPointerMove MSPointerUp MSPointerCancel");var M=function(a){Qt(l,a);function l(){var d,f=l.prototype;return f.evEl=Kd,f.evWin=Yd,d=a.apply(this,arguments)||this,d.store=d.manager.session.pointerEvents=[],d}var c=l.prototype;return c.handler=function(f){var p=this.store,m=!1,_=f.type.toLowerCase().replace("ms",""),b=Fx[_],O=ub[f.pointerType]||f.pointerType,x=O===Fi,T=Mn(p,f.pointerId,"pointerId");b&It&&(f.button===0||x)?T<0&&(p.push(f),T=p.length-1):b&(Ze|Bt)&&(m=!0),!(T<0)&&(p[T]=f,this.callback(this.manager,b,{pointers:p,changedPointers:[f],pointerType:O,srcEvent:f}),m&&p.splice(T,1))},l}(Bi);function ns(a){return Array.prototype.slice.call(a,0)}function os(a,l,c){for(var d=[],f=[],p=0;p<a.length;){var m=l?a[p][l]:a[p];Mn(f,m)<0&&d.push(a[p]),f[p]=m,p++}return c&&(l?d=d.sort(function(_,b){return _[l]>b[l]}):d=d.sort()),d}var Xd={touchstart:It,touchmove:Tn,touchend:Ze,touchcancel:Bt},Qd="touchstart touchmove touchend touchcancel",_e=function(a){Qt(l,a);function l(){var d;return l.prototype.evTarget=Qd,d=a.apply(this,arguments)||this,d.targetIds={},d}var c=l.prototype;return c.handler=function(f){var p=Xd[f.type],m=xe.call(this,f,p);!m||this.callback(this.manager,p,{pointers:m[0],changedPointers:m[1],pointerType:Fi,srcEvent:f})},l}(Bi);function xe(a,l){var c=ns(a.touches),d=this.targetIds;if(l&(It|Tn)&&c.length===1)return d[c[0].identifier]=!0,[c,c];var f,p,m=ns(a.changedTouches),_=[],b=this.target;if(p=c.filter(function(O){return Wd(O.target,b)}),l===It)for(f=0;f<p.length;)d[p[f].identifier]=!0,f++;for(f=0;f<m.length;)d[m[f].identifier]&&_.push(m[f]),l&(Ze|Bt)&&delete d[m[f].identifier],f++;if(!!_.length)return[os(p.concat(_),"identifier",!0),_]}var hb={mousedown:It,mousemove:Tn,mouseup:Ze},q="mousedown",An="mousemove mouseup",Jd=function(a){Qt(l,a);function l(){var d,f=l.prototype;return f.evEl=q,f.evWin=An,d=a.apply(this,arguments)||this,d.pressed=!1,d}var c=l.prototype;return c.handler=function(f){var p=hb[f.type];p&It&&f.button===0&&(this.pressed=!0),p&Tn&&f.which!==1&&(p=Ze),this.pressed&&(p&Ze&&(this.pressed=!1),this.callback(this.manager,p,{pointers:[f],changedPointers:[f],pointerType:hu,srcEvent:f}))},l}(Bi),Bx=2500,cb=25;function vu(a){var l=a.changedPointers,c=l[0];if(c.identifier===this.primaryTouch){var d={x:c.clientX,y:c.clientY},f=this.lastTouches;this.lastTouches.push(d);var p=function(){var _=f.indexOf(d);_>-1&&f.splice(_,1)};setTimeout(p,Bx)}}function jx(a,l){a&It?(this.primaryTouch=l.changedPointers[0].identifier,vu.call(this,l)):a&(Ze|Bt)&&vu.call(this,l)}function zx(a){for(var l=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var f=this.lastTouches[d],p=Math.abs(l-f.x),m=Math.abs(c-f.y);if(p<=cb&&m<=cb)return!0}return!1}var db=function(){var a=function(l){Qt(c,l);function c(f,p){var m;return m=l.call(this,f,p)||this,m.handler=function(_,b,O){var x=O.pointerType===Fi,T=O.pointerType===hu;if(!(T&&O.sourceCapabilities&&O.sourceCapabilities.firesTouchEvents)){if(x)jx.call(es(es(m)),b,O);else if(T&&zx.call(es(es(m)),O))return;m.callback(_,b,O)}},m.touch=new _e(m.manager,m.handler),m.mouse=new Jd(m.manager,m.handler),m.primaryTouch=null,m.lastTouches=[],m}var d=c.prototype;return d.destroy=function(){this.touch.destroy(),this.mouse.destroy()},c}(Bi);return a}();function Lx(a){var l,c=a.options.inputClass;return c?l=c:Px?l=M:Cx?l=_e:eb?l=db:l=Jd,new l(a,lb)}function Wo(a,l,c){return Array.isArray(a)?(ni(a,c[l],c),!0):!1}var _r=1,Jt=2,Uo=4,ji=8,oi=ji,as=16,zr=32,Hx=1;function Wx(){return Hx++}function pu(a,l){var c=l.manager;return c?c.get(a):a}function fb(a){return a&as?"cancel":a&ji?"end":a&Uo?"move":a&Jt?"start":""}var ss=function(){function a(c){c===void 0&&(c={}),this.options=mr({enable:!0},c),this.id=Wx(),this.manager=null,this.state=_r,this.simultaneous={},this.requireFail=[]}var l=a.prototype;return l.set=function(d){return Sn(this.options,d),this.manager&&this.manager.touchAction.update(),this},l.recognizeWith=function(d){if(Wo(d,"recognizeWith",this))return this;var f=this.simultaneous;return d=pu(d,this),f[d.id]||(f[d.id]=d,d.recognizeWith(this)),this},l.dropRecognizeWith=function(d){return Wo(d,"dropRecognizeWith",this)?this:(d=pu(d,this),delete this.simultaneous[d.id],this)},l.requireFailure=function(d){if(Wo(d,"requireFailure",this))return this;var f=this.requireFail;return d=pu(d,this),Mn(f,d)===-1&&(f.push(d),d.requireFailure(this)),this},l.dropRequireFailure=function(d){if(Wo(d,"dropRequireFailure",this))return this;d=pu(d,this);var f=Mn(this.requireFail,d);return f>-1&&this.requireFail.splice(f,1),this},l.hasRequireFailures=function(){return this.requireFail.length>0},l.canRecognizeWith=function(d){return!!this.simultaneous[d.id]},l.emit=function(d){var f=this,p=this.state;function m(_){f.manager.emit(_,d)}p<ji&&m(f.options.event+fb(p)),m(f.options.event),d.additionalEvent&&m(d.additionalEvent),p>=ji&&m(f.options.event+fb(p))},l.tryEmit=function(d){if(this.canEmit())return this.emit(d);this.state=zr},l.canEmit=function(){for(var d=0;d<this.requireFail.length;){if(!(this.requireFail[d].state&(zr|_r)))return!1;d++}return!0},l.recognize=function(d){var f=Sn({},d);if(!Lo(this.options.enable,[this,f])){this.reset(),this.state=zr;return}this.state&(oi|as|zr)&&(this.state=_r),this.state=this.process(f),this.state&(Jt|Uo|ji|as)&&this.tryEmit(f)},l.process=function(d){},l.getTouchAction=function(){},l.reset=function(){},a}(),Zd=function(a){Qt(l,a);function l(d){var f;return d===void 0&&(d={}),f=a.call(this,mr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},d))||this,f.pTime=!1,f.pCenter=!1,f._timer=null,f._input=null,f.count=0,f}var c=l.prototype;return c.getTouchAction=function(){return[jo]},c.process=function(f){var p=this,m=this.options,_=f.pointers.length===m.pointers,b=f.distance<m.threshold,O=f.deltaTime<m.time;if(this.reset(),f.eventType&It&&this.count===0)return this.failTimeout();if(b&&O&&_){if(f.eventType!==Ze)return this.failTimeout();var x=this.pTime?f.timeStamp-this.pTime<m.interval:!0,T=!this.pCenter||fu(this.pCenter,f.center)<m.posThreshold;this.pTime=f.timeStamp,this.pCenter=f.center,!T||!x?this.count=1:this.count+=1,this._input=f;var I=this.count%m.taps;if(I===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){p.state=oi,p.tryEmit()},m.interval),Jt):oi}return zr},c.failTimeout=function(){var f=this;return this._timer=setTimeout(function(){f.state=zr},this.options.interval),zr},c.reset=function(){clearTimeout(this._timer)},c.emit=function(){this.state===oi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},l}(ss),Vo=function(a){Qt(l,a);function l(d){return d===void 0&&(d={}),a.call(this,mr({pointers:1},d))||this}var c=l.prototype;return c.attrTest=function(f){var p=this.options.pointers;return p===0||f.pointers.length===p},c.process=function(f){var p=this.state,m=f.eventType,_=p&(Jt|Uo),b=this.attrTest(f);return _&&(m&Bt||!b)?p|as:_||b?m&Ze?p|ji:p&Jt?p|Uo:Jt:zr},l}(ss);function vb(a){return a===ii?"down":a===$n?"up":a===ts?"left":a===In?"right":""}var ef=function(a){Qt(l,a);function l(d){var f;return d===void 0&&(d={}),f=a.call(this,mr({event:"pan",threshold:10,pointers:1,direction:nb},d))||this,f.pX=null,f.pY=null,f}var c=l.prototype;return c.getTouchAction=function(){var f=this.options.direction,p=[];return f&wr&&p.push(zo),f&Pn&&p.push(Ri),p},c.directionTest=function(f){var p=this.options,m=!0,_=f.distance,b=f.direction,O=f.deltaX,x=f.deltaY;return b&p.direction||(p.direction&wr?(b=O===0?cu:O<0?ts:In,m=O!==this.pX,_=Math.abs(f.deltaX)):(b=x===0?cu:x<0?$n:ii,m=x!==this.pY,_=Math.abs(f.deltaY))),f.direction=b,m&&_>p.threshold&&b&p.direction},c.attrTest=function(f){return Vo.prototype.attrTest.call(this,f)&&(this.state&Jt||!(this.state&Jt)&&this.directionTest(f))},c.emit=function(f){this.pX=f.deltaX,this.pY=f.deltaY;var p=vb(f.direction);p&&(f.additionalEvent=this.options.event+p),a.prototype.emit.call(this,f)},l}(Vo),pb=function(a){Qt(l,a);function l(d){return d===void 0&&(d={}),a.call(this,mr({event:"swipe",threshold:10,velocity:.3,direction:wr|Pn,pointers:1},d))||this}var c=l.prototype;return c.getTouchAction=function(){return ef.prototype.getTouchAction.call(this)},c.attrTest=function(f){var p=this.options.direction,m;return p&(wr|Pn)?m=f.overallVelocity:p&wr?m=f.overallVelocityX:p&Pn&&(m=f.overallVelocityY),a.prototype.attrTest.call(this,f)&&p&f.offsetDirection&&f.distance>this.options.threshold&&f.maxPointers===this.options.pointers&&xn(m)>this.options.velocity&&f.eventType&Ze},c.emit=function(f){var p=vb(f.offsetDirection);p&&this.manager.emit(this.options.event+p,f),this.manager.emit(this.options.event,f)},l}(Vo),gb=function(a){Qt(l,a);function l(d){return d===void 0&&(d={}),a.call(this,mr({event:"pinch",threshold:0,pointers:2},d))||this}var c=l.prototype;return c.getTouchAction=function(){return[jr]},c.attrTest=function(f){return a.prototype.attrTest.call(this,f)&&(Math.abs(f.scale-1)>this.options.threshold||this.state&Jt)},c.emit=function(f){if(f.scale!==1){var p=f.scale<1?"in":"out";f.additionalEvent=this.options.event+p}a.prototype.emit.call(this,f)},l}(Vo),yb=function(a){Qt(l,a);function l(d){return d===void 0&&(d={}),a.call(this,mr({event:"rotate",threshold:0,pointers:2},d))||this}var c=l.prototype;return c.getTouchAction=function(){return[jr]},c.attrTest=function(f){return a.prototype.attrTest.call(this,f)&&(Math.abs(f.rotation)>this.options.threshold||this.state&Jt)},l}(Vo),mb=function(a){Qt(l,a);function l(d){var f;return d===void 0&&(d={}),f=a.call(this,mr({event:"press",pointers:1,time:251,threshold:9},d))||this,f._timer=null,f._input=null,f}var c=l.prototype;return c.getTouchAction=function(){return[Zm]},c.process=function(f){var p=this,m=this.options,_=f.pointers.length===m.pointers,b=f.distance<m.threshold,O=f.deltaTime>m.time;if(this._input=f,!b||!_||f.eventType&(Ze|Bt)&&!O)this.reset();else if(f.eventType&It)this.reset(),this._timer=setTimeout(function(){p.state=oi,p.tryEmit()},m.time);else if(f.eventType&Ze)return oi;return zr},c.reset=function(){clearTimeout(this._timer)},c.emit=function(f){this.state===oi&&(f&&f.eventType&Ze?this.manager.emit(this.options.event+"up",f):(this._input.timeStamp=zd(),this.manager.emit(this.options.event,this._input)))},l}(ss),bb={domEvents:!1,touchAction:Ld,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},wb=[[yb,{enable:!1}],[gb,{enable:!1},["rotate"]],[pb,{direction:wr}],[ef,{direction:wr},["swipe"]],[Zd],[Zd,{event:"doubletap",taps:2},["tap"]],[mb]],Ux=1,_b=2;function kb(a,l){var c=a.element;if(!!c.style){var d;ni(a.options.cssProps,function(f,p){d=br(c.style,p),l?(a.oldCssProps[d]=c.style[d],c.style[d]=f):c.style[d]=a.oldCssProps[d]||""}),l||(a.oldCssProps={})}}function Vx(a,l){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=l,l.target.dispatchEvent(c)}var Eb=function(){function a(c,d){var f=this;this.options=Sn({},bb,d||{}),this.options.inputTarget=this.options.inputTarget||c,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=c,this.input=Lx(this),this.touchAction=new Hd(this,this.options.touchAction),kb(this,!0),ni(this.options.recognizers,function(p){var m=f.add(new p[0](p[1]));p[2]&&m.recognizeWith(p[2]),p[3]&&m.requireFailure(p[3])},this)}var l=a.prototype;return l.set=function(d){return Sn(this.options,d),d.touchAction&&this.touchAction.update(),d.inputTarget&&(this.input.destroy(),this.input.target=d.inputTarget,this.input.init()),this},l.stop=function(d){this.session.stopped=d?_b:Ux},l.recognize=function(d){var f=this.session;if(!f.stopped){this.touchAction.preventDefaults(d);var p,m=this.recognizers,_=f.curRecognizer;(!_||_&&_.state&oi)&&(f.curRecognizer=null,_=null);for(var b=0;b<m.length;)p=m[b],f.stopped!==_b&&(!_||p===_||p.canRecognizeWith(_))?p.recognize(d):p.reset(),!_&&p.state&(Jt|Uo|ji)&&(f.curRecognizer=p,_=p),b++}},l.get=function(d){if(d instanceof ss)return d;for(var f=this.recognizers,p=0;p<f.length;p++)if(f[p].options.event===d)return f[p];return null},l.add=function(d){if(Wo(d,"add",this))return this;var f=this.get(d.options.event);return f&&this.remove(f),this.recognizers.push(d),d.manager=this,this.touchAction.update(),d},l.remove=function(d){if(Wo(d,"remove",this))return this;var f=this.get(d);if(d){var p=this.recognizers,m=Mn(p,f);m!==-1&&(p.splice(m,1),this.touchAction.update())}return this},l.on=function(d,f){if(d===void 0||f===void 0)return this;var p=this.handlers;return ni(rs(d),function(m){p[m]=p[m]||[],p[m].push(f)}),this},l.off=function(d,f){if(d===void 0)return this;var p=this.handlers;return ni(rs(d),function(m){f?p[m]&&p[m].splice(Mn(p[m],f),1):delete p[m]}),this},l.emit=function(d,f){this.options.domEvents&&Vx(d,f);var p=this.handlers[d]&&this.handlers[d].slice();if(!(!p||!p.length)){f.type=d,f.preventDefault=function(){f.srcEvent.preventDefault()};for(var m=0;m<p.length;)p[m](f),m++}},l.destroy=function(){this.element&&kb(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},a}(),qx={touchstart:It,touchmove:Tn,touchend:Ze,touchcancel:Bt},Gx="touchstart",Ob="touchstart touchmove touchend touchcancel",Sb=function(a){Qt(l,a);function l(){var d,f=l.prototype;return f.evTarget=Gx,f.evWin=Ob,d=a.apply(this,arguments)||this,d.started=!1,d}var c=l.prototype;return c.handler=function(f){var p=qx[f.type];if(p===It&&(this.started=!0),!!this.started){var m=Zt.call(this,f,p);p&(Ze|Bt)&&m[0].length-m[1].length===0&&(this.started=!1),this.callback(this.manager,p,{pointers:m[0],changedPointers:m[1],pointerType:Fi,srcEvent:f})}},l}(Bi);function Zt(a,l){var c=ns(a.touches),d=ns(a.changedTouches);return l&(Ze|Bt)&&(c=os(c.concat(d),"identifier",!0)),[c,d]}function xb(a,l,c){var d="DEPRECATED METHOD: "+l+`
`+c+` AT 
`;return function(){var f=new Error("get-stack-trace"),p=f&&f.stack?f.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",m=window.console&&(window.console.warn||window.console.log);return m&&m.call(window.console,d,p),a.apply(this,arguments)}}var tf=xb(function(a,l,c){for(var d=Object.keys(l),f=0;f<d.length;)(!c||c&&a[d[f]]===void 0)&&(a[d[f]]=l[d[f]]),f++;return a},"extend","Use `assign`."),Kx=xb(function(a,l){return tf(a,l,!0)},"merge","Use `assign`.");function Tb(a,l,c){var d=l.prototype,f;f=a.prototype=Object.create(d),f.constructor=a,f._super=d,c&&Sn(f,c)}function Ib(a,l){return function(){return a.apply(l,arguments)}}var Yx=function(){var a=function(c,d){return d===void 0&&(d={}),new Eb(c,mr({recognizers:wb.concat()},d))};return a.VERSION="2.0.17-rc",a.DIRECTION_ALL=nb,a.DIRECTION_DOWN=ii,a.DIRECTION_LEFT=ts,a.DIRECTION_RIGHT=In,a.DIRECTION_UP=$n,a.DIRECTION_HORIZONTAL=wr,a.DIRECTION_VERTICAL=Pn,a.DIRECTION_NONE=cu,a.DIRECTION_DOWN=ii,a.INPUT_START=It,a.INPUT_MOVE=Tn,a.INPUT_END=Ze,a.INPUT_CANCEL=Bt,a.STATE_POSSIBLE=_r,a.STATE_BEGAN=Jt,a.STATE_CHANGED=Uo,a.STATE_ENDED=ji,a.STATE_RECOGNIZED=oi,a.STATE_CANCELLED=as,a.STATE_FAILED=zr,a.Manager=Eb,a.Input=Bi,a.TouchAction=Hd,a.TouchInput=_e,a.MouseInput=Jd,a.PointerEventInput=M,a.TouchMouseInput=db,a.SingleTouchInput=Sb,a.Recognizer=ss,a.AttrRecognizer=Vo,a.Tap=Zd,a.Pan=ef,a.Swipe=pb,a.Pinch=gb,a.Rotate=yb,a.Press=mb,a.on=Ho,a.off=is,a.each=ni,a.merge=Kx,a.extend=tf,a.bindFn=Ib,a.assign=Sn,a.inherit=Tb,a.bindFn=Ib,a.prefixed=br,a.toArray=ns,a.inArray=Mn,a.uniqueArray=os,a.splitStr=rs,a.boolOrFn=Lo,a.hasParent=Wd,a.addEventListeners=Ho,a.removeEventListeners=is,a.defaults=Sn({},bb,{preset:wb}),a}(),Xx=Yx;function $b(a,l){var c=typeof En<"u"&&pn(a)||a["@@iterator"];if(!c){if(ut(a)||(c=Qx(a))||l&&a&&typeof a.length=="number"){c&&(a=c);var d=0,f=function(){};return{s:f,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(O){throw O},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,m=!1,_;return{s:function(){c=c.call(a)},n:function(){var O=c.next();return p=O.done,O},e:function(O){m=!0,_=O},f:function(){try{!p&&c.return!=null&&c.return()}finally{if(m)throw _}}}}function Qx(a,l){var c;if(!!a){if(typeof a=="string")return Pb(a,l);var d=$i(c=Object.prototype.toString.call(a)).call(c,8,-1);if(d==="Object"&&a.constructor&&(d=a.constructor.name),d==="Map"||d==="Set")return Ll(a);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Pb(a,l)}}function Pb(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=a[c];return d}var gu=En("DELETE");function Jx(a){for(var l,c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return ls.apply(void 0,Ya(l=[{},a]).call(l,d))}function ls(){var a=yu.apply(void 0,arguments);return Cb(a),a}function yu(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];if(l.length<2)return l[0];if(l.length>2){var d;return yu.apply(void 0,Ya(d=[ls(l[0],l[1])]).call(d,mt($i(l).call(l,2))))}var f=l[0],p=l[1],m=$b(tu(p)),_;try{for(m.s();!(_=m.n()).done;){var b=_.value;Object.prototype.propertyIsEnumerable.call(p,b)&&(p[b]===gu?delete f[b]:f[b]!==null&&p[b]!==null&&ft(f[b])==="object"&&ft(p[b])==="object"&&!ut(f[b])&&!ut(p[b])?f[b]=yu(f[b],p[b]):f[b]=rf(p[b]))}}catch(O){m.e(O)}finally{m.f()}return f}function rf(a){return ut(a)?Kt(a).call(a,function(l){return rf(l)}):ft(a)==="object"&&a!==null?yu({},a):a}function Cb(a){for(var l=0,c=ru(a);l<c.length;l++){var d=c[l];a[d]===gu?delete a[d]:ft(a[d])==="object"&&a[d]!==null&&Cb(a[d])}}function Zx(){var a=function(){};return{on:a,off:a,destroy:a,emit:a,get:function(){return{set:a}}}}var eT=typeof window<"u"?window.Hammer||Xx:function(){return Zx()};function Lr(a){var l=this,c;this._cleanupQueue=[],this.active=!1,this._dom={container:a,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){l._dom.overlay.parentNode.removeChild(l._dom.overlay)});var d=eT(this._dom.overlay);d.on("tap",fn(c=this._onTapOverlay).call(c,this)),this._cleanupQueue.push(function(){d.destroy()});var f=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];oe(f).call(f,function(p){d.on(p,function(m){m.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(p){Ke(p.target,a)||l.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",l._onClick)})),this._escListener=function(p){("key"in p?p.key==="Escape":p.keyCode===27)&&l.deactivate()}}Tx(Lr.prototype),Lr.current=null,Lr.prototype.destroy=function(){var a,l;this.deactivate();var c=$b(wm(a=Fr(l=this._cleanupQueue).call(l,0)).call(a)),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;f()}}catch(p){c.e(p)}finally{c.f()}},Lr.prototype.activate=function(){Lr.current&&Lr.current.deactivate(),Lr.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Lr.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Lr.prototype._onTapOverlay=function(a){this.activate(),a.srcEvent.stopPropagation()};function Ke(a,l){for(;a;){if(a===l)return!0;a=a.parentNode}return!1}var tT=Ks,rT=ui,iT=TypeError,Db=function(a){if(tT(a))return a;throw iT(rT(a)+" is not a constructor")},nT=ne,oT=dt,nf=Xi,aT=ty,Mb=Db,sT=at,Ab=ct,lT=ln,of=Y,mu=oT("Reflect","construct"),Nb=Object.prototype,Rb=[].push,af=of(function(){function a(){}return!(mu(function(){},[],a)instanceof a)}),sf=!of(function(){mu(function(){})}),Fb=af||sf;nT({target:"Reflect",stat:!0,forced:Fb,sham:Fb},{construct:function(l,c){Mb(l),sT(c);var d=arguments.length<3?l:Mb(arguments[2]);if(sf&&!af)return mu(l,c,d);if(l==d){switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3])}var f=[null];return nf(Rb,f,c),new(nf(aT,l,f))}var p=d.prototype,m=lT(Ab(p)?p:Nb),_=nf(l,m,c);return Ab(_)?_:m}});var lf=Ne,uT=lf.Reflect.construct,Bb=uT,hT=Bb,jb=hT,zi=ie(jb);function er(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var cT=Rm,zb=cT,dT=zb,Lb=dT,qo=Lb,Hb=qo,Wb=ie(Hb),fT=ne,vT=mg;fT({target:"Object",stat:!0},{setPrototypeOf:vT});var uf=Ne,pT=uf.Object.setPrototypeOf,bu=pT,gT=bu,yT=gT,mT=yT,bT=mT,wT=bT,wu=wT,Ub=wu,hf=ie(Ub),gt=iy,Vb=gt,us=Vb,$t=us,_T=$t,kT=_T,qb=ie(kT);function cf(a,l){var c;return cf=hf?qb(c=hf).call(c):function(f,p){return f.__proto__=p,f},cf(a,l)}function Gb(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Wb(l&&l.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),sa(a,"prototype",{writable:!1}),l&&cf(a,l)}function hs(a,l){if(l&&(ft(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return er(a)}var Kb=ax,ET=Kb,OT=ET,Yb=OT,ST=Yb,Xb=ST,df=ie(Xb);function Go(a){var l;return Go=hf?qb(l=df).call(l):function(d){return d.__proto__||df(d)},Go(a)}var Li={exports:{}},Qb={exports:{}};(function(a){var l=wi,c=Ac;function d(f){return a.exports=d=typeof l=="function"&&typeof c=="symbol"?function(p){return typeof p}:function(p){return p&&typeof l=="function"&&p.constructor===l&&p!==l.prototype?"symbol":typeof p},a.exports.__esModule=!0,a.exports.default=a.exports,d(f)}a.exports=d,a.exports.__esModule=!0,a.exports.default=a.exports})(Qb);var Jb=Qb.exports,_u=ri,xT=_u,TT=xT,IT=TT,ff=IT,$T=ff,vf=ce,PT=bn,CT=Or,DT=Vt,MT=function(a,l,c){for(var d=PT(l),f=DT.f,p=CT.f,m=0;m<d.length;m++){var _=d[m];!vf(a,_)&&!(c&&vf(c,_))&&f(a,_,p(l,_))}},AT=ct,NT=Ye,ku=function(a,l){AT(l)&&"cause"in l&&NT(a,"cause",l.cause)},Zb=De,Eu=Error,cs=Zb("".replace),RT=function(a){return String(Eu(a).stack)}("zxcasd"),e0=/\n\s*at [^:]*:[^\n]*/,t0=e0.test(RT),Ou=function(a,l){if(t0&&typeof a=="string"&&!Eu.prepareStackTrace)for(;l--;)a=cs(a,e0,"");return a},r0=Y,FT=Ji,BT=!r0(function(){var a=Error("a");return"stack"in a?(Object.defineProperty(a,"stack",FT(1,7)),a.stack!==7):!0}),i0=Ye,Su=Ou,xu=BT,n0=Error.captureStackTrace,jT=function(a,l,c,d){xu&&(n0?n0(a,l):i0(a,"stack",Su(c,d)))},ds=cr,zT=nt,Tu=at,o0=ui,LT=jl,a0=qt,s0=Ge,l0=Yt,u0=Fa,h0=Ot,c0=TypeError,fs=function(a,l){this.stopped=a,this.result=l},Nn=fs.prototype,Hr=function(a,l,c){var d=c&&c.that,f=!!(c&&c.AS_ENTRIES),p=!!(c&&c.IS_RECORD),m=!!(c&&c.IS_ITERATOR),_=!!(c&&c.INTERRUPTED),b=ds(l,d),O,x,T,I,C,U,ee,se=function(ge){return O&&h0(O,"normal",ge),new fs(!0,ge)},fe=function(ge){return f?(Tu(ge),_?b(ge[0],ge[1],se):b(ge[0],ge[1])):_?b(ge,se):b(ge)};if(p)O=a.iterator;else if(m)O=a;else{if(x=u0(a),!x)throw c0(o0(a)+" is not iterable");if(LT(x)){for(T=0,I=a0(a);I>T;T++)if(C=fe(a[T]),C&&s0(Nn,C))return C;return new fs(!1)}O=l0(a,x)}for(U=p?a.next:O.next;!(ee=zT(U,O)).done;){try{C=fe(ee.value)}catch(ge){h0(O,"throw",ge)}if(typeof C=="object"&&C&&s0(Nn,C))return C}return new fs(!1)},d0=Pr,Iu=function(a,l){return a===void 0?arguments.length<2?"":l:d0(a)},f0=ne,Rn=Ge,ar=xa,kr=mg,Hi=MT,vs=ln,Fn=Ye,Ie=Ji,pf=ku,gf=jT,v0=Hr,p0=Iu,g0=He,HT=g0("toStringTag"),ps=Error,y0=[].push,Ko=function(l,c){var d=Rn($u,this),f;kr?f=kr(ps(),d?ar(this):$u):(f=d?this:vs($u),Fn(f,HT,"Error")),c!==void 0&&Fn(f,"message",p0(c)),gf(f,Ko,f.stack,1),arguments.length>2&&pf(f,arguments[2]);var p=[];return v0(l,y0,{that:p}),Fn(f,"errors",p),f};kr?kr(Ko,ps):Hi(Ko,ps,{name:!0});var $u=Ko.prototype=vs(ps.prototype,{constructor:Ie(1,Ko),message:Ie(1,""),name:Ie(1,"AggregateError")});f0({global:!0,constructor:!0,arity:2},{AggregateError:Ko});var WT=dt,yf=$h,UT=He,VT=qe,m0=UT("species"),mf=function(a){var l=WT(a);VT&&l&&!l[m0]&&yf(l,m0,{configurable:!0,get:function(){return this}})},qT=Ge,GT=TypeError,Pu=function(a,l){if(qT(l,a))return a;throw GT("Incorrect invocation")},b0=at,KT=Db,w0=Gr,YT=He,XT=YT("species"),bf=function(a,l){var c=b0(a).constructor,d;return c===void 0||w0(d=b0(c)[XT])?l:KT(d)},QT=Kr,wf=/(?:ipad|iphone|ipod).*applewebkit/i.test(QT),Pt=he,JT=Xi,ZT=cr,_f=Le,eI=ce,kf=Y,Ef=Vv,Wi=mo,Of=nh,tI=jm,rI=wf,iI=Ra,Sf=Pt.setImmediate,Cu=Pt.clearImmediate,nI=Pt.process,xf=Pt.Dispatch,oI=Pt.Function,Du=Pt.MessageChannel,aI=Pt.String,Bn=0,gs={},_0="onreadystatechange",ys,jn,Tf,Mu;kf(function(){ys=Pt.location});var If=function(a){if(eI(gs,a)){var l=gs[a];delete gs[a],l()}},$f=function(a){return function(){If(a)}},k0=function(a){If(a.data)},E0=function(a){Pt.postMessage(aI(a),ys.protocol+"//"+ys.host)};(!Sf||!Cu)&&(Sf=function(l){tI(arguments.length,1);var c=_f(l)?l:oI(l),d=Wi(arguments,1);return gs[++Bn]=function(){JT(c,void 0,d)},jn(Bn),Bn},Cu=function(l){delete gs[l]},iI?jn=function(a){nI.nextTick($f(a))}:xf&&xf.now?jn=function(a){xf.now($f(a))}:Du&&!rI?(Tf=new Du,Mu=Tf.port2,Tf.port1.onmessage=k0,jn=ZT(Mu.postMessage,Mu)):Pt.addEventListener&&_f(Pt.postMessage)&&!Pt.importScripts&&ys&&ys.protocol!=="file:"&&!kf(E0)?(jn=E0,Pt.addEventListener("message",k0,!1)):_0 in Of("script")?jn=function(a){Ef.appendChild(Of("script"))[_0]=function(){Ef.removeChild(this),If(a)}}:jn=function(a){setTimeout($f(a),0)});var O0={set:Sf,clear:Cu},S0=function(){this.head=null,this.tail=null};S0.prototype={add:function(a){var l={item:a,next:null},c=this.tail;c?c.next=l:this.head=l,this.tail=l},get:function(){var a=this.head;if(a){var l=this.head=a.next;return l===null&&(this.tail=null),a.item}}};var Au=S0,sI=Kr,x0=/ipad|iphone|ipod/i.test(sI)&&typeof Pebble<"u",T0=Kr,I0=/web0s(?!.*chrome)/i.test(T0),zn=he,$0=cr,lI=Or.f,Pf=O0.set,uI=Au,hI=wf,Cf=x0,cI=I0,Nu=Ra,P0=zn.MutationObserver||zn.WebKitMutationObserver,Df=zn.document,C0=zn.process,ms=zn.Promise,D0=lI(zn,"queueMicrotask"),Mf=D0&&D0.value,Yo,Ru,Af,j,R;if(!Mf){var P=new uI,Ui=function(){var a,l;for(Nu&&(a=C0.domain)&&a.exit();l=P.get();)try{l()}catch(c){throw P.head&&Yo(),c}a&&a.enter()};!hI&&!Nu&&!cI&&P0&&Df?(Ru=!0,Af=Df.createTextNode(""),new P0(Ui).observe(Af,{characterData:!0}),Yo=function(){Af.data=Ru=!Ru}):!Cf&&ms&&ms.resolve?(j=ms.resolve(void 0),j.constructor=ms,R=$0(j.then,j),Yo=function(){R(Ui)}):Nu?Yo=function(){C0.nextTick(Ui)}:(Pf=$0(Pf,zn),Yo=function(){Pf(Ui)}),Mf=function(a){P.head||Yo(),P.add(a)}}var X=Mf,Nf=function(a,l){try{arguments.length==1?console.error(a):console.error(a,l)}catch{}},Vi=function(a){try{return{error:!1,value:a()}}catch(l){return{error:!0,value:l}}},M0=he,qi=M0.Promise,Rf=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",dI=Rf,fI=Ra,vI=!dI&&!fI&&typeof window=="object"&&typeof document=="object",G=he,bs=qi,i=Le,e=Fs,t=oo,r=He,n=vI,o=Rf,s=Kn,u=bs&&bs.prototype,h=r("species"),v=!1,g=i(G.PromiseRejectionEvent),y=e("Promise",function(){var a=t(bs),l=a!==String(bs);if(!l&&s===66||!(u.catch&&u.finally))return!0;if(!s||s<51||!/native code/.test(a)){var c=new bs(function(p){p(1)}),d=function(p){p(function(){},function(){})},f=c.constructor={};if(f[h]=d,v=c.then(function(){})instanceof d,!v)return!0}return!l&&(n||o)&&!g}),w={CONSTRUCTOR:y,REJECTION_EVENT:g,SUBCLASSING:v},k={},E=wt,S=TypeError,$=function(a){var l,c;this.promise=new a(function(d,f){if(l!==void 0||c!==void 0)throw S("Bad Promise constructor");l=d,c=f}),this.resolve=E(l),this.reject=E(c)};k.f=function(a){return new $(a)};var D=ne,A=Ra,B=he,H=nt,J=vo,de=un,ue=mf,ae=wt,Q=Le,Te=ct,ye=Pu,$e=bf,Fe=O0.set,ze=X,sr=Nf,tt=Vi,Fu=Au,UI=po,pI=qi,gI=w,VI=k,A0="Promise",qI=gI.CONSTRUCTOR,K$=gI.REJECTION_EVENT;gI.SUBCLASSING;var yI=UI.getterFor(A0),Y$=UI.set,X$=pI&&pI.prototype,Bu=pI,mI=X$,GI=B.TypeError,bI=B.document,wI=B.process,_I=VI.f,Q$=_I,J$=!!(bI&&bI.createEvent&&B.dispatchEvent),KI="unhandledrejection",Z$="rejectionhandled",YI=0,XI=1,eP=2,kI=1,QI=2,N0,JI,tP,ZI=function(a){var l;return Te(a)&&Q(l=a.then)?l:!1},e$=function(a,l){var c=l.value,d=l.state==XI,f=d?a.ok:a.fail,p=a.resolve,m=a.reject,_=a.domain,b,O,x;try{f?(d||(l.rejection===QI&&iP(l),l.rejection=kI),f===!0?b=c:(_&&_.enter(),b=f(c),_&&(_.exit(),x=!0)),b===a.promise?m(GI("Promise-chain cycle")):(O=ZI(b))?H(O,b,p,m):p(b)):m(c)}catch(T){_&&!x&&_.exit(),m(T)}},t$=function(a,l){a.notified||(a.notified=!0,ze(function(){for(var c=a.reactions,d;d=c.get();)e$(d,a);a.notified=!1,l&&!a.rejection&&rP(a)}))},r$=function(a,l,c){var d,f;J$?(d=bI.createEvent("Event"),d.promise=l,d.reason=c,d.initEvent(a,!1,!0),B.dispatchEvent(d)):d={promise:l,reason:c},!K$&&(f=B["on"+a])?f(d):a===KI&&sr("Unhandled promise rejection",c)},rP=function(a){H(Fe,B,function(){var l=a.facade,c=a.value,d=i$(a),f;if(d&&(f=tt(function(){A?wI.emit("unhandledRejection",c,l):r$(KI,l,c)}),a.rejection=A||i$(a)?QI:kI,f.error))throw f.value})},i$=function(a){return a.rejection!==kI&&!a.parent},iP=function(a){H(Fe,B,function(){var l=a.facade;A?wI.emit("rejectionHandled",l):r$(Z$,l,a.value)})},ju=function(a,l,c){return function(d){a(l,d,c)}},zu=function(a,l,c){a.done||(a.done=!0,c&&(a=c),a.value=l,a.state=eP,t$(a,!0))},EI=function(a,l,c){if(!a.done){a.done=!0,c&&(a=c);try{if(a.facade===l)throw GI("Promise can't be resolved itself");var d=ZI(l);d?ze(function(){var f={done:!1};try{H(d,l,ju(EI,f,a),ju(zu,f,a))}catch(p){zu(f,p,a)}}):(a.value=l,a.state=XI,t$(a,!1))}catch(f){zu({done:!1},f,a)}}};qI&&(Bu=function(l){ye(this,mI),ae(l),H(N0,this);var c=yI(this);try{l(ju(EI,c),ju(zu,c))}catch(d){zu(c,d)}},mI=Bu.prototype,N0=function(l){Y$(this,{type:A0,done:!1,notified:!1,parent:!1,reactions:new Fu,rejection:!1,state:YI,value:void 0})},N0.prototype=J(mI,"then",function(l,c){var d=yI(this),f=_I($e(this,Bu));return d.parent=!0,f.ok=Q(l)?l:!0,f.fail=Q(c)&&c,f.domain=A?wI.domain:void 0,d.state==YI?d.reactions.add(f):ze(function(){e$(f,d)}),f.promise}),JI=function(){var a=new N0,l=yI(a);this.promise=a,this.resolve=ju(EI,l),this.reject=ju(zu,l)},VI.f=_I=function(a){return a===Bu||a===tP?new JI(a):Q$(a)}),D({global:!0,constructor:!0,wrap:!0,forced:qI},{Promise:Bu}),de(Bu,A0,!1,!0),ue(A0);var nP=qi,oP=So,aP=w.CONSTRUCTOR,R0=aP||!oP(function(a){nP.all(a).then(void 0,function(){})}),sP=ne,lP=nt,uP=wt,hP=k,cP=Vi,dP=Hr,fP=R0;sP({target:"Promise",stat:!0,forced:fP},{all:function(l){var c=this,d=hP.f(c),f=d.resolve,p=d.reject,m=cP(function(){var _=uP(c.resolve),b=[],O=0,x=1;dP(l,function(T){var I=O++,C=!1;x++,lP(_,c,T).then(function(U){C||(C=!0,b[I]=U,--x||f(b))},p)}),--x||f(b)});return m.error&&p(m.value),d.promise}});var vP=ne,pP=w.CONSTRUCTOR,n$=qi;n$&&n$.prototype,vP({target:"Promise",proto:!0,forced:pP,real:!0},{catch:function(a){return this.then(void 0,a)}});var gP=ne,yP=nt,mP=wt,bP=k,wP=Vi,_P=Hr,kP=R0;gP({target:"Promise",stat:!0,forced:kP},{race:function(l){var c=this,d=bP.f(c),f=d.reject,p=wP(function(){var m=mP(c.resolve);_P(l,function(_){yP(m,c,_).then(d.resolve,f)})});return p.error&&f(p.value),d.promise}});var EP=ne,OP=nt,SP=k,xP=w.CONSTRUCTOR;EP({target:"Promise",stat:!0,forced:xP},{reject:function(l){var c=SP.f(this);return OP(c.reject,void 0,l),c.promise}});var TP=at,IP=ct,$P=k,o$=function(a,l){if(TP(a),IP(l)&&l.constructor===a)return l;var c=$P.f(a),d=c.resolve;return d(l),c.promise},PP=ne,CP=dt,DP=At,MP=qi,AP=w.CONSTRUCTOR,NP=o$,RP=CP("Promise"),FP=!AP;PP({target:"Promise",stat:!0,forced:DP},{resolve:function(l){return NP(FP&&this===RP?MP:this,l)}});var BP=ne,jP=nt,zP=wt,LP=k,HP=Vi,WP=Hr,UP=R0;BP({target:"Promise",stat:!0,forced:UP},{allSettled:function(l){var c=this,d=LP.f(c),f=d.resolve,p=d.reject,m=HP(function(){var _=zP(c.resolve),b=[],O=0,x=1;WP(l,function(T){var I=O++,C=!1;x++,jP(_,c,T).then(function(U){C||(C=!0,b[I]={status:"fulfilled",value:U},--x||f(b))},function(U){C||(C=!0,b[I]={status:"rejected",reason:U},--x||f(b))})}),--x||f(b)});return m.error&&p(m.value),d.promise}});var VP=ne,qP=nt,GP=wt,KP=dt,YP=k,XP=Vi,QP=Hr,JP=R0,a$="No one promise resolved";VP({target:"Promise",stat:!0,forced:JP},{any:function(l){var c=this,d=KP("AggregateError"),f=YP.f(c),p=f.resolve,m=f.reject,_=XP(function(){var b=GP(c.resolve),O=[],x=0,T=1,I=!1;QP(l,function(C){var U=x++,ee=!1;T++,qP(b,c,C).then(function(se){ee||I||(I=!0,p(se))},function(se){ee||I||(ee=!0,O[U]=se,--T||m(new d(O,a$)))})}),--T||m(new d(O,a$))});return _.error&&m(_.value),f.promise}});var ZP=ne,OI=qi,eC=Y,tC=dt,rC=Le,iC=bf,s$=o$,nC=OI&&OI.prototype,oC=!!OI&&eC(function(){nC.finally.call({then:function(){}},function(){})});ZP({target:"Promise",proto:!0,real:!0,forced:oC},{finally:function(a){var l=iC(this,tC("Promise")),c=rC(a);return this.then(c?function(d){return s$(l,a()).then(function(){return d})}:a,c?function(d){return s$(l,a()).then(function(){throw d})}:a)}});var aC=Ne,sC=aC.Promise,lC=sC,uC=lC,hC=uC,cC=hC,dC=ne,fC=k,vC=Vi;dC({target:"Promise",stat:!0,forced:!0},{try:function(a){var l=fC.f(this),c=vC(a);return(c.error?l.reject:l.resolve)(c.value),l.promise}});var pC=cC,gC=pC,yC=gC,mC=yC,bC=mm,wC=bC,_C=wC,kC=_C,EC=kC,OC=EC;(function(a){var l=Jb.default,c=on,d=wi,f=Hb,p=Xb,m=$T,_=Ub,b=mC,O=OC,x=vd;function T(){a.exports=T=function(){return I},a.exports.__esModule=!0,a.exports.default=a.exports;var I={},C=Object.prototype,U=C.hasOwnProperty,ee=c||function(V,F,W){V[F]=W.value},se=typeof d=="function"?d:{},fe=se.iterator||"@@iterator",ge=se.asyncIterator||"@@asyncIterator",bt=se.toStringTag||"@@toStringTag";function Oe(V,F,W){return c(V,F,{value:W,enumerable:!0,configurable:!0,writable:!0}),V[F]}try{Oe({},"")}catch{Oe=function(W,Z,ve){return W[Z]=ve}}function jt(V,F,W,Z){var ve=F&&F.prototype instanceof Er?F:Er,le=f(ve.prototype),rt=new HI(Z||[]);return ee(le,"_invoke",{value:CA(V,W,rt)}),le}function zt(V,F,W){try{return{type:"normal",arg:V.call(F,W)}}catch(Z){return{type:"throw",arg:Z}}}I.wrap=jt;var Dt={};function Er(){}function Ki(){}function Wr(){}var Hn={};Oe(Hn,fe,function(){return this});var Wn=p,Lu=Wn&&Wn(Wn(WI([])));Lu&&Lu!==C&&U.call(Lu,fe)&&(Hn=Lu);var Un=Wr.prototype=Er.prototype=f(Hn);function U$(V){var F;m(F=["next","throw","return"]).call(F,function(W){Oe(V,W,function(Z){return this._invoke(W,Z)})})}function H0(V,F){function W(ve,le,rt,tr){var ur=zt(V[ve],V,le);if(ur.type!=="throw"){var ks=ur.arg,Qo=ks.value;return Qo&&l(Qo)=="object"&&U.call(Qo,"__await")?F.resolve(Qo.__await).then(function(Es){W("next",Es,rt,tr)},function(Es){W("throw",Es,rt,tr)}):F.resolve(Qo).then(function(Es){ks.value=Es,rt(ks)},function(Es){return W("throw",Es,rt,tr)})}tr(ur.arg)}var Z;ee(this,"_invoke",{value:function(le,rt){function tr(){return new F(function(ur,ks){W(le,rt,ur,ks)})}return Z=Z?Z.then(tr,tr):tr()}})}function CA(V,F,W){var Z="suspendedStart";return function(ve,le){if(Z==="executing")throw new Error("Generator is already running");if(Z==="completed"){if(ve==="throw")throw le;return q$()}for(W.method=ve,W.arg=le;;){var rt=W.delegate;if(rt){var tr=V$(rt,W);if(tr){if(tr===Dt)continue;return tr}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(Z==="suspendedStart")throw Z="completed",W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);Z="executing";var ur=zt(V,F,W);if(ur.type==="normal"){if(Z=W.done?"completed":"suspendedYield",ur.arg===Dt)continue;return{value:ur.arg,done:W.done}}ur.type==="throw"&&(Z="completed",W.method="throw",W.arg=ur.arg)}}}function V$(V,F){var W=F.method,Z=V.iterator[W];if(Z===void 0)return F.delegate=null,W==="throw"&&V.iterator.return&&(F.method="return",F.arg=void 0,V$(V,F),F.method==="throw")||W!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+W+"' method")),Dt;var ve=zt(Z,V.iterator,F.arg);if(ve.type==="throw")return F.method="throw",F.arg=ve.arg,F.delegate=null,Dt;var le=ve.arg;return le?le.done?(F[V.resultName]=le.value,F.next=V.nextLoc,F.method!=="return"&&(F.method="next",F.arg=void 0),F.delegate=null,Dt):le:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,Dt)}function DA(V){var F={tryLoc:V[0]};1 in V&&(F.catchLoc=V[1]),2 in V&&(F.finallyLoc=V[2],F.afterLoc=V[3]),this.tryEntries.push(F)}function LI(V){var F=V.completion||{};F.type="normal",delete F.arg,V.completion=F}function HI(V){this.tryEntries=[{tryLoc:"root"}],m(V).call(V,DA,this),this.reset(!0)}function WI(V){if(V){var F=V[fe];if(F)return F.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var W=-1,Z=function ve(){for(;++W<V.length;)if(U.call(V,W))return ve.value=V[W],ve.done=!1,ve;return ve.value=void 0,ve.done=!0,ve};return Z.next=Z}}return{next:q$}}function q$(){return{value:void 0,done:!0}}return Ki.prototype=Wr,ee(Un,"constructor",{value:Wr,configurable:!0}),ee(Wr,"constructor",{value:Ki,configurable:!0}),Ki.displayName=Oe(Wr,bt,"GeneratorFunction"),I.isGeneratorFunction=function(V){var F=typeof V=="function"&&V.constructor;return!!F&&(F===Ki||(F.displayName||F.name)==="GeneratorFunction")},I.mark=function(V){return _?_(V,Wr):(V.__proto__=Wr,Oe(V,bt,"GeneratorFunction")),V.prototype=f(Un),V},I.awrap=function(V){return{__await:V}},U$(H0.prototype),Oe(H0.prototype,ge,function(){return this}),I.AsyncIterator=H0,I.async=function(V,F,W,Z,ve){ve===void 0&&(ve=b);var le=new H0(jt(V,F,W,Z),ve);return I.isGeneratorFunction(F)?le:le.next().then(function(rt){return rt.done?rt.value:le.next()})},U$(Un),Oe(Un,bt,"Generator"),Oe(Un,fe,function(){return this}),Oe(Un,"toString",function(){return"[object Generator]"}),I.keys=function(V){var F=Object(V),W=[];for(var Z in F)W.push(Z);return O(W).call(W),function ve(){for(;W.length;){var le=W.pop();if(le in F)return ve.value=le,ve.done=!1,ve}return ve.done=!0,ve}},I.values=WI,HI.prototype={constructor:HI,reset:function(F){var W;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,m(W=this.tryEntries).call(W,LI),!F)for(var Z in this)Z.charAt(0)==="t"&&U.call(this,Z)&&!isNaN(+x(Z).call(Z,1))&&(this[Z]=void 0)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var W=this;function Z(ks,Qo){return rt.type="throw",rt.arg=F,W.next=ks,Qo&&(W.method="next",W.arg=void 0),!!Qo}for(var ve=this.tryEntries.length-1;ve>=0;--ve){var le=this.tryEntries[ve],rt=le.completion;if(le.tryLoc==="root")return Z("end");if(le.tryLoc<=this.prev){var tr=U.call(le,"catchLoc"),ur=U.call(le,"finallyLoc");if(tr&&ur){if(this.prev<le.catchLoc)return Z(le.catchLoc,!0);if(this.prev<le.finallyLoc)return Z(le.finallyLoc)}else if(tr){if(this.prev<le.catchLoc)return Z(le.catchLoc,!0)}else{if(!ur)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return Z(le.finallyLoc)}}}},abrupt:function(F,W){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ve=this.tryEntries[Z];if(ve.tryLoc<=this.prev&&U.call(ve,"finallyLoc")&&this.prev<ve.finallyLoc){var le=ve;break}}le&&(F==="break"||F==="continue")&&le.tryLoc<=W&&W<=le.finallyLoc&&(le=null);var rt=le?le.completion:{};return rt.type=F,rt.arg=W,le?(this.method="next",this.next=le.finallyLoc,Dt):this.complete(rt)},complete:function(F,W){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&W&&(this.next=W),Dt},finish:function(F){for(var W=this.tryEntries.length-1;W>=0;--W){var Z=this.tryEntries[W];if(Z.finallyLoc===F)return this.complete(Z.completion,Z.afterLoc),LI(Z),Dt}},catch:function(F){for(var W=this.tryEntries.length-1;W>=0;--W){var Z=this.tryEntries[W];if(Z.tryLoc===F){var ve=Z.completion;if(ve.type==="throw"){var le=ve.arg;LI(Z)}return le}}throw new Error("illegal catch attempt")},delegateYield:function(F,W,Z){return this.delegate={iterator:WI(F),resultName:W,nextLoc:Z},this.method==="next"&&(this.arg=void 0),Dt}},I}a.exports=T,a.exports.__esModule=!0,a.exports.default=a.exports})(Li);var SC=Li.exports,F0=SC(),xC=F0;try{regeneratorRuntime=F0}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=F0:Function("r","regeneratorRuntime = r")(F0)}var lr=ie(xC),l$={exports:{}},TC=Y,IC=TC(function(){if(typeof ArrayBuffer=="function"){var a=new ArrayBuffer(8);Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8})}}),$C=Y,PC=ct,CC=ai,u$=IC,B0=Object.isExtensible,DC=$C(function(){B0(1)}),MC=DC||u$?function(l){return!PC(l)||u$&&CC(l)=="ArrayBuffer"?!1:B0?B0(l):!0}:B0,AC=Y,NC=!AC(function(){return Object.isExtensible(Object.preventExtensions({}))}),RC=ne,FC=De,BC=lo,jC=ct,SI=ce,zC=Vt.f,h$=ho,LC=Ih,xI=MC,HC=Ms,WC=NC,c$=!1,Ln=HC("meta"),UC=0,TI=function(a){zC(a,Ln,{value:{objectID:"O"+UC++,weakData:{}}})},VC=function(a,l){if(!jC(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!SI(a,Ln)){if(!xI(a))return"F";if(!l)return"E";TI(a)}return a[Ln].objectID},qC=function(a,l){if(!SI(a,Ln)){if(!xI(a))return!0;if(!l)return!1;TI(a)}return a[Ln].weakData},GC=function(a){return WC&&c$&&xI(a)&&!SI(a,Ln)&&TI(a),a},KC=function(){YC.enable=function(){},c$=!0;var a=h$.f,l=FC([].splice),c={};c[Ln]=1,a(c).length&&(h$.f=function(d){for(var f=a(d),p=0,m=f.length;p<m;p++)if(f[p]===Ln){l(f,p,1);break}return f},RC({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:LC.f}))},YC=l$.exports={enable:KC,fastKey:VC,getWeakData:qC,onFreeze:GC};BC[Ln]=!0;var d$=l$.exports,XC=ne,QC=he,JC=d$,ZC=Y,eD=Ye,tD=Hr,rD=Pu,iD=Le,nD=ct,oD=un,aD=Vt.f,sD=go.forEach,lD=qe,f$=po,uD=f$.set,hD=f$.getterFor,v$=function(a,l,c){var d=a.indexOf("Map")!==-1,f=a.indexOf("Weak")!==-1,p=d?"set":"add",m=QC[a],_=m&&m.prototype,b={},O;if(!lD||!iD(m)||!(f||_.forEach&&!ZC(function(){new m().entries().next()})))O=c.getConstructor(l,a,d,p),JC.enable();else{O=l(function(I,C){uD(rD(I,x),{type:a,collection:new m}),C!=null&&tD(C,I[p],{that:I,AS_ENTRIES:d})});var x=O.prototype,T=hD(a);sD(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var C=I=="add"||I=="set";I in _&&!(f&&I=="clear")&&eD(x,I,function(U,ee){var se=T(this).collection;if(!C&&f&&!nD(U))return I=="get"?void 0:!1;var fe=se[I](U===0?0:U,ee);return C?this:fe})}),f||aD(x,"size",{configurable:!0,get:function(){return T(this).collection.size}})}return oD(O,a,!1,!0),b[a]=O,XC({global:!0,forced:!0},b),f||c.setStrong(O,a,d),O},cD=vo,dD=function(a,l,c){for(var d in l)c&&c.unsafe&&a[d]?a[d]=l[d]:cD(a,d,l[d],c);return a},fD=ln,vD=$h,p$=dD,pD=cr,gD=Pu,yD=Gr,mD=Hr,bD=Dl,j0=bc,wD=mf,Ff=qe,g$=d$.fastKey,y$=po,m$=y$.set,II=y$.getterFor,b$={getConstructor:function(a,l,c,d){var f=a(function(O,x){gD(O,p),m$(O,{type:l,index:fD(null),first:void 0,last:void 0,size:0}),Ff||(O.size=0),yD(x)||mD(x,O[d],{that:O,AS_ENTRIES:c})}),p=f.prototype,m=II(l),_=function(O,x,T){var I=m(O),C=b(O,x),U,ee;return C?C.value=T:(I.last=C={index:ee=g$(x,!0),key:x,value:T,previous:U=I.last,next:void 0,removed:!1},I.first||(I.first=C),U&&(U.next=C),Ff?I.size++:O.size++,ee!=="F"&&(I.index[ee]=C)),O},b=function(O,x){var T=m(O),I=g$(x),C;if(I!=="F")return T.index[I];for(C=T.first;C;C=C.next)if(C.key==x)return C};return p$(p,{clear:function(){for(var x=this,T=m(x),I=T.index,C=T.first;C;)C.removed=!0,C.previous&&(C.previous=C.previous.next=void 0),delete I[C.index],C=C.next;T.first=T.last=void 0,Ff?T.size=0:x.size=0},delete:function(O){var x=this,T=m(x),I=b(x,O);if(I){var C=I.next,U=I.previous;delete T.index[I.index],I.removed=!0,U&&(U.next=C),C&&(C.previous=U),T.first==I&&(T.first=C),T.last==I&&(T.last=U),Ff?T.size--:x.size--}return!!I},forEach:function(x){for(var T=m(this),I=pD(x,arguments.length>1?arguments[1]:void 0),C;C=C?C.next:T.first;)for(I(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(x){return!!b(this,x)}}),p$(p,c?{get:function(x){var T=b(this,x);return T&&T.value},set:function(x,T){return _(this,x===0?0:x,T)}}:{add:function(x){return _(this,x=x===0?0:x,x)}}),Ff&&vD(p,"size",{configurable:!0,get:function(){return m(this).size}}),f},setStrong:function(a,l,c){var d=l+" Iterator",f=II(l),p=II(d);bD(a,l,function(m,_){m$(this,{type:d,target:m,state:f(m),kind:_,last:void 0})},function(){for(var m=p(this),_=m.kind,b=m.last;b&&b.removed;)b=b.previous;return!m.target||!(m.last=b=b?b.next:m.state.first)?(m.target=void 0,j0(void 0,!0)):_=="keys"?j0(b.key,!1):_=="values"?j0(b.value,!1):j0([b.key,b.value],!1)},c?"entries":"values",!c,!0),wD(l)}},_D=v$,kD=b$;_D("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},kD);var ED=Ne,OD=ED.Map,SD=OD,xD=SD,TD=xD,w$=ie(TD),ID=ne,$D=go.some,PD=Rl,CD=PD("some");ID({target:"Array",proto:!0,forced:!CD},{some:function(l){return $D(this,l,arguments.length>1?arguments[1]:void 0)}});var DD=Et,MD=DD("Array").some,AD=Ge,ND=MD,$I=Array.prototype,RD=function(a){var l=a.some;return a===$I||AD($I,a)&&l===$I.some?ND:l},FD=RD,BD=FD,jD=BD,zD=ie(jD),LD=Et,HD=LD("Array").keys,WD=HD,UD=WD,VD=xr,qD=ce,GD=Ge,KD=UD,PI=Array.prototype,YD={DOMTokenList:!0,NodeList:!0},XD=function(a){var l=a.keys;return a===PI||GD(PI,a)&&l===PI.keys||qD(YD,VD(a))?KD:l},QD=XD,ws=ie(QD),_$=ep,JD=Math.floor,CI=function(a,l){var c=a.length,d=JD(c/2);return c<8?ZD(a,l):eM(a,CI(_$(a,0,d),l),CI(_$(a,d),l),l)},ZD=function(a,l){for(var c=a.length,d=1,f,p;d<c;){for(p=d,f=a[d];p&&l(a[p-1],f)>0;)a[p]=a[--p];p!==d++&&(a[p]=f)}return a},eM=function(a,l,c,d){for(var f=l.length,p=c.length,m=0,_=0;m<f||_<p;)a[m+_]=m<f&&_<p?d(l[m],c[_])<=0?l[m++]:c[_++]:m<f?l[m++]:c[_++];return a},tM=CI,rM=Kr,k$=rM.match(/firefox\/(\d+)/i),iM=!!k$&&+k$[1],nM=Kr,oM=/MSIE|Trident/.test(nM),aM=Kr,E$=aM.match(/AppleWebKit\/(\d+)\./),sM=!!E$&&+E$[1],lM=ne,O$=De,uM=wt,hM=Ht,S$=qt,cM=Sm,x$=Pr,DI=Y,dM=tM,fM=Rl,T$=iM,vM=oM,I$=Kn,$$=sM,Xo=[],P$=O$(Xo.sort),pM=O$(Xo.push),gM=DI(function(){Xo.sort(void 0)}),yM=DI(function(){Xo.sort(null)}),mM=fM("sort"),C$=!DI(function(){if(I$)return I$<70;if(!(T$&&T$>3)){if(vM)return!0;if($$)return $$<603;var a="",l,c,d,f;for(l=65;l<76;l++){switch(c=String.fromCharCode(l),l){case 66:case 69:case 70:case 72:d=3;break;case 68:case 71:d=4;break;default:d=2}for(f=0;f<47;f++)Xo.push({k:c+f,v:d})}for(Xo.sort(function(p,m){return m.v-p.v}),f=0;f<Xo.length;f++)c=Xo[f].k.charAt(0),a.charAt(a.length-1)!==c&&(a+=c);return a!=="DGBEFHACIJK"}}),bM=gM||!yM||!mM||!C$,wM=function(a){return function(l,c){return c===void 0?-1:l===void 0?1:a!==void 0?+a(l,c)||0:x$(l)>x$(c)?1:-1}};lM({target:"Array",proto:!0,forced:bM},{sort:function(l){l!==void 0&&uM(l);var c=hM(this);if(C$)return l===void 0?P$(c):P$(c,l);var d=[],f=S$(c),p,m;for(m=0;m<f;m++)m in c&&pM(d,c[m]);for(dM(d,wM(l)),p=S$(d),m=0;m<p;)c[m]=d[m++];for(;m<f;)cM(c,m++);return c}});var _M=Et,kM=_M("Array").sort,EM=Ge,OM=kM,MI=Array.prototype,SM=function(a){var l=a.sort;return a===MI||EM(MI,a)&&l===MI.sort?OM:l},xM=SM,TM=xM,IM=TM,AI=ie(IM),$M=Et,PM=$M("Array").values,CM=PM,DM=CM,MM=xr,AM=ce,NM=Ge,RM=DM,NI=Array.prototype,FM={DOMTokenList:!0,NodeList:!0},BM=function(a){var l=a.values;return a===NI||NM(NI,a)&&l===NI.values||AM(FM,MM(a))?RM:l},jM=BM,D$=ie(jM),zM=Xg,_s=ie(zM),LM=Et,HM=LM("Array").entries,WM=HM,UM=WM,VM=xr,qM=ce,GM=Ge,KM=UM,RI=Array.prototype,YM={DOMTokenList:!0,NodeList:!0},XM=function(a){var l=a.entries;return a===RI||GM(RI,a)&&l===RI.entries||qM(YM,VM(a))?KM:l},QM=XM,JM=ie(QM);let z0;const ZM=new Uint8Array(16);function eA(){if(!z0&&(z0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!z0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z0(ZM)}const Ct=[];for(let a=0;a<256;++a)Ct.push((a+256).toString(16).slice(1));function tA(a,l=0){return Ct[a[l+0]]+Ct[a[l+1]]+Ct[a[l+2]]+Ct[a[l+3]]+"-"+Ct[a[l+4]]+Ct[a[l+5]]+"-"+Ct[a[l+6]]+Ct[a[l+7]]+"-"+Ct[a[l+8]]+Ct[a[l+9]]+"-"+Ct[a[l+10]]+Ct[a[l+11]]+Ct[a[l+12]]+Ct[a[l+13]]+Ct[a[l+14]]+Ct[a[l+15]]}var M$={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function rA(a,l,c){if(M$.randomUUID&&!l&&!a)return M$.randomUUID();a=a||{};const d=a.random||(a.rng||eA)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,l){c=c||0;for(let f=0;f<16;++f)l[c+f]=d[f];return l}return tA(d)}function FI(a){return typeof a=="string"||typeof a=="number"}var A$=function(){function a(l){yt(this,a),me(this,"delay",void 0),me(this,"max",void 0),me(this,"_queue",[]),me(this,"_timeout",null),me(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(l)}return _i(a,[{key:"setOptions",value:function(c){c&&typeof c.delay<"u"&&(this.delay=c.delay),c&&typeof c.max<"u"&&(this.max=c.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var c=this._extended.object,d=this._extended.methods,f=0;f<d.length;f++){var p=d[f];p.original?c[p.name]=p.original:delete c[p.name]}this._extended=null}}},{key:"replace",value:function(c,d){var f=this,p=c[d];if(!p)throw new Error("Method "+d+" undefined");c[d]=function(){for(var m=arguments.length,_=new Array(m),b=0;b<m;b++)_[b]=arguments[b];f.queue({args:_,fn:p,context:this})}}},{key:"queue",value:function(c){typeof c=="function"?this._queue.push({fn:c}):this._queue.push(c),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var c=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Ai(function(){c.flush()},this.delay))}},{key:"flush",value:function(){var c,d;oe(c=Fr(d=this._queue).call(d,0)).call(c,function(f){f.fn.apply(f.context||f.fn,f.args||[])})}}],[{key:"extend",value:function(c,d){var f=new a(d);if(c.flush!==void 0)throw new Error("Target object already has a property flush");c.flush=function(){f.flush()};var p=[{name:"flush",original:void 0}];if(d&&d.replace)for(var m=0;m<d.replace.length;m++){var _=d.replace[m];p.push({name:_,original:c[_]}),f.replace(c,_)}return f._extended={object:c,methods:p},f}}]),a}(),N$=function(){function a(){yt(this,a),me(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),me(this,"subscribe",a.prototype.on),me(this,"unsubscribe",a.prototype.off)}return _i(a,[{key:"_trigger",value:function(c,d,f){var p,m;if(c==="*")throw new Error("Cannot trigger event *");oe(p=Ya(m=[]).call(m,mt(this._subscribers[c]),mt(this._subscribers["*"]))).call(p,function(_){_(c,d,f??null)})}},{key:"on",value:function(c,d){typeof d=="function"&&this._subscribers[c].push(d)}},{key:"off",value:function(c,d){var f;this._subscribers[c]=Qe(f=this._subscribers[c]).call(f,function(p){return p!==d})}}]),a}(),iA=v$,nA=b$;iA("Set",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},nA);var oA=Ne,aA=oA.Set,sA=aA,lA=sA,uA=lA,L0=ie(uA),hA=Yt,cA=hA,dA=cA,fA=dA,vA=fA,pA=vA,gA=pA,yA=gA,mA=yA,bA=mA,BI=ie(bA),R$;function Gi(a,l){var c=typeof En<"u"&&pn(a)||a["@@iterator"];if(!c){if(ut(a)||(c=wA(a))||l&&a&&typeof a.length=="number"){c&&(a=c);var d=0,f=function(){};return{s:f,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(O){throw O},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,m=!1,_;return{s:function(){c=c.call(a)},n:function(){var O=c.next();return p=O.done,O},e:function(O){m=!0,_=O},f:function(){try{!p&&c.return!=null&&c.return()}finally{if(m)throw _}}}}function wA(a,l){var c;if(!!a){if(typeof a=="string")return F$(a,l);var d=$i(c=Object.prototype.toString.call(a)).call(c,8,-1);if(d==="Object"&&a.constructor&&(d=a.constructor.name),d==="Map"||d==="Set")return Ll(a);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return F$(a,l)}}function F$(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=a[c];return d}R$=_s;var jI=function(){function a(l){yt(this,a),me(this,"_pairs",void 0),this._pairs=l}return _i(a,[{key:R$,value:lr.mark(function l(){var c,d,f,p,m;return lr.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c=Gi(this._pairs),b.prev=1,c.s();case 3:if((d=c.n()).done){b.next=9;break}return f=xt(d.value,2),p=f[0],m=f[1],b.next=7,[p,m];case 7:b.next=3;break;case 9:b.next=14;break;case 11:b.prev=11,b.t0=b.catch(1),c.e(b.t0);case 14:return b.prev=14,c.f(),b.finish(14);case 17:case"end":return b.stop()}},l,this,[[1,11,14,17]])})},{key:"entries",value:lr.mark(function l(){var c,d,f,p,m;return lr.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c=Gi(this._pairs),b.prev=1,c.s();case 3:if((d=c.n()).done){b.next=9;break}return f=xt(d.value,2),p=f[0],m=f[1],b.next=7,[p,m];case 7:b.next=3;break;case 9:b.next=14;break;case 11:b.prev=11,b.t0=b.catch(1),c.e(b.t0);case 14:return b.prev=14,c.f(),b.finish(14);case 17:case"end":return b.stop()}},l,this,[[1,11,14,17]])})},{key:"keys",value:lr.mark(function l(){var c,d,f,p;return lr.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:c=Gi(this._pairs),_.prev=1,c.s();case 3:if((d=c.n()).done){_.next=9;break}return f=xt(d.value,1),p=f[0],_.next=7,p;case 7:_.next=3;break;case 9:_.next=14;break;case 11:_.prev=11,_.t0=_.catch(1),c.e(_.t0);case 14:return _.prev=14,c.f(),_.finish(14);case 17:case"end":return _.stop()}},l,this,[[1,11,14,17]])})},{key:"values",value:lr.mark(function l(){var c,d,f,p;return lr.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:c=Gi(this._pairs),_.prev=1,c.s();case 3:if((d=c.n()).done){_.next=9;break}return f=xt(d.value,2),p=f[1],_.next=7,p;case 7:_.next=3;break;case 9:_.next=14;break;case 11:_.prev=11,_.t0=_.catch(1),c.e(_.t0);case 14:return _.prev=14,c.f(),_.finish(14);case 17:case"end":return _.stop()}},l,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var c;return Kt(c=mt(this._pairs)).call(c,function(d){return d[0]})}},{key:"toItemArray",value:function(){var c;return Kt(c=mt(this._pairs)).call(c,function(d){return d[1]})}},{key:"toEntryArray",value:function(){return mt(this._pairs)}},{key:"toObjectMap",value:function(){var c=fx(null),d=Gi(this._pairs),f;try{for(d.s();!(f=d.n()).done;){var p=xt(f.value,2),m=p[0],_=p[1];c[m]=_}}catch(b){d.e(b)}finally{d.f()}return c}},{key:"toMap",value:function(){return new w$(this._pairs)}},{key:"toIdSet",value:function(){return new L0(this.toIdArray())}},{key:"toItemSet",value:function(){return new L0(this.toItemArray())}},{key:"cache",value:function(){return new a(mt(this._pairs))}},{key:"distinct",value:function(c){var d=new L0,f=Gi(this._pairs),p;try{for(f.s();!(p=f.n()).done;){var m=xt(p.value,2),_=m[0],b=m[1];d.add(c(b,_))}}catch(O){f.e(O)}finally{f.f()}return d}},{key:"filter",value:function(c){var d=this._pairs;return new a(me({},_s,lr.mark(function f(){var p,m,_,b,O;return lr.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:p=Gi(d),T.prev=1,p.s();case 3:if((m=p.n()).done){T.next=10;break}if(_=xt(m.value,2),b=_[0],O=_[1],!c(O,b)){T.next=8;break}return T.next=8,[b,O];case 8:T.next=3;break;case 10:T.next=15;break;case 12:T.prev=12,T.t0=T.catch(1),p.e(T.t0);case 15:return T.prev=15,p.f(),T.finish(15);case 18:case"end":return T.stop()}},f,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(c){var d=Gi(this._pairs),f;try{for(d.s();!(f=d.n()).done;){var p=xt(f.value,2),m=p[0],_=p[1];c(_,m)}}catch(b){d.e(b)}finally{d.f()}}},{key:"map",value:function(c){var d=this._pairs;return new a(me({},_s,lr.mark(function f(){var p,m,_,b,O;return lr.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:p=Gi(d),T.prev=1,p.s();case 3:if((m=p.n()).done){T.next=9;break}return _=xt(m.value,2),b=_[0],O=_[1],T.next=7,[b,c(O,b)];case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),p.e(T.t0);case 14:return T.prev=14,p.f(),T.finish(14);case 17:case"end":return T.stop()}},f,null,[[1,11,14,17]])})))}},{key:"max",value:function(c){var d=BI(this._pairs),f=d.next();if(f.done)return null;for(var p=f.value[1],m=c(f.value[1],f.value[0]);!(f=d.next()).done;){var _=xt(f.value,2),b=_[0],O=_[1],x=c(O,b);x>m&&(m=x,p=O)}return p}},{key:"min",value:function(c){var d=BI(this._pairs),f=d.next();if(f.done)return null;for(var p=f.value[1],m=c(f.value[1],f.value[0]);!(f=d.next()).done;){var _=xt(f.value,2),b=_[0],O=_[1],x=c(O,b);x<m&&(m=x,p=O)}return p}},{key:"reduce",value:function(c,d){var f=Gi(this._pairs),p;try{for(f.s();!(p=f.n()).done;){var m=xt(p.value,2),_=m[0],b=m[1];d=c(d,b,_)}}catch(O){f.e(O)}finally{f.f()}return d}},{key:"sort",value:function(c){var d=this;return new a(me({},_s,function(){var f;return BI(AI(f=mt(d._pairs)).call(f,function(p,m){var _=xt(p,2),b=_[0],O=_[1],x=xt(m,2),T=x[0],I=x[1];return c(O,I,b,T)}))}))}}]),a}();function B$(a,l){var c=ru(a);if(Ny){var d=Ny(a);l&&(d=Qe(d).call(d,function(f){return td(a,f).enumerable})),c.push.apply(c,d)}return c}function j$(a){for(var l=1;l<arguments.length;l++){var c,d,f=arguments[l]!=null?arguments[l]:{};l%2?oe(c=B$(Object(f),!0)).call(c,function(p){me(a,p,f[p])}):To?Ly(a,To(f)):oe(d=B$(Object(f))).call(d,function(p){ad(a,p,td(f,p))})}return a}function zI(a,l){var c=typeof En<"u"&&pn(a)||a["@@iterator"];if(!c){if(ut(a)||(c=_A(a))||l&&a&&typeof a.length=="number"){c&&(a=c);var d=0,f=function(){};return{s:f,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(O){throw O},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,m=!1,_;return{s:function(){c=c.call(a)},n:function(){var O=c.next();return p=O.done,O},e:function(O){m=!0,_=O},f:function(){try{!p&&c.return!=null&&c.return()}finally{if(m)throw _}}}}function _A(a,l){var c;if(!!a){if(typeof a=="string")return z$(a,l);var d=$i(c=Object.prototype.toString.call(a)).call(c,8,-1);if(d==="Object"&&a.constructor&&(d=a.constructor.name),d==="Map"||d==="Set")return Ll(a);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return z$(a,l)}}function z$(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=a[c];return d}function kA(a){var l=EA();return function(){var d=Go(a),f;if(l){var p=Go(this).constructor;f=zi(d,arguments,p)}else f=d.apply(this,arguments);return hs(this,f)}}function EA(){if(typeof Reflect>"u"||!zi||zi.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(zi(Boolean,[],function(){})),!0}catch{return!1}}function OA(a,l){return a[l]==null&&(a[l]=rA()),a}var L$=function(a){Gb(c,a);var l=kA(c);function c(d,f){var p;return yt(this,c),p=l.call(this),me(er(p),"flush",void 0),me(er(p),"length",void 0),me(er(p),"_options",void 0),me(er(p),"_data",void 0),me(er(p),"_idProp",void 0),me(er(p),"_queue",null),d&&!ut(d)&&(f=d,d=[]),p._options=f||{},p._data=new w$,p.length=0,p._idProp=p._options.fieldId||"id",d&&d.length&&p.add(d),p.setOptions(f),p}return _i(c,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(f){f&&f.queue!==void 0&&(f.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=A$.extend(this,{replace:["add","update","remove"]})),f.queue&&ft(f.queue)==="object"&&this._queue.setOptions(f.queue)))}},{key:"add",value:function(f,p){var m=this,_=[],b;if(ut(f)){var O=Kt(f).call(f,function(I){return I[m._idProp]});if(zD(O).call(O,function(I){return m._data.has(I)}))throw new Error("A duplicate id was found in the parameter array.");for(var x=0,T=f.length;x<T;x++)b=this._addItem(f[x]),_.push(b)}else if(f&&ft(f)==="object")b=this._addItem(f),_.push(b);else throw new Error("Unknown dataType");return _.length&&this._trigger("add",{items:_},p),_}},{key:"update",value:function(f,p){var m=this,_=[],b=[],O=[],x=[],T=this._idProp,I=function(fe){var ge=fe[T];if(ge!=null&&m._data.has(ge)){var bt=fe,Oe=su({},m._data.get(ge)),jt=m._updateItem(bt);b.push(jt),x.push(bt),O.push(Oe)}else{var zt=m._addItem(fe);_.push(zt)}};if(ut(f))for(var C=0,U=f.length;C<U;C++)f[C]&&ft(f[C])==="object"?I(f[C]):console.warn("Ignoring input item, which is not an object at index "+C);else if(f&&ft(f)==="object")I(f);else throw new Error("Unknown dataType");if(_.length&&this._trigger("add",{items:_},p),b.length){var ee={items:b,oldData:O,data:x};this._trigger("update",ee,p)}return Ya(_).call(_,b)}},{key:"updateOnly",value:function(f,p){var m,_=this;ut(f)||(f=[f]);var b=Kt(m=Kt(f).call(f,function(x){var T=_._data.get(x[_._idProp]);if(T==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:T,update:x}})).call(m,function(x){var T=x.oldData,I=x.update,C=T[_._idProp],U=Jx(T,I);return _._data.set(C,U),{id:C,oldData:T,updatedData:U}});if(b.length){var O={items:Kt(b).call(b,function(x){return x.id}),oldData:Kt(b).call(b,function(x){return x.oldData}),data:Kt(b).call(b,function(x){return x.updatedData})};return this._trigger("update",O,p),O.items}else return[]}},{key:"get",value:function(f,p){var m=void 0,_=void 0,b=void 0;FI(f)?(m=f,b=p):ut(f)?(_=f,b=p):b=f;var O=b&&b.returnType==="Object"?"Object":"Array",x=b&&Qe(b),T=[],I=void 0,C=void 0,U=void 0;if(m!=null)I=this._data.get(m),I&&x&&!x(I)&&(I=void 0);else if(_!=null)for(var ee=0,se=_.length;ee<se;ee++)I=this._data.get(_[ee]),I!=null&&(!x||x(I))&&T.push(I);else{var fe;C=mt(ws(fe=this._data).call(fe));for(var ge=0,bt=C.length;ge<bt;ge++)U=C[ge],I=this._data.get(U),I!=null&&(!x||x(I))&&T.push(I)}if(b&&b.order&&m==null&&this._sort(T,b.order),b&&b.fields){var Oe=b.fields;if(m!=null&&I!=null)I=this._filterFields(I,Oe);else for(var jt=0,zt=T.length;jt<zt;jt++)T[jt]=this._filterFields(T[jt],Oe)}if(O=="Object"){for(var Dt={},Er=0,Ki=T.length;Er<Ki;Er++){var Wr=T[Er],Hn=Wr[this._idProp];Dt[Hn]=Wr}return Dt}else if(m!=null){var Wn;return(Wn=I)!==null&&Wn!==void 0?Wn:null}else return T}},{key:"getIds",value:function(f){var p=this._data,m=f&&Qe(f),_=f&&f.order,b=mt(ws(p).call(p)),O=[];if(m)if(_){for(var x=[],T=0,I=b.length;T<I;T++){var C=b[T],U=this._data.get(C);U!=null&&m(U)&&x.push(U)}this._sort(x,_);for(var ee=0,se=x.length;ee<se;ee++)O.push(x[ee][this._idProp])}else for(var fe=0,ge=b.length;fe<ge;fe++){var bt=b[fe],Oe=this._data.get(bt);Oe!=null&&m(Oe)&&O.push(Oe[this._idProp])}else if(_){for(var jt=[],zt=0,Dt=b.length;zt<Dt;zt++){var Er=b[zt];jt.push(p.get(Er))}this._sort(jt,_);for(var Ki=0,Wr=jt.length;Ki<Wr;Ki++)O.push(jt[Ki][this._idProp])}else for(var Hn=0,Wn=b.length;Hn<Wn;Hn++){var Lu=b[Hn],Un=p.get(Lu);Un!=null&&O.push(Un[this._idProp])}return O}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(f,p){var m=p&&Qe(p),_=this._data,b=mt(ws(_).call(_));if(p&&p.order)for(var O=this.get(p),x=0,T=O.length;x<T;x++){var I=O[x],C=I[this._idProp];f(I,C)}else for(var U=0,ee=b.length;U<ee;U++){var se=b[U],fe=this._data.get(se);fe!=null&&(!m||m(fe))&&f(fe,se)}}},{key:"map",value:function(f,p){for(var m=p&&Qe(p),_=[],b=this._data,O=mt(ws(b).call(b)),x=0,T=O.length;x<T;x++){var I=O[x],C=this._data.get(I);C!=null&&(!m||m(C))&&_.push(f(C,I))}return p&&p.order&&this._sort(_,p.order),_}},{key:"_filterFields",value:function(f,p){var m;return f&&ly(m=ut(p)?p:ru(p)).call(m,function(_,b){return _[b]=f[b],_},{})}},{key:"_sort",value:function(f,p){if(typeof p=="string"){var m=p;AI(f).call(f,function(_,b){var O=_[m],x=b[m];return O>x?1:O<x?-1:0})}else if(typeof p=="function")AI(f).call(f,p);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(f,p){for(var m=[],_=[],b=ut(f)?f:[f],O=0,x=b.length;O<x;O++){var T=this._remove(b[O]);if(T){var I=T[this._idProp];I!=null&&(m.push(I),_.push(T))}}return m.length&&this._trigger("remove",{items:m,oldData:_},p),m}},{key:"_remove",value:function(f){var p;if(FI(f)?p=f:f&&ft(f)==="object"&&(p=f[this._idProp]),p!=null&&this._data.has(p)){var m=this._data.get(p)||null;return this._data.delete(p),--this.length,m}return null}},{key:"clear",value:function(f){for(var p,m=mt(ws(p=this._data).call(p)),_=[],b=0,O=m.length;b<O;b++)_.push(this._data.get(m[b]));return this._data.clear(),this.length=0,this._trigger("remove",{items:m,oldData:_},f),m}},{key:"max",value:function(f){var p,m=null,_=null,b=zI(D$(p=this._data).call(p)),O;try{for(b.s();!(O=b.n()).done;){var x=O.value,T=x[f];typeof T=="number"&&(_==null||T>_)&&(m=x,_=T)}}catch(I){b.e(I)}finally{b.f()}return m||null}},{key:"min",value:function(f){var p,m=null,_=null,b=zI(D$(p=this._data).call(p)),O;try{for(b.s();!(O=b.n()).done;){var x=O.value,T=x[f];typeof T=="number"&&(_==null||T<_)&&(m=x,_=T)}}catch(I){b.e(I)}finally{b.f()}return m||null}},{key:"distinct",value:function(f){for(var p=this._data,m=mt(ws(p).call(p)),_=[],b=0,O=0,x=m.length;O<x;O++){for(var T=m[O],I=p.get(T),C=I[f],U=!1,ee=0;ee<b;ee++)if(_[ee]==C){U=!0;break}!U&&C!==void 0&&(_[b]=C,b++)}return _}},{key:"_addItem",value:function(f){var p=OA(f,this._idProp),m=p[this._idProp];if(this._data.has(m))throw new Error("Cannot add item: item with id "+m+" already exists");return this._data.set(m,p),++this.length,m}},{key:"_updateItem",value:function(f){var p=f[this._idProp];if(p==null)throw new Error("Cannot update item: item has no id (item: "+yx(f)+")");var m=this._data.get(p);if(!m)throw new Error("Cannot update item: no item with id "+p+" found");return this._data.set(p,j$(j$({},m),f)),p}},{key:"stream",value:function(f){if(f){var p=this._data;return new jI(me({},_s,lr.mark(function _(){var b,O,x,T;return lr.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:b=zI(f),C.prev=1,b.s();case 3:if((O=b.n()).done){C.next=11;break}if(x=O.value,T=p.get(x),T==null){C.next=9;break}return C.next=9,[x,T];case 9:C.next=3;break;case 11:C.next=16;break;case 13:C.prev=13,C.t0=C.catch(1),b.e(C.t0);case 16:return C.prev=16,b.f(),C.finish(16);case 19:case"end":return C.stop()}},_,null,[[1,13,16,19]])})))}else{var m;return new jI(me({},_s,fn(m=JM(this._data)).call(m,this._data)))}}}]),c}(N$);function SA(a,l){var c=typeof En<"u"&&pn(a)||a["@@iterator"];if(!c){if(ut(a)||(c=xA(a))||l&&a&&typeof a.length=="number"){c&&(a=c);var d=0,f=function(){};return{s:f,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(O){throw O},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,m=!1,_;return{s:function(){c=c.call(a)},n:function(){var O=c.next();return p=O.done,O},e:function(O){m=!0,_=O},f:function(){try{!p&&c.return!=null&&c.return()}finally{if(m)throw _}}}}function xA(a,l){var c;if(!!a){if(typeof a=="string")return H$(a,l);var d=$i(c=Object.prototype.toString.call(a)).call(c,8,-1);if(d==="Object"&&a.constructor&&(d=a.constructor.name),d==="Map"||d==="Set")return Ll(a);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return H$(a,l)}}function H$(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=a[c];return d}function TA(a){var l=IA();return function(){var d=Go(a),f;if(l){var p=Go(this).constructor;f=zi(d,arguments,p)}else f=d.apply(this,arguments);return hs(this,f)}}function IA(){if(typeof Reflect>"u"||!zi||zi.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(zi(Boolean,[],function(){})),!0}catch{return!1}}var $A=function(a){Gb(c,a);var l=TA(c);function c(d,f){var p,m;return yt(this,c),m=l.call(this),me(er(m),"length",0),me(er(m),"_listener",void 0),me(er(m),"_data",void 0),me(er(m),"_ids",new L0),me(er(m),"_options",void 0),m._options=f||{},m._listener=fn(p=m._onEvent).call(p,er(m)),m.setData(d),m}return _i(c,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(f){if(this._data){this._data.off&&this._data.off("*",this._listener);var p=this._data.getIds({filter:Qe(this._options)}),m=this._data.get(p);this._ids.clear(),this.length=0,this._trigger("remove",{items:p,oldData:m})}if(f!=null){this._data=f;for(var _=this._data.getIds({filter:Qe(this._options)}),b=0,O=_.length;b<O;b++){var x=_[b];this._ids.add(x)}this.length=_.length,this._trigger("add",{items:_})}else this._data=new L$;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var f=this._data.getIds({filter:Qe(this._options)}),p=mt(this._ids),m={},_=[],b=[],O=[],x=0,T=f.length;x<T;x++){var I=f[x];m[I]=!0,this._ids.has(I)||(_.push(I),this._ids.add(I))}for(var C=0,U=p.length;C<U;C++){var ee=p[C],se=this._data.get(ee);se==null?console.error("If you see this, report it please."):m[ee]||(b.push(ee),O.push(se),this._ids.delete(ee))}this.length+=_.length-b.length,_.length&&this._trigger("add",{items:_}),b.length&&this._trigger("remove",{items:b,oldData:O})}},{key:"get",value:function(f,p){if(this._data==null)return null;var m=null,_;FI(f)||ut(f)?(m=f,_=p):_=f;var b=su({},this._options,_),O=Qe(this._options),x=_&&Qe(_);return O&&x&&(b.filter=function(T){return O(T)&&x(T)}),m==null?this._data.get(b):this._data.get(m,b)}},{key:"getIds",value:function(f){if(this._data.length){var p=Qe(this._options),m=f!=null?Qe(f):null,_;return m?p?_=function(O){return p(O)&&m(O)}:_=m:_=p,this._data.getIds({filter:_,order:f&&f.order})}else return[]}},{key:"forEach",value:function(f,p){if(this._data){var m,_=Qe(this._options),b=p&&Qe(p),O;b?_?O=function(T){return _(T)&&b(T)}:O=b:O=_,oe(m=this._data).call(m,f,{filter:O,order:p&&p.order})}}},{key:"map",value:function(f,p){if(this._data){var m,_=Qe(this._options),b=p&&Qe(p),O;return b?_?O=function(T){return _(T)&&b(T)}:O=b:O=_,Kt(m=this._data).call(m,f,{filter:O,order:p&&p.order})}else return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(f){var p;return this._data.stream(f||me({},_s,fn(p=ws(this._ids)).call(p,this._ids)))}},{key:"dispose",value:function(){var f;(f=this._data)!==null&&f!==void 0&&f.off&&this._data.off("*",this._listener);var p="This data view has already been disposed of.",m={get:function(){throw new Error(p)},set:function(){throw new Error(p)},configurable:!1},_=SA(tu(c.prototype)),b;try{for(_.s();!(b=_.n()).done;){var O=b.value;ad(this,O,m)}}catch(x){_.e(x)}finally{_.f()}}},{key:"_onEvent",value:function(f,p,m){if(!(!p||!p.items||!this._data)){var _=p.items,b=[],O=[],x=[],T=[],I=[],C=[];switch(f){case"add":for(var U=0,ee=_.length;U<ee;U++){var se=_[U],fe=this.get(se);fe&&(this._ids.add(se),b.push(se))}break;case"update":for(var ge=0,bt=_.length;ge<bt;ge++){var Oe=_[ge],jt=this.get(Oe);jt?this._ids.has(Oe)?(O.push(Oe),I.push(p.data[ge]),T.push(p.oldData[ge])):(this._ids.add(Oe),b.push(Oe)):this._ids.has(Oe)&&(this._ids.delete(Oe),x.push(Oe),C.push(p.oldData[ge]))}break;case"remove":for(var zt=0,Dt=_.length;zt<Dt;zt++){var Er=_[zt];this._ids.has(Er)&&(this._ids.delete(Er),x.push(Er),C.push(p.oldData[zt]))}break}this.length+=b.length-x.length,b.length&&this._trigger("add",{items:b},m),O.length&&this._trigger("update",{items:O,oldData:T,data:I},m),x.length&&this._trigger("remove",{items:x,oldData:C},m)}}}]),c}(N$);function W$(a,l){return ft(l)==="object"&&l!==null&&a===l.idProp&&typeof l.add=="function"&&typeof l.clear=="function"&&typeof l.distinct=="function"&&typeof oe(l)=="function"&&typeof l.get=="function"&&typeof l.getDataSet=="function"&&typeof l.getIds=="function"&&typeof l.length=="number"&&typeof Kt(l)=="function"&&typeof l.max=="function"&&typeof l.min=="function"&&typeof l.off=="function"&&typeof l.on=="function"&&typeof l.remove=="function"&&typeof l.setOptions=="function"&&typeof l.stream=="function"&&typeof l.update=="function"&&typeof l.updateOnly=="function"}function PA(a,l){return ft(l)==="object"&&l!==null&&a===l.idProp&&typeof oe(l)=="function"&&typeof l.get=="function"&&typeof l.getDataSet=="function"&&typeof l.getIds=="function"&&typeof l.length=="number"&&typeof Kt(l)=="function"&&typeof l.off=="function"&&typeof l.on=="function"&&typeof l.stream=="function"&&W$(a,l.getDataSet())}Ur.DELETE=gu,Ur.DataSet=L$,Ur.DataStream=jI,Ur.DataView=$A,Ur.Queue=A$,Ur.createNewDataPipeFrom=dO,Ur.isDataSetLike=W$,Ur.isDataViewLike=PA})},37038:function(G$,W0,Ur){/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.9
 * @date    2023-11-03T01:42:27.418Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */(function(yt,Vr){Vr(W0,Ur(35579))})(this,function(yt,Vr){var ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Yi=function(i){return i&&i.Math===Math&&i},he=Yi(typeof globalThis=="object"&&globalThis)||Yi(typeof window=="object"&&window)||Yi(typeof self=="object"&&self)||Yi(typeof ie=="object"&&ie)||function(){return this}()||ie||Function("return this")(),Y=function(i){try{return!!i()}catch{return!0}},Jo=!Y(function(){var i=function(){}.bind();return typeof i!="function"||i.hasOwnProperty("prototype")}),Zo=Jo,Bf=Function.prototype,Hu=Bf.apply,Wu=Bf.call,Vn=typeof Reflect=="object"&&Reflect.apply||(Zo?Wu.bind(Hu):function(){return Wu.apply(Hu,arguments)}),Xi=Jo,Uu=Function.prototype,Os=Uu.call,Vu=Xi&&Uu.bind.bind(Os,Os),ke=Xi?Vu:function(i){return function(){return Os.apply(i,arguments)}},De=ke,jf=De({}.toString),U0=De("".slice),qr=function(i){return U0(jf(i),8,-1)},ai=qr,V0=ke,Ss=function(i){if(ai(i)==="Function")return V0(i)},xs=typeof document=="object"&&document.all,qn={all:xs,IS_HTMLDDA:xs===void 0&&xs!==void 0},q0=qn.all,et=qn.IS_HTMLDDA?function(i){return typeof i=="function"||i===q0}:function(i){return typeof i=="function"},Qi={},it=!Y(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Le=Jo,Or=Function.prototype.call,Lt=Le?Or.bind(Or):function(){return Or.apply(Or,arguments)},qe={},zf={}.propertyIsEnumerable,ea=Object.getOwnPropertyDescriptor,nt=ea&&!zf.call({1:2},1);qe.f=nt?function(i){var e=ea(this,i);return!!e&&e.enumerable}:zf;var hr,ta,Gn=function(i,e){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:e}},G0=Y,Ji=qr,qu=Object,K0=ke("".split),Ts=G0(function(){return!qu("z").propertyIsEnumerable(0)})?function(i){return Ji(i)==="String"?K0(i,""):qu(i)}:qu,si=function(i){return i==null},Y0=si,Is=TypeError,Gr=function(i){if(Y0(i))throw new Is("Can't call method on "+i);return i},X0=Ts,Q0=Gr,rr=function(i){return X0(Q0(i))},Lf=et,J0=qn.all,Pe=qn.IS_HTMLDDA?function(i){return typeof i=="object"?i!==null:Lf(i)||i===J0}:function(i){return typeof i=="object"?i!==null:Lf(i)},be={},$s=be,Gu=he,ct=et,Ne=function(i){return ct(i)?i:void 0},Mt=function(i,e){return arguments.length<2?Ne($s[i])||Ne(Gu[i]):$s[i]&&$s[i][e]||Gu[i]&&Gu[i][e]},Be=ke({}.isPrototypeOf),ra=typeof navigator<"u"&&String(navigator.userAgent)||"",Ku=he,dt=ra,Hf=Ku.process,Ge=Ku.Deno,Kr=Hf&&Hf.versions||Ge&&Ge.version,Yu=Kr&&Kr.v8;Yu&&(ta=(hr=Yu.split("."))[0]>0&&hr[0]<4?1:+(hr[0]+hr[1])),!ta&&dt&&(!(hr=dt.match(/Edge\/(\d+)/))||hr[1]>=74)&&(hr=dt.match(/Chrome\/(\d+)/))&&(ta=+hr[1]);var li=ta,Xu=li,Wf=Y,Uf=he.String,Zi=!!Object.getOwnPropertySymbols&&!Wf(function(){var i=Symbol("symbol detection");return!Uf(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&Xu&&Xu<41}),ir=Zi&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Ps=Mt,Kn=et,Vf=Be,Z0=Object,Sr=ir?function(i){return typeof i=="symbol"}:function(i){var e=Ps("Symbol");return Kn(e)&&Vf(e.prototype,Z0(i))},ew=String,en=function(i){try{return ew(i)}catch{return"Object"}},tw=et,rw=en,iw=TypeError,tn=function(i){if(tw(i))return i;throw new iw(rw(i)+" is not a function")},nw=tn,ia=si,Qu=function(i,e){var t=i[e];return ia(t)?void 0:nw(t)},ui=Lt,Ju=et,Zu=Pe,ow=TypeError,wt={exports:{}},qf=he,aw=Object.defineProperty,eh=function(i,e){try{aw(qf,i,{value:e,configurable:!0,writable:!0})}catch{qf[i]=e}return e},Cs="__core-js_shared__",na=he[Cs]||eh(Cs,{}),Ds=na;(wt.exports=function(i,e){return Ds[i]||(Ds[i]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Yn=wt.exports,sw=Gr,Gf=Object,At=function(i){return Gf(sw(i))},Kf=At,lw=ke({}.hasOwnProperty),ot=Object.hasOwn||function(i,e){return lw(Kf(i),e)},uw=ke,hw=0,Yf=Math.random(),cw=uw(1 .toString),Xn=function(i){return"Symbol("+(i===void 0?"":i)+")_"+cw(++hw+Yf,36)},Xf=Yn,rn=ot,dw=Xn,fw=Zi,Ht=ir,Qn=he.Symbol,th=Xf("wks"),vw=Ht?Qn.for||Qn:Qn&&Qn.withoutSetter||dw,ce=function(i){return rn(th,i)||(th[i]=fw&&rn(Qn,i)?Qn[i]:vw("Symbol."+i)),th[i]},pw=Lt,Qf=Pe,Jf=Sr,gw=Qu,Ms=function(i,e){var t,r;if(e==="string"&&Ju(t=i.toString)&&!Zu(r=ui(t,i))||Ju(t=i.valueOf)&&!Zu(r=ui(t,i))||e!=="string"&&Ju(t=i.toString)&&!Zu(r=ui(t,i)))return r;throw new ow("Can't convert object to primitive value")},yw=TypeError,mw=ce("toPrimitive"),Zf=function(i,e){if(!Qf(i)||Jf(i))return i;var t,r=gw(i,mw);if(r){if(e===void 0&&(e="default"),t=pw(r,i,e),!Qf(t)||Jf(t))return t;throw new yw("Can't convert object to primitive value")}return e===void 0&&(e="number"),Ms(i,e)},bw=Sr,As=function(i){var e=Zf(i,"string");return bw(e)?e:e+""},ev=Pe,hi=he.document,rh=ev(hi)&&ev(hi.createElement),tv=function(i){return rh?hi.createElement(i):{}},He=tv,rv=!it&&!Y(function(){return Object.defineProperty(He("div"),"a",{get:function(){return 7}}).a!==7}),iv=it,nv=Lt,ww=qe,_w=Gn,kw=rr,Ew=As,Ow=ot,Sw=rv,ov=Object.getOwnPropertyDescriptor;Qi.f=iv?ov:function(i,e){if(i=kw(i),e=Ew(e),Sw)try{return ov(i,e)}catch{}if(Ow(i,e))return _w(!nv(ww.f,i,e),i[e])};var xw=Y,Ns=et,Tw=/#|\.prototype\./,Jn=function(i,e){var t=Iw[ih(i)];return t===$w||t!==nh&&(Ns(e)?xw(e):!!e)},ih=Jn.normalize=function(i){return String(i).replace(Tw,".").toLowerCase()},Iw=Jn.data={},nh=Jn.NATIVE="N",$w=Jn.POLYFILL="P",Pw=Jn,Cw=tn,av=Jo,Dw=Ss(Ss.bind),oa=function(i,e){return Cw(i),e===void 0?i:av?Dw(i,e):function(){return i.apply(e,arguments)}},Wt={},sv=it&&Y(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Mw=Pe,Aw=String,Nw=TypeError,Ut=function(i){if(Mw(i))return i;throw new Nw(Aw(i)+" is not an object")},lv=it,Rw=rv,Fw=sv,Rs=Ut,Zn=As,Bw=TypeError,oh=Object.defineProperty,jw=Object.getOwnPropertyDescriptor,ah="enumerable",Fs="configurable",Bs="writable";Wt.f=lv?Fw?function(i,e,t){if(Rs(i),e=Zn(e),Rs(t),typeof i=="function"&&e==="prototype"&&"value"in t&&Bs in t&&!t[Bs]){var r=jw(i,e);r&&r[Bs]&&(i[e]=t.value,t={configurable:Fs in t?t[Fs]:r[Fs],enumerable:ah in t?t[ah]:r[ah],writable:!1})}return oh(i,e,t)}:oh:function(i,e,t){if(Rs(i),e=Zn(e),Rs(t),Rw)try{return oh(i,e,t)}catch{}if("get"in t||"set"in t)throw new Bw("Accessors not supported");return"value"in t&&(i[e]=t.value),i};var zw=Wt,Lw=Gn,eo=it?function(i,e,t){return zw.f(i,e,Lw(1,t))}:function(i,e,t){return i[e]=t,i},cr=he,Vt=Vn,Hw=Ss,Ww=et,uv=Qi.f,Uw=Pw,to=be,Vw=oa,at=eo,hv=ot,qw=function(i){var e=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new i;case 1:return new i(t);case 2:return new i(t,r)}return new i(t,r,n)}return Vt(i,this,arguments)};return e.prototype=i.prototype,e},te=function(i,e){var t,r,n,o,s,u,h,v,g,y=i.target,w=i.global,k=i.stat,E=i.proto,S=w?cr:k?cr[y]:(cr[y]||{}).prototype,$=w?to:to[y]||at(to,y,{})[y],D=$.prototype;for(o in e)r=!(t=Uw(w?o:y+(k?".":"#")+o,i.forced))&&S&&hv(S,o),u=$[o],r&&(h=i.dontCallGetSet?(g=uv(S,o))&&g.value:S[o]),s=r&&h?h:e[o],r&&typeof u==typeof s||(v=i.bind&&r?Vw(s,cr):i.wrap&&r?qw(s):E&&Ww(s)?Hw(s):s,(i.sham||s&&s.sham||u&&u.sham)&&at(v,"sham",!0),at($,o,v),E&&(hv(to,n=y+"Prototype")||at(to,n,{}),at(to[n],o,s),i.real&&D&&(t||!D[o])&&at(D,o,s)))},js=Math.ceil,cv=Math.floor,Gw=Math.trunc||function(i){var e=+i;return(e>0?cv:js)(e)},ro=function(i){var e=+i;return e!=e||e===0?0:Gw(e)},Kw=ro,sh=Math.max,lh=Math.min,nn=function(i,e){var t=Kw(i);return t<0?sh(t+e,0):lh(t,e)},Yw=ro,Xw=Math.min,Qw=function(i){return i>0?Xw(Yw(i),9007199254740991):0},Ye=function(i){return Qw(i.length)},zs=rr,Jw=nn,Zw=Ye,dv=function(i){return function(e,t,r){var n,o=zs(e),s=Zw(o),u=Jw(r,s);if(i&&t!=t){for(;s>u;)if((n=o[u++])!=n)return!0}else for(;s>u;u++)if((i||u in o)&&o[u]===t)return i||u||0;return!i&&-1}},uh={includes:dv(!0),indexOf:dv(!1)},aa={},ci=ot,e1=rr,io=uh.indexOf,fv=aa,vv=ke([].push),ne=function(i,e){var t,r=e1(i),n=0,o=[];for(t in r)!ci(fv,t)&&ci(r,t)&&vv(o,t);for(;e.length>n;)ci(r,t=e[n++])&&(~io(o,t)||vv(o,t));return o},hh=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],t1=ne,pv=hh,Ls=Object.keys||function(i){return t1(i,pv)},no={};no.f=Object.getOwnPropertySymbols;var gv=it,r1=ke,i1=Lt,yv=Y,ch=Ls,n1=no,o1=qe,a1=At,s1=Ts,on=Object.assign,sa=Object.defineProperty,l1=r1([].concat),di=!on||yv(function(){if(gv&&on({b:1},on(sa({},"a",{enumerable:!0,get:function(){sa(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var i={},e={},t=Symbol("assign detection"),r="abcdefghijklmnopqrst";return i[t]=7,r.split("").forEach(function(n){e[n]=n}),on({},i)[t]!==7||ch(on({},e)).join("")!==r})?function(i,e){for(var t=a1(i),r=arguments.length,n=1,o=n1.f,s=o1.f;r>n;)for(var u,h=s1(arguments[n++]),v=o?l1(ch(h),o(h)):ch(h),g=v.length,y=0;g>y;)u=v[y++],gv&&!i1(s,h,u)||(t[u]=h[u]);return t}:on,mv=di;te({target:"Object",stat:!0,arity:2,forced:Object.assign!==mv},{assign:mv});var Xe=K(be.Object.assign),Hs=ke([].slice),bv=ke,Ws=tn,u1=Pe,h1=ot,wv=Hs,c1=Jo,qt=Function,d1=bv([].concat),f1=bv([].join),la={},_v=c1?qt.bind:function(i){var e=Ws(this),t=e.prototype,r=wv(arguments,1),n=function(){var o=d1(r,wv(arguments));return this instanceof n?function(s,u,h){if(!h1(la,u)){for(var v=[],g=0;g<u;g++)v[g]="a["+g+"]";la[u]=qt("C,a","return new C("+f1(v,",")+")")}return la[u](s,h)}(e,o.length,o):e.apply(i,o)};return u1(t)&&(n.prototype=t),n},kv=_v;te({target:"Function",proto:!0,forced:Function.bind!==kv},{bind:kv});var v1=be,je=function(i){return v1[i+"Prototype"]},p1=je("Function").bind,g1=Be,Ev=p1,ua=Function.prototype,y1=function(i){var e=i.bind;return i===ua||g1(ua,i)&&e===ua.bind?Ev:e},Ov=y1,N=K(Ov);function dh(i,e,t,r){i.beginPath(),i.arc(e,t,r,0,2*Math.PI,!1),i.closePath()}function Sv(i,e,t,r,n,o){var s=Math.PI/180;r-2*o<0&&(o=r/2),n-2*o<0&&(o=n/2),i.beginPath(),i.moveTo(e+o,t),i.lineTo(e+r-o,t),i.arc(e+r-o,t+o,o,270*s,360*s,!1),i.lineTo(e+r,t+n-o),i.arc(e+r-o,t+n-o,o,0,90*s,!1),i.lineTo(e+o,t+n),i.arc(e+o,t+n-o,o,90*s,180*s,!1),i.lineTo(e,t+o),i.arc(e+o,t+o,o,180*s,270*s,!1),i.closePath()}function fh(i,e,t,r,n){var o=.5522848,s=r/2*o,u=n/2*o,h=e+r,v=t+n,g=e+r/2,y=t+n/2;i.beginPath(),i.moveTo(e,y),i.bezierCurveTo(e,y-u,g-s,t,g,t),i.bezierCurveTo(g+s,t,h,y-u,h,y),i.bezierCurveTo(h,y+u,g+s,v,g,v),i.bezierCurveTo(g-s,v,e,y+u,e,y),i.closePath()}function xv(i,e,t,r,n){var o=n*.3333333333333333,s=.5522848,u=r/2*s,h=o/2*s,v=e+r,g=t+o,y=e+r/2,w=t+o/2,k=t+(n-o/2),E=t+n;i.beginPath(),i.moveTo(v,w),i.bezierCurveTo(v,w+h,y+u,g,y,g),i.bezierCurveTo(y-u,g,e,w+h,e,w),i.bezierCurveTo(e,w-h,y-u,t,y,t),i.bezierCurveTo(y+u,t,v,w-h,v,w),i.lineTo(v,k),i.bezierCurveTo(v,k+h,y+u,E,y,E),i.bezierCurveTo(y-u,E,e,k+h,e,k),i.lineTo(e,w)}function Tv(i,e,t,r,n,o){i.beginPath(),i.moveTo(e,t);for(var s=o.length,u=r-e,h=n-t,v=h/u,g=Math.sqrt(u*u+h*h),y=0,w=!0,k=0,E=+o[0];g>=.1;)(E=+o[y++%s])>g&&(E=g),k=Math.sqrt(E*E/(1+v*v)),e+=k=u<0?-k:k,t+=v*k,w===!0?i.lineTo(e,t):i.moveTo(e,t),g-=E,w=!w}var xr={circle:dh,dashedLine:Tv,database:xv,diamond:function(i,e,t,r){i.beginPath(),i.lineTo(e,t+r),i.lineTo(e+r,t),i.lineTo(e,t-r),i.lineTo(e-r,t),i.closePath()},ellipse:fh,ellipse_vis:fh,hexagon:function(i,e,t,r){i.beginPath();var n=2*Math.PI/6;i.moveTo(e+r,t);for(var o=1;o<6;o++)i.lineTo(e+r*Math.cos(n*o),t+r*Math.sin(n*o));i.closePath()},roundRect:Sv,square:function(i,e,t,r){i.beginPath(),i.rect(e-r,t-r,2*r,2*r),i.closePath()},star:function(i,e,t,r){i.beginPath(),t+=.1*(r*=.82);for(var n=0;n<10;n++){var o=n%2==0?1.3*r:.5*r;i.lineTo(e+o*Math.sin(2*n*Math.PI/10),t-o*Math.cos(2*n*Math.PI/10))}i.closePath()},triangle:function(i,e,t,r){i.beginPath(),t+=.275*(r*=1.15);var n=2*r,o=n/2,s=Math.sqrt(3)/6*n,u=Math.sqrt(n*n-o*o);i.moveTo(e,t-(u-s)),i.lineTo(e+o,t+s),i.lineTo(e-o,t+s),i.lineTo(e,t-(u-s)),i.closePath()},triangleDown:function(i,e,t,r){i.beginPath(),t-=.275*(r*=1.15);var n=2*r,o=n/2,s=Math.sqrt(3)/6*n,u=Math.sqrt(n*n-o*o);i.moveTo(e,t+(u-s)),i.lineTo(e+o,t-s),i.lineTo(e-o,t-s),i.lineTo(e,t+(u-s)),i.closePath()}},Iv={exports:{}};(function(i){function e(t){if(t)return function(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}(t)}i.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this},e.prototype.once=function(t,r){function n(){this.off(t,n),r.apply(this,arguments)}return n.fn=r,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s=0;s<o.length;s++)if((n=o[s])===r||n.fn===r){o.splice(s,1);break}return o.length===0&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),n=this._callbacks["$"+t],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(n){o=0;for(var s=(n=n.slice(0)).length;o<s;++o)n[o].apply(this,r)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}})(Iv);var $v=K(Iv.exports),Us={};Us[ce("toStringTag")]="z";var Vs,oo,qs,vh=String(Us)==="[object z]",Pv=vh,m1=et,Gs=qr,b1=ce("toStringTag"),Cv=Object,w1=Gs(function(){return arguments}())==="Arguments",fi=Pv?Gs:function(i){var e,t,r;return i===void 0?"Undefined":i===null?"Null":typeof(t=function(n,o){try{return n[o]}catch{}}(e=Cv(i),b1))=="string"?t:w1?Gs(e):(r=Gs(e))==="Object"&&m1(e.callee)?"Arguments":r},ph=fi,_1=String,Tr=function(i){if(ph(i)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return _1(i)},an=ke,Dv=ro,Ks=Tr,Mv=Gr,k1=an("".charAt),Av=an("".charCodeAt),E1=an("".slice),Nv=function(i){return function(e,t){var r,n,o=Ks(Mv(e)),s=Dv(t),u=o.length;return s<0||s>=u?i?"":void 0:(r=Av(o,s))<55296||r>56319||s+1===u||(n=Av(o,s+1))<56320||n>57343?i?k1(o,s):r:i?E1(o,s,s+2):n-56320+(r-55296<<10)+65536}},Rv={codeAt:Nv(!1),charAt:Nv(!0)},O1=et,Fv=he.WeakMap,ha=O1(Fv)&&/native code/.test(String(Fv)),S1=Xn,Bv=Yn("keys"),Ys=function(i){return Bv[i]||(Bv[i]=S1(i))},x1=ha,ao=he,T1=Pe,I1=eo,gh=ot,yh=na,$1=Ys,P1=aa,mh="Object already initialized",Xs=ao.TypeError,C1=ao.WeakMap;if(x1||yh.state){var Ir=yh.state||(yh.state=new C1);Ir.get=Ir.get,Ir.has=Ir.has,Ir.set=Ir.set,Vs=function(i,e){if(Ir.has(i))throw new Xs(mh);return e.facade=i,Ir.set(i,e),e},oo=function(i){return Ir.get(i)||{}},qs=function(i){return Ir.has(i)}}else{var so=$1("state");P1[so]=!0,Vs=function(i,e){if(gh(i,so))throw new Xs(mh);return e.facade=i,I1(i,so,e),e},oo=function(i){return gh(i,so)?i[so]:{}},qs=function(i){return gh(i,so)}}var $r={set:Vs,get:oo,has:qs,enforce:function(i){return qs(i)?oo(i):Vs(i,{})},getterFor:function(i){return function(e){var t;if(!T1(e)||(t=oo(e)).type!==i)throw new Xs("Incompatible receiver, "+i+" required");return t}}},Qs=it,D1=ot,jv=Function.prototype,M1=Qs&&Object.getOwnPropertyDescriptor,bh=D1(jv,"name"),A1={EXISTS:bh,PROPER:bh&&function(){}.name==="something",CONFIGURABLE:bh&&(!Qs||Qs&&M1(jv,"name").configurable)},Pr={},Js=it,N1=sv,R1=Wt,F1=Ut,Zs=rr,B1=Ls;Pr.f=Js&&!N1?Object.defineProperties:function(i,e){F1(i);for(var t,r=Zs(e),n=B1(e),o=n.length,s=0;o>s;)R1.f(i,t=n[s++],r[t]);return i};var el,j1=Mt("document","documentElement"),zv=Ut,z1=Pr,lo=hh,L1=aa,wh=j1,H1=tv,_h="prototype",kh="script",Eh=Ys("IE_PROTO"),tl=function(){},rl=function(i){return"<"+kh+">"+i+"</"+kh+">"},Lv=function(i){i.write(rl("")),i.close();var e=i.parentWindow.Object;return i=null,e},il=function(){try{el=new ActiveXObject("htmlfile")}catch{}var i,e,t;il=typeof document<"u"?document.domain&&el?Lv(el):(e=H1("iframe"),t="java"+kh+":",e.style.display="none",wh.appendChild(e),e.src=String(t),(i=e.contentWindow.document).open(),i.write(rl("document.F=Object")),i.close(),i.F):Lv(el);for(var r=lo.length;r--;)delete il[_h][lo[r]];return il()};L1[Eh]=!0;var Cr,Hv,Wv,uo=Object.create||function(i,e){var t;return i!==null?(tl[_h]=zv(i),t=new tl,tl[_h]=null,t[Eh]=i):t=il(),e===void 0?t:z1.f(t,e)},Uv=!Y(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype}),W1=ot,U1=et,V1=At,Vv=Uv,qv=Ys("IE_PROTO"),Oh=Object,Gv=Oh.prototype,sn=Vv?Oh.getPrototypeOf:function(i){var e=V1(i);if(W1(e,qv))return e[qv];var t=e.constructor;return U1(t)&&e instanceof t?t.prototype:e instanceof Oh?Gv:null},q1=eo,ca=function(i,e,t,r){return r&&r.enumerable?i[e]=t:q1(i,e,t),i},Kv=Y,G1=et,K1=Pe,Y1=uo,Yv=sn,Xv=ca,nl=ce("iterator"),ol=!1;[].keys&&("next"in(Wv=[].keys())?(Hv=Yv(Yv(Wv)))!==Object.prototype&&(Cr=Hv):ol=!0);var Sh=!K1(Cr)||Kv(function(){var i={};return Cr[nl].call(i)!==i});G1((Cr=Sh?{}:Y1(Cr))[nl])||Xv(Cr,nl,function(){return this});var xh={IteratorPrototype:Cr,BUGGY_SAFARI_ITERATORS:ol},Th=fi,Qv=vh?{}.toString:function(){return"[object "+Th(this)+"]"},Jv=vh,X1=Wt.f,al=eo,sl=ot,ln=Qv,ho=ce("toStringTag"),co=function(i,e,t,r){if(i){var n=t?i:i.prototype;sl(n,ho)||X1(n,ho,{configurable:!0,value:e}),r&&!Jv&&al(n,"toString",ln)}},fo={},Q1=xh.IteratorPrototype,Ih=uo,Zv=Gn,J1=co,Z1=fo,e_=function(){return this},t_=ke,ep=tn,r_=et,i_=String,tp=TypeError,n_=function(i,e,t){try{return t_(ep(Object.getOwnPropertyDescriptor(i,e)[t]))}catch{}},rp=Ut,o_=function(i){if(typeof i=="object"||r_(i))return i;throw new tp("Can't set "+i_(i)+" as a prototype")},da=Object.setPrototypeOf||("__proto__"in{}?function(){var i,e=!1,t={};try{(i=n_(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch{}return function(r,n){return rp(r),o_(n),e?i(r,n):r.__proto__=n,r}}():void 0),a_=te,vo=Lt,s_=A1,$h=function(i,e,t,r){var n=e+" Iterator";return i.prototype=Ih(Q1,{next:Zv(+!r,t)}),J1(i,n,!1,!0),Z1[n]=e_,i},fa=sn,l_=co,Ph=ca,ip=fo,u_=xh,h_=s_.PROPER,Re=u_.BUGGY_SAFARI_ITERATORS,Ch=ce("iterator"),np="keys",ll="values",op="entries",ap=function(){return this},Dh=function(i,e,t,r,n,o,s){$h(t,e,r);var u,h,v,g=function(D){if(D===n&&S)return S;if(!Re&&D&&D in k)return k[D];switch(D){case np:case ll:case op:return function(){return new t(this,D)}}return function(){return new t(this)}},y=e+" Iterator",w=!1,k=i.prototype,E=k[Ch]||k["@@iterator"]||n&&k[n],S=!Re&&E||g(n),$=e==="Array"&&k.entries||E;if($&&(u=fa($.call(new i)))!==Object.prototype&&u.next&&(l_(u,y,!0,!0),ip[y]=ap),h_&&n===ll&&E&&E.name!==ll&&(w=!0,S=function(){return vo(E,this)}),n)if(h={values:g(ll),keys:o?S:g(np),entries:g(op)},s)for(v in h)(Re||w||!(v in k))&&Ph(k,v,h[v]);else a_({target:e,proto:!0,forced:Re||w},h);return s&&k[Ch]!==S&&Ph(k,Ch,S,{name:n}),ip[e]=S,h},Mh=function(i,e){return{value:i,done:e}},c_=Rv.charAt,d_=Tr,sp=$r,f_=Dh,lp=Mh,up="String Iterator",v_=sp.set,hp=sp.getterFor(up);f_(String,"String",function(i){v_(this,{type:up,string:d_(i),index:0})},function(){var i,e=hp(this),t=e.string,r=e.index;return r>=t.length?lp(void 0,!0):(i=c_(t,r),e.index+=i.length,lp(i,!1))});var un=Lt,cp=Ut,p_=Qu,Ah=function(i,e,t){var r,n;cp(i);try{if(!(r=p_(i,"return"))){if(e==="throw")throw t;return t}r=un(r,i)}catch(o){n=!0,r=o}if(e==="throw")throw t;if(n)throw r;return cp(r),t},g_=Ut,y_=Ah,dp=fo,m_=ce("iterator"),b_=Array.prototype,ul=function(i){return i!==void 0&&(dp.Array===i||b_[m_]===i)},Nh=et,Rh=na,w_=ke(Function.toString);Nh(Rh.inspectSource)||(Rh.inspectSource=function(i){return w_(i)});var fp=Rh.inspectSource,Fh=ke,__=Y,va=et,pa=fi,hl=fp,vp=function(){},k_=[],dr=Mt("Reflect","construct"),vi=/^\s*(?:class|function)\b/,po=Fh(vi.exec),E_=!vi.test(vp),ga=function(i){if(!va(i))return!1;try{return dr(vp,k_,i),!0}catch{return!1}},pp=function(i){if(!va(i))return!1;switch(pa(i)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return E_||!!po(vi,hl(i))}catch{return!0}};pp.sham=!0;var cl=!dr||__(function(){var i;return ga(ga.call)||!ga(Object)||!ga(function(){i=!0})||i})?pp:ga,O_=As,S_=Wt,gp=Gn,Gt=function(i,e,t){var r=O_(e);r in i?S_.f(i,r,gp(0,t)):i[r]=t},go=fi,ya=Qu,Bh=si,jh=fo,x_=ce("iterator"),Yr=function(i){if(!Bh(i))return ya(i,x_)||ya(i,"@@iterator")||jh[go(i)]},yo=Lt,T_=tn,st=Ut,I_=en,zh=Yr,dl=TypeError,fl=function(i,e){var t=arguments.length<2?zh(i):e;if(T_(t))return st(yo(t,i));throw new dl(I_(i)+" is not iterable")},$_=oa,Lh=Lt,ma=At,yp=function(i,e,t,r){try{return r?e(g_(t)[0],t[1]):e(t)}catch(n){y_(i,"throw",n)}},P_=ul,mp=cl,C_=Ye,Hh=Gt,bp=fl,D_=Yr,Wh=Array,Uh=ce("iterator"),wp=!1;try{var Vh=0,_p={next:function(){return{done:!!Vh++}},return:function(){wp=!0}};_p[Uh]=function(){return this},Array.from(_p,function(){throw 2})}catch{}var kp=function(i){var e=ma(i),t=mp(this),r=arguments.length,n=r>1?arguments[1]:void 0,o=n!==void 0;o&&(n=$_(n,r>2?arguments[2]:void 0));var s,u,h,v,g,y,w=D_(e),k=0;if(!w||this===Wh&&P_(w))for(s=C_(e),u=t?new this(s):Wh(s);s>k;k++)y=o?n(e[k],k):e[k],Hh(u,k,y);else for(g=(v=bp(e,w)).next,u=t?new this:[];!(h=Lh(g,v)).done;k++)y=o?yp(v,n,[h.value,k],!0):h.value,Hh(u,k,y);return u.length=k,u},Ep=function(i,e){try{if(!e&&!wp)return!1}catch{return!1}var t=!1;try{var r={};r[Uh]=function(){return{next:function(){return{done:t=!0}}}},i(r)}catch{}return t};te({target:"Array",stat:!0,forced:!Ep(function(i){Array.from(i)})},{from:kp});var Op=be.Array.from,hn=K(Op),M_=rr,Sp=fo,xp=$r;Wt.f;var Tp=Dh,cn=Mh,_t="Array Iterator",vl=xp.set,ba=xp.getterFor(_t);Tp(Array,"Array",function(i,e){vl(this,{type:_t,target:M_(i),index:0,kind:e})},function(){var i=ba(this),e=i.target,t=i.kind,r=i.index++;if(!e||r>=e.length)return i.target=void 0,cn(void 0,!0);switch(t){case"keys":return cn(r,!1);case"values":return cn(e[r],!1)}return cn([r,e[r]],!1)},"values"),Sp.Arguments=Sp.Array;var A_=Yr,Ip={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},fr=he,dn=fi,wa=eo,$p=fo,pl=ce("toStringTag");for(var gl in Ip){var pi=fr[gl],yl=pi&&pi.prototype;yl&&dn(yl)!==pl&&wa(yl,pl,gl),$p[gl]=$p.Array}var Pp=A_,qh=K(Pp),kt=K(Pp);function z(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var Cp={exports:{}},Gh=te,Kh=it,ml=Wt.f;Gh({target:"Object",stat:!0,forced:Object.defineProperty!==ml,sham:!Kh},{defineProperty:ml});var _a=be.Object,Yh=Cp.exports=function(i,e,t){return _a.defineProperty(i,e,t)};_a.defineProperty.sham&&(Yh.sham=!0);var Dp=Cp.exports,ka=K(Dp),Mp=qr,gi=Array.isArray||function(i){return Mp(i)==="Array"},Ap=TypeError,Xh=function(i){if(i>9007199254740991)throw Ap("Maximum allowed index exceeded");return i},Qh=gi,N_=cl,R_=Pe,F_=ce("species"),Np=Array,Rp=function(i){var e;return Qh(i)&&(e=i.constructor,(N_(e)&&(e===Np||Qh(e.prototype))||R_(e)&&(e=e[F_])===null)&&(e=void 0)),e===void 0?Np:e},Jh=function(i,e){return new(Rp(i))(e===0?0:e)},Zh=Y,B_=li,j_=ce("species"),Ea=function(i){return B_>=51||!Zh(function(){var e=[];return(e.constructor={})[j_]=function(){return{foo:1}},e[i](Boolean).foo!==1})},z_=te,L_=Y,H_=gi,W_=Pe,Fp=At,U_=Ye,mo=Xh,Bp=Gt,jp=Jh,V_=Ea,zp=li,Lp=ce("isConcatSpreadable"),Hp=zp>=51||!L_(function(){var i=[];return i[Lp]=!1,i.concat()[0]!==i}),q_=function(i){if(!W_(i))return!1;var e=i[Lp];return e!==void 0?!!e:H_(i)};z_({target:"Array",proto:!0,arity:1,forced:!Hp||!V_("concat")},{concat:function(i){var e,t,r,n,o,s=Fp(this),u=jp(s,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(q_(o=e===-1?s:arguments[e]))for(n=U_(o),mo(h+n),t=0;t<n;t++,h++)t in o&&Bp(u,h,o[t]);else mo(h+1),Bp(u,h++,o);return u.length=h,u}});var Oa={},Wp=ne,Up=hh.concat("length","prototype");Oa.f=Object.getOwnPropertyNames||function(i){return Wp(i,Up)};var bl={},bo=nn,Vp=Ye,qp=Gt,Gp=Array,Kp=Math.max,Yp=function(i,e,t){for(var r=Vp(i),n=bo(e,r),o=bo(t===void 0?r:t,r),s=Gp(Kp(o-n,0)),u=0;n<o;n++,u++)qp(s,u,i[n]);return s.length=u,s},G_=qr,K_=rr,Xr=Oa.f,wl=Yp,ec=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];bl.f=function(i){return ec&&G_(i)==="Window"?function(e){try{return Xr(e)}catch{return wl(ec)}}(i):Xr(K_(i))};var Y_=Wt,tc=function(i,e,t){return Y_.f(i,e,t)},Sa={},X_=ce;Sa.f=X_;var rc=be,Xp=ot,Qp=Sa,Jp=Wt.f,We=function(i){var e=rc.Symbol||(rc.Symbol={});Xp(e,i)||Jp(e,i,{value:Qp.f(i)})},Q_=Lt,J_=Mt,Z_=ce,ek=ca,ic=function(){var i=J_("Symbol"),e=i&&i.prototype,t=e&&e.valueOf,r=Z_("toPrimitive");e&&!e[r]&&ek(e,r,function(n){return Q_(t,this)},{arity:1})},tk=oa,rk=Ts,ik=At,nk=Ye,ok=Jh,Zp=ke([].push),yi=function(i){var e=i===1,t=i===2,r=i===3,n=i===4,o=i===6,s=i===7,u=i===5||o;return function(h,v,g,y){for(var w,k,E=ik(h),S=rk(E),$=tk(v,g),D=nk(S),A=0,B=y||ok,H=e?B(h,D):t||s?B(h,0):void 0;D>A;A++)if((u||A in S)&&(k=$(w=S[A],A,E),i))if(e)H[A]=k;else if(k)switch(i){case 3:return!0;case 5:return w;case 6:return A;case 2:Zp(H,w)}else switch(i){case 4:return!1;case 7:Zp(H,w)}return o?-1:r||n?n:H}},Qr={forEach:yi(0),map:yi(1),filter:yi(2),some:yi(3),every:yi(4),find:yi(5),findIndex:yi(6),filterReject:yi(7)},_l=te,kl=he,nc=Lt,ak=ke,wo=it,_o=Zi,sk=Y,lt=ot,lk=Be,oc=Ut,El=rr,ac=As,uk=Tr,sc=Gn,Dr=uo,Ol=Ls,hk=Oa,lc=bl,ck=no,Sl=Qi,eg=Wt,dk=Pr,tg=qe,rg=ca,ig=tc,uc=Yn,ng=aa,og=Xn,fk=ce,vk=Sa,ag=We,hc=ic,pk=co,xa=$r,xl=Qr.forEach,Nt=Ys("hidden"),Tl="Symbol",Ta="prototype",sg=xa.set,lg=xa.getterFor(Tl),vr=Object[Ta],Jr=kl.Symbol,Ia=Jr&&Jr[Ta],Zr=kl.RangeError,cc=kl.TypeError,$a=kl.QObject,ug=Sl.f,mi=eg.f,hg=lc.f,gk=tg.f,cg=ak([].push),ei=uc("symbols"),Pa=uc("op-symbols"),yk=uc("wks"),dc=!$a||!$a[Ta]||!$a[Ta].findChild,dg=function(i,e,t){var r=ug(vr,e);r&&delete vr[e],mi(i,e,t),r&&i!==vr&&mi(vr,e,r)},fc=wo&&sk(function(){return Dr(mi({},"a",{get:function(){return mi(this,"a",{value:7}).a}})).a!==7})?dg:mi,vc=function(i,e){var t=ei[i]=Dr(Ia);return sg(t,{type:Tl,tag:i,description:e}),wo||(t.description=e),t},Il=function(i,e,t){i===vr&&Il(Pa,e,t),oc(i);var r=ac(e);return oc(t),lt(ei,r)?(t.enumerable?(lt(i,Nt)&&i[Nt][r]&&(i[Nt][r]=!1),t=Dr(t,{enumerable:sc(0,!1)})):(lt(i,Nt)||mi(i,Nt,sc(1,{})),i[Nt][r]=!0),fc(i,r,t)):mi(i,r,t)},pc=function(i,e){oc(i);var t=El(e),r=Ol(t).concat(gg(t));return xl(r,function(n){wo&&!nc(fg,t,n)||Il(i,n,t[n])}),i},fg=function(i){var e=ac(i),t=nc(gk,this,e);return!(this===vr&&lt(ei,e)&&!lt(Pa,e))&&(!(t||!lt(this,e)||!lt(ei,e)||lt(this,Nt)&&this[Nt][e])||t)},vg=function(i,e){var t=El(i),r=ac(e);if(t!==vr||!lt(ei,r)||lt(Pa,r)){var n=ug(t,r);return!n||!lt(ei,r)||lt(t,Nt)&&t[Nt][r]||(n.enumerable=!0),n}},pg=function(i){var e=hg(El(i)),t=[];return xl(e,function(r){lt(ei,r)||lt(ng,r)||cg(t,r)}),t},gg=function(i){var e=i===vr,t=hg(e?Pa:El(i)),r=[];return xl(t,function(n){!lt(ei,n)||e&&!lt(vr,n)||cg(r,ei[n])}),r};_o||(Jr=function(){if(lk(Ia,this))throw new cc("Symbol is not a constructor");var i=arguments.length&&arguments[0]!==void 0?uk(arguments[0]):void 0,e=og(i),t=function(r){this===vr&&nc(t,Pa,r),lt(this,Nt)&&lt(this[Nt],e)&&(this[Nt][e]=!1);var n=sc(1,r);try{fc(this,e,n)}catch(o){if(!(o instanceof Zr))throw o;dg(this,e,n)}};return wo&&dc&&fc(vr,e,{configurable:!0,set:t}),vc(e,i)},rg(Ia=Jr[Ta],"toString",function(){return lg(this).tag}),rg(Jr,"withoutSetter",function(i){return vc(og(i),i)}),tg.f=fg,eg.f=Il,dk.f=pc,Sl.f=vg,hk.f=lc.f=pg,ck.f=gg,vk.f=function(i){return vc(fk(i),i)},wo&&ig(Ia,"description",{configurable:!0,get:function(){return lg(this).description}})),_l({global:!0,constructor:!0,wrap:!0,forced:!_o,sham:!_o},{Symbol:Jr}),xl(Ol(yk),function(i){ag(i)}),_l({target:Tl,stat:!0,forced:!_o},{useSetter:function(){dc=!0},useSimple:function(){dc=!1}}),_l({target:"Object",stat:!0,forced:!_o,sham:!wo},{create:function(i,e){return e===void 0?Dr(i):pc(Dr(i),e)},defineProperty:Il,defineProperties:pc,getOwnPropertyDescriptor:vg}),_l({target:"Object",stat:!0,forced:!_o},{getOwnPropertyNames:pg}),hc(),pk(Jr,Tl),ng[Nt]=!0;var yg=Zi&&!!Symbol.for&&!!Symbol.keyFor,mg=te,mk=Mt,bk=ot,bg=Tr,wg=Yn,wk=yg,gc=wg("string-to-symbol-registry"),_g=wg("symbol-to-string-registry");mg({target:"Symbol",stat:!0,forced:!wk},{for:function(i){var e=bg(i);if(bk(gc,e))return gc[e];var t=mk("Symbol")(e);return gc[e]=t,_g[t]=e,t}});var _k=te,kg=ot,Eg=Sr,kk=en,$l=yg,Pl=Yn("symbol-to-string-registry");_k({target:"Symbol",stat:!0,forced:!$l},{keyFor:function(i){if(!Eg(i))throw new TypeError(kk(i)+" is not a symbol");if(kg(Pl,i))return Pl[i]}});var yc=gi,Cl=et,mc=qr,Ek=Tr,Dl=ke([].push),bc=te,Og=Mt,wc=Vn,Sg=Lt,Ca=ke,Da=Y,_c=et,xg=Sr,Tg=Hs,Ok=function(i){if(Cl(i))return i;if(yc(i)){for(var e=i.length,t=[],r=0;r<e;r++){var n=i[r];typeof n=="string"?Dl(t,n):typeof n!="number"&&mc(n)!=="Number"&&mc(n)!=="String"||Dl(t,Ek(n))}var o=t.length,s=!0;return function(u,h){if(s)return s=!1,h;if(yc(this))return h;for(var v=0;v<o;v++)if(t[v]===u)return h}}},Sk=Zi,xk=String,bi=Og("JSON","stringify"),Ml=Ca(/./.exec),kc=Ca("".charAt),Tk=Ca("".charCodeAt),Ig=Ca("".replace),Ec=Ca(1 .toString),$g=/[\uD800-\uDFFF]/g,Al=/^[\uD800-\uDBFF]$/,Pg=/^[\uDC00-\uDFFF]$/,Oc=!Sk||Da(function(){var i=Og("Symbol")("stringify detection");return bi([i])!=="[null]"||bi({a:i})!=="{}"||bi(Object(i))!=="{}"}),Cg=Da(function(){return bi("\uDF06\uD834")!=='"\\udf06\\ud834"'||bi("\uDEAD")!=='"\\udead"'}),Ik=function(i,e){var t=Tg(arguments),r=Ok(e);if(_c(r)||i!==void 0&&!xg(i))return t[1]=function(n,o){if(_c(r)&&(o=Sg(r,this,xk(n),o)),!xg(o))return o},wc(bi,null,t)},$k=function(i,e,t){var r=kc(t,e-1),n=kc(t,e+1);return Ml(Al,i)&&!Ml(Pg,n)||Ml(Pg,i)&&!Ml(Al,r)?"\\u"+Ec(Tk(i,0),16):i};bi&&bc({target:"JSON",stat:!0,arity:3,forced:Oc||Cg},{stringify:function(i,e,t){var r=Tg(arguments),n=wc(Oc?Ik:bi,null,r);return Cg&&typeof n=="string"?Ig(n,$g,$k):n}});var Dg=no,Pk=At;te({target:"Object",stat:!0,forced:!Zi||Y(function(){Dg.f(1)})},{getOwnPropertySymbols:function(i){var e=Dg.f;return e?e(Pk(i)):[]}}),We("asyncIterator"),We("hasInstance"),We("isConcatSpreadable"),We("iterator"),We("match"),We("matchAll"),We("replace"),We("search"),We("species"),We("split");var Ck=ic;We("toPrimitive"),Ck();var Dk=Mt,Mg=co;We("toStringTag"),Mg(Dk("Symbol"),"Symbol"),We("unscopables"),co(he.JSON,"JSON",!0);var Ag=be.Symbol,Mk=ce,Ak=Wt.f,Ng=Mk("metadata"),Sc=Function.prototype;Sc[Ng]===void 0&&Ak(Sc,Ng,{value:null}),We("asyncDispose"),We("dispose"),We("metadata");var Nk=Ag,Rk=ke,xc=Mt("Symbol"),Nl=xc.keyFor,Rg=Rk(xc.prototype.valueOf),Tc=xc.isRegisteredSymbol||function(i){try{return Nl(Rg(i))!==void 0}catch{return!1}};te({target:"Symbol",stat:!0},{isRegisteredSymbol:Tc});for(var Fk=Yn,Ic=Mt,$c=ke,Fg=Sr,Bk=ce,Ma=Ic("Symbol"),Bg=Ma.isWellKnownSymbol,jg=Ic("Object","getOwnPropertyNames"),jk=$c(Ma.prototype.valueOf),zg=Fk("wks"),Pc=0,Lg=jg(Ma),zk=Lg.length;Pc<zk;Pc++)try{var Hg=Lg[Pc];Fg(Ma[Hg])&&Bk(Hg)}catch{}var Wg=function(i){if(Bg&&Bg(i))return!0;try{for(var e=jk(i),t=0,r=jg(zg),n=r.length;t<n;t++)if(zg[r[t]]==e)return!0}catch{}return!1};te({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Wg}),We("matcher"),We("observable"),te({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Tc}),te({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Wg}),We("metadataKey"),We("patternMatch"),We("replaceAll");var wi=K(Nk),ko=K(Sa.f("iterator"));function Ee(i){return Ee=typeof wi=="function"&&typeof ko=="symbol"?function(e){return typeof e}:function(e){return e&&typeof wi=="function"&&e.constructor===wi&&e!==wi.prototype?"symbol":typeof e},Ee(i)}var Lk=K(Sa.f("toPrimitive"));function Ug(i){var e=function(t,r){if(Ee(t)!=="object"||t===null)return t;var n=t[Lk];if(n!==void 0){var o=n.call(t,r||"default");if(Ee(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(i,"string");return Ee(e)==="symbol"?e:String(e)}function Vg(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),ka(i,Ug(r.key),r)}}function L(i,e,t){return e&&Vg(i.prototype,e),t&&Vg(i,t),ka(i,"prototype",{writable:!1}),i}te({target:"Array",stat:!0},{isArray:gi});var Cc=be.Array.isArray,qg=K(Cc),Gg=it,Hk=gi,Wk=TypeError,Uk=Object.getOwnPropertyDescriptor,Dc=Gg&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(i){return i instanceof TypeError}}()?function(i,e){if(Hk(i)&&!Uk(i,"length").writable)throw new Wk("Cannot set read only .length");return i.length=e}:function(i,e){return i.length=e},Vk=At,Kg=Ye,Yg=Dc,qk=Xh;te({target:"Array",proto:!0,arity:1,forced:Y(function(){return[].push.call({length:4294967296},1)!==4294967297})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(i){return i instanceof TypeError}}()},{push:function(i){var e=Vk(this),t=Kg(e),r=arguments.length;qk(t+r);for(var n=0;n<r;n++)e[t]=arguments[n],t++;return Yg(e,t),t}});var Gk=je("Array").push,Kk=Be,Yk=Gk,Mc=Array.prototype,Xg=function(i){var e=i.push;return i===Mc||Kk(Mc,i)&&e===Mc.push?Yk:e},Xk=K(Xg),Qk=te,Qg=gi,Jk=cl,Zk=Pe,Ac=nn,eE=Ye,ft=rr,tE=Gt,rE=ce,iE=Hs,nE=Ea("slice"),oE=rE("species"),Nc=Array,aE=Math.max;Qk({target:"Array",proto:!0,forced:!nE},{slice:function(i,e){var t,r,n,o=ft(this),s=eE(o),u=Ac(i,s),h=Ac(e===void 0?s:e,s);if(Qg(o)&&(t=o.constructor,(Jk(t)&&(t===Nc||Qg(t.prototype))||Zk(t)&&(t=t[oE])===null)&&(t=void 0),t===Nc||t===void 0))return iE(o,u,h);for(r=new(t===void 0?Nc:t)(aE(h-u,0)),n=0;u<h;u++,n++)u in o&&tE(r,n,o[u]);return r.length=n,r}});var sE=je("Array").slice,lE=Be,uE=sE,Rc=Array.prototype,hE=function(i){var e=i.slice;return i===Rc||lE(Rc,i)&&e===Rc.slice?uE:e},Fc=hE,Jg=K(Fc),_i=K(Op);function me(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function Bc(i,e){var t;if(i){if(typeof i=="string")return me(i,e);var r=Jg(t=Object.prototype.toString.call(i)).call(t,8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?_i(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(i,e):void 0}}function Ue(i,e){return function(t){if(qg(t))return t}(i)||function(t,r){var n=t==null?null:wi!==void 0&&qh(t)||t["@@iterator"];if(n!=null){var o,s,u,h,v=[],g=!0,y=!1;try{if(u=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;g=!1}else for(;!(g=(o=u.call(n)).done)&&(Xk(v).call(v,o.value),v.length!==r);g=!0);}catch(w){y=!0,s=w}finally{try{if(!g&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(y)throw s}}return v}}(i,e)||Bc(i,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mr(i){return function(e){if(qg(e))return me(e)}(i)||function(e){if(wi!==void 0&&qh(e)!=null||e["@@iterator"]!=null)return _i(e)}(i)||Bc(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var ki=K(Ag),Zg=je("Array").concat,cE=Be,ey=Zg,jc=Array.prototype,dE=function(i){var e=i.concat;return i===jc||cE(jc,i)&&e===jc.concat?ey:e},Aa=K(dE),vt=K(Fc),ty=Mt,fE=Oa,ry=no,vE=Ut,Et=ke([].concat),pE=ty("Reflect","ownKeys")||function(i){var e=fE.f(vE(i)),t=ry.f;return t?Et(e,t(i)):e},Se=K(Cc),gE=Qr.map;te({target:"Array",proto:!0,forced:!Ea("map")},{map:function(i){return gE(this,i,arguments.length>1?arguments[1]:void 0)}});var yE=je("Array").map,zc=Be,mE=yE,Lc=Array.prototype,iy=function(i){var e=i.map;return i===Lc||zc(Lc,i)&&e===Lc.map?mE:e},Eo=K(iy),fn=At,ny=Ls;te({target:"Object",stat:!0,forced:Y(function(){ny(1)})},{keys:function(i){return ny(fn(i))}});var Ve=K(be.Object.keys),bE=te,oy=Date,wE=ke(oy.prototype.getTime);bE({target:"Date",stat:!0},{now:function(){return wE(new oy)}});var Na=K(be.Date.now),_E=Y,Oo=function(i,e){var t=[][i];return!!t&&_E(function(){t.call(null,e||function(){return 1},1)})},Rl=Qr.forEach,ay=Oo("forEach")?[].forEach:function(i){return Rl(this,i,arguments.length>1?arguments[1]:void 0)};te({target:"Array",proto:!0,forced:[].forEach!==ay},{forEach:ay});var Ra=je("Array").forEach,kE=fi,EE=ot,OE=Be,sy=Ra,Hc=Array.prototype,SE={DOMTokenList:!0,NodeList:!0},xE=function(i){var e=i.forEach;return i===Hc||OE(Hc,i)&&e===Hc.forEach||EE(SE,kE(i))?sy:e},Ce=K(xE),TE=te,IE=gi,$E=ke([].reverse),Fl=[1,2];TE({target:"Array",proto:!0,forced:String(Fl)===String(Fl.reverse())},{reverse:function(){return IE(this)&&(this.length=this.length),$E(this)}});var PE=je("Array").reverse,CE=Be,DE=PE,Wc=Array.prototype,ly=function(i){var e=i.reverse;return i===Wc||CE(Wc,i)&&e===Wc.reverse?DE:e},vn=K(ly),uy=en,ME=TypeError,hy=function(i,e){if(!delete i[e])throw new ME("Cannot delete property "+uy(e)+" of "+uy(i))},AE=te,NE=At,RE=nn,FE=ro,Uc=Ye,BE=Dc,jE=Xh,zE=Jh,LE=Gt,Qe=hy,HE=Ea("splice"),WE=Math.max,UE=Math.min;AE({target:"Array",proto:!0,forced:!HE},{splice:function(i,e){var t,r,n,o,s,u,h=NE(this),v=Uc(h),g=RE(i,v),y=arguments.length;for(y===0?t=r=0:y===1?(t=0,r=v-g):(t=y-2,r=UE(WE(FE(e),0),v-g)),jE(v+t-r),n=zE(h,r),o=0;o<r;o++)(s=g+o)in h&&LE(n,o,h[s]);if(n.length=r,t<r){for(o=g;o<v-r;o++)u=o+t,(s=o+r)in h?h[u]=h[s]:Qe(h,u);for(o=v;o>v-r+t;o--)Qe(h,o-1)}else if(t>r)for(o=v-r;o>g;o--)u=o+t-1,(s=o+r-1)in h?h[u]=h[s]:Qe(h,u);for(o=0;o<t;o++)h[o+g]=arguments[o+2];return BE(h,v-r+t),n}});var VE=je("Array").splice,qE=Be,GE=VE,Vc=Array.prototype,KE=function(i){var e=i.splice;return i===Vc||qE(Vc,i)&&e===Vc.splice?GE:e},pr=K(KE),YE=uh.includes;te({target:"Array",proto:!0,forced:Y(function(){return!Array(1).includes()})},{includes:function(i){return YE(this,i,arguments.length>1?arguments[1]:void 0)}});var XE=je("Array").includes,QE=Pe,JE=qr,Kt=ce("match"),ZE=function(i){var e;return QE(i)&&((e=i[Kt])!==void 0?!!e:JE(i)==="RegExp")},eO=TypeError,tO=ce("match"),rO=te,cy=function(i){if(ZE(i))throw new eO("The method doesn't accept regular expressions");return i},iO=Gr,dy=Tr,nO=function(i){var e=/./;try{"/./"[i](e)}catch{try{return e[tO]=!1,"/./"[i](e)}catch{}}return!1},oO=ke("".indexOf);rO({target:"String",proto:!0,forced:!nO("includes")},{includes:function(i){return!!~oO(dy(iO(this)),dy(cy(i)),arguments.length>1?arguments[1]:void 0)}});var aO=je("String").includes,fy=Be,sO=XE,lO=aO,qc=Array.prototype,Gc=String.prototype,uO=function(i){var e=i.includes;return i===qc||fy(qc,i)&&e===qc.includes?sO:typeof i=="string"||i===Gc||fy(Gc,i)&&e===Gc.includes?lO:e},Ar=K(uO),hO=At,vy=sn,cO=Uv;te({target:"Object",stat:!0,forced:Y(function(){vy(1)}),sham:!cO},{getPrototypeOf:function(i){return vy(hO(i))}});var py=be.Object.getPrototypeOf,gy=K(py),dO=Qr.filter;te({target:"Array",proto:!0,forced:!Ea("filter")},{filter:function(i){return dO(this,i,arguments.length>1?arguments[1]:void 0)}});var fO=je("Array").filter,vO=Be,pO=fO,Bl=Array.prototype,gO=function(i){var e=i.filter;return i===Bl||vO(Bl,i)&&e===Bl.filter?pO:e},Ot=K(gO),Kc=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,yO=Gr,mO=Tr,Yc=Kc,yy=ke("".replace),bO=RegExp("^["+Yc+"]+"),wO=RegExp("(^|[^"+Yc+"])["+Yc+"]+$"),jl=function(i){return function(e){var t=mO(yO(e));return 1&i&&(t=yy(t,bO,"")),2&i&&(t=yy(t,wO,"$1")),t}},my={start:jl(1),end:jl(2),trim:jl(3)},Xc=he,_O=Y,kO=ke,EO=Tr,OO=my.trim,Fa=Kc,Ba=Xc.parseInt,by=Xc.Symbol,wy=by&&by.iterator,_y=/^[+-]?0x/i,SO=kO(_y.exec),ky=Ba(Fa+"08")!==8||Ba(Fa+"0x16")!==22||wy&&!_O(function(){Ba(Object(wy))})?function(i,e){var t=OO(EO(i));return Ba(t,e>>>0||(SO(_y,t)?16:10))}:Ba;te({global:!0,forced:parseInt!==ky},{parseInt:ky});var Yt=K(be.parseInt),xO=te,TO=uh.indexOf,IO=Oo,Qc=Ss([].indexOf),Ey=!!Qc&&1/Qc([1],1,-0)<0;xO({target:"Array",proto:!0,forced:Ey||!IO("indexOf")},{indexOf:function(i){var e=arguments.length>1?arguments[1]:void 0;return Ey?Qc(this,i,e)||0:TO(this,i,e)}});var $O=je("Array").indexOf,PO=Be,Oy=$O,Jc=Array.prototype,CO=function(i){var e=i.indexOf;return i===Jc||PO(Jc,i)&&e===Jc.indexOf?Oy:e},we=K(CO);te({target:"Object",stat:!0,sham:!it},{create:uo});var DO=be.Object,Sy=function(i,e){return DO.create(i,e)},Ei=K(Sy),zl=be,MO=Vn;zl.JSON||(zl.JSON={stringify:JSON.stringify});var xy=function(i,e,t){return MO(zl.JSON.stringify,null,arguments)},So=K(xy),AO=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",NO=TypeError,Ty=he,RO=Vn,FO=et,BO=AO,jO=ra,Iy=Hs,zO=function(i,e){if(i<e)throw new NO("Not enough arguments");return i},Ll=Ty.Function,LO=/MSIE .\./.test(jO)||BO&&function(){var i=Ty.Bun.version.split(".");return i.length<3||i[0]==="0"&&(i[1]<3||i[1]==="3"&&i[2]==="0")}(),$y=function(i,e){var t=e?2:1;return LO?function(r,n){var o=zO(arguments.length,1)>t,s=FO(r)?r:Ll(r),u=o?Iy(arguments,t):[],h=o?function(){RO(s,this,u)}:s;return e?i(h,n):i(h)}:i},HO=te,Py=he,Cy=$y(Py.setInterval,!0);HO({global:!0,bind:!0,forced:Py.setInterval!==Cy},{setInterval:Cy});var WO=te,Dy=he,My=$y(Dy.setTimeout,!0);WO({global:!0,bind:!0,forced:Dy.setTimeout!==My},{setTimeout:My});var Nr=K(be.setTimeout),UO=At,pn=nn,VO=Ye,qO=function(i){for(var e=UO(this),t=VO(e),r=arguments.length,n=pn(r>1?arguments[1]:void 0,t),o=r>2?arguments[2]:void 0,s=o===void 0?t:pn(o,t);s>n;)e[n++]=i;return e};te({target:"Array",proto:!0},{fill:qO});var Ay,GO=je("Array").fill,KO=Be,Ny=GO,Hl=Array.prototype,YO=function(i){var e=i.fill;return i===Hl||KO(Hl,i)&&e===Hl.fill?Ny:e},ja=K(YO);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */function gr(){return gr=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},gr.apply(this,arguments)}function Xt(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function za(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}Ay=typeof Object.assign!="function"?function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(i),t=1;t<arguments.length;t++){var r=arguments[t];if(r!=null)for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e}:Object.assign;var Oi,gn=Ay,Zc=["","webkit","Moz","MS","ms","o"],XO=typeof document>"u"?{style:{}}:document.createElement("div"),xo=Math.round,yn=Math.abs,ed=Date.now;function Wl(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),o=0;o<Zc.length;){if((r=(t=Zc[o])?t+n:e)in i)return r;o++}}Oi=typeof window>"u"?{}:window;var td=Wl(XO.style,"touchAction"),Ry=td!==void 0,Fy="compute",By="auto",rd="manipulation",mn="none",La="pan-x",bn="pan-y",Ul=function(){if(!Ry)return!1;var i={},e=Oi.CSS&&Oi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=!e||Oi.CSS.supports("touch-action",t)}),i}(),jy="ontouchstart"in Oi,QO=Wl(Oi,"PointerEvent")!==void 0,JO=jy&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ha="touch",id="mouse",ZO=25,St=1,Je=4,Rt=8,Vl=1,To=2,Io=4,Wa=8,$o=16,yr=To|Io,wn=Wa|$o,nd=yr|wn,zy=["x","y"],ql=["clientX","clientY"];function ti(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function Gl(i,e){return typeof i=="function"?i.apply(e&&e[0]||void 0,e):i}function _n(i,e){return i.indexOf(e)>-1}var Ly=function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(t){t===Fy&&(t=this.compute()),Ry&&this.manager.element.style&&Ul[t]&&(this.manager.element.style[td]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return ti(this.manager.recognizers,function(r){Gl(r.options.enable,[r])&&(t=t.concat(r.getTouchAction()))}),function(r){if(_n(r,mn))return mn;var n=_n(r,La),o=_n(r,bn);return n&&o?mn:n||o?n?La:bn:_n(r,rd)?rd:By}(t.join(" "))},e.preventDefaults=function(t){var r=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)r.preventDefault();else{var o=this.actions,s=_n(o,mn)&&!Ul[mn],u=_n(o,bn)&&!Ul[bn],h=_n(o,La)&&!Ul[La];if(s){var v=t.pointers.length===1,g=t.distance<2,y=t.deltaTime<250;if(v&&g&&y)return}if(!h||!u)return s||u&&n&yr||h&&n&wn?this.preventSrc(r):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},i}();function od(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function ad(i){var e=i.length;if(e===1)return{x:xo(i[0].clientX),y:xo(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:xo(t/e),y:xo(r/e)}}function Hy(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:xo(i.pointers[t].clientX),clientY:xo(i.pointers[t].clientY)},t++;return{timeStamp:ed(),pointers:e,center:ad(e),deltaX:i.deltaX,deltaY:i.deltaY}}function Kl(i,e,t){t||(t=zy);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function sd(i,e,t){t||(t=zy);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return 180*Math.atan2(n,r)/Math.PI}function Wy(i,e){return i===e?Vl:yn(i)>=yn(e)?i<0?To:Io:e<0?Wa:$o}function Uy(i,e,t){return{x:e/i||0,y:t/i||0}}function Vy(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=Hy(e)),n>1&&!t.firstMultiple?t.firstMultiple=Hy(e):n===1&&(t.firstMultiple=!1);var o=t.firstInput,s=t.firstMultiple,u=s?s.center:o.center,h=e.center=ad(r);e.timeStamp=ed(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=sd(u,h),e.distance=Kl(u,h),function(S,$){var D=$.center,A=S.offsetDelta||{},B=S.prevDelta||{},H=S.prevInput||{};$.eventType!==St&&H.eventType!==Je||(B=S.prevDelta={x:H.deltaX||0,y:H.deltaY||0},A=S.offsetDelta={x:D.x,y:D.y}),$.deltaX=B.x+(D.x-A.x),$.deltaY=B.y+(D.y-A.y)}(t,e),e.offsetDirection=Wy(e.deltaX,e.deltaY);var v,g,y=Uy(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=y.x,e.overallVelocityY=y.y,e.overallVelocity=yn(y.x)>yn(y.y)?y.x:y.y,e.scale=s?(v=s.pointers,Kl((g=r)[0],g[1],ql)/Kl(v[0],v[1],ql)):1,e.rotation=s?function(S,$){return sd($[1],$[0],ql)+sd(S[1],S[0],ql)}(s.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,function(S,$){var D,A,B,H,J=S.lastInterval||$,de=$.timeStamp-J.timeStamp;if($.eventType!==Rt&&(de>ZO||J.velocity===void 0)){var ue=$.deltaX-J.deltaX,ae=$.deltaY-J.deltaY,Q=Uy(de,ue,ae);A=Q.x,B=Q.y,D=yn(Q.x)>yn(Q.y)?Q.x:Q.y,H=Wy(ue,ae),S.lastInterval=$}else D=J.velocity,A=J.velocityX,B=J.velocityY,H=J.direction;$.velocity=D,$.velocityX=A,$.velocityY=B,$.direction=H}(t,e);var w,k=i.element,E=e.srcEvent;od(w=E.composedPath?E.composedPath()[0]:E.path?E.path[0]:E.target,k)&&(k=w),e.target=k}function eS(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,o=e&St&&r-n==0,s=e&(Je|Rt)&&r-n==0;t.isFirst=!!o,t.isFinal=!!s,o&&(i.session={}),t.eventType=e,Vy(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function Ua(i){return i.trim().split(/\s+/g)}function Va(i,e,t){ti(Ua(e),function(r){i.addEventListener(r,t,!1)})}function qa(i,e,t){ti(Ua(e),function(r){i.removeEventListener(r,t,!1)})}function qy(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var Po=function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){Gl(t.options.enable,[t])&&n.handler(o)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Va(this.element,this.evEl,this.domHandler),this.evTarget&&Va(this.target,this.evTarget,this.domHandler),this.evWin&&Va(qy(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&qa(this.element,this.evEl,this.domHandler),this.evTarget&&qa(this.target,this.evTarget,this.domHandler),this.evWin&&qa(qy(this.element),this.evWin,this.domHandler)},i}();function Si(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var tS={pointerdown:St,pointermove:2,pointerup:Je,pointercancel:Rt,pointerout:Rt},rS={2:Ha,3:"pen",4:id,5:"kinect"},Gy="pointerdown",ld="pointermove pointerup pointercancel";Oi.MSPointerEvent&&!Oi.PointerEvent&&(Gy="MSPointerDown",ld="MSPointerMove MSPointerUp MSPointerCancel");var Ky=function(i){function e(){var t,r=e.prototype;return r.evEl=Gy,r.evWin=ld,(t=i.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return Xt(e,i),e.prototype.handler=function(t){var r=this.store,n=!1,o=t.type.toLowerCase().replace("ms",""),s=tS[o],u=rS[t.pointerType]||t.pointerType,h=u===Ha,v=Si(r,t.pointerId,"pointerId");s&St&&(t.button===0||h)?v<0&&(r.push(t),v=r.length-1):s&(Je|Rt)&&(n=!0),v<0||(r[v]=t,this.callback(this.manager,s,{pointers:r,changedPointers:[t],pointerType:u,srcEvent:t}),n&&r.splice(v,1))},e}(Po);function Ga(i){return Array.prototype.slice.call(i,0)}function Yl(i,e,t){for(var r=[],n=[],o=0;o<i.length;){var s=e?i[o][e]:i[o];Si(n,s)<0&&r.push(i[o]),n[o]=s,o++}return t&&(r=e?r.sort(function(u,h){return u[e]>h[e]}):r.sort()),r}var iS={touchstart:St,touchmove:2,touchend:Je,touchcancel:Rt},ud=function(i){function e(){var t;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(t=i.apply(this,arguments)||this).targetIds={},t}return Xt(e,i),e.prototype.handler=function(t){var r=iS[t.type],n=nS.call(this,t,r);n&&this.callback(this.manager,r,{pointers:n[0],changedPointers:n[1],pointerType:Ha,srcEvent:t})},e}(Po);function nS(i,e){var t,r,n=Ga(i.touches),o=this.targetIds;if(e&(2|St)&&n.length===1)return o[n[0].identifier]=!0,[n,n];var s=Ga(i.changedTouches),u=[],h=this.target;if(r=n.filter(function(v){return od(v.target,h)}),e===St)for(t=0;t<r.length;)o[r[t].identifier]=!0,t++;for(t=0;t<s.length;)o[s[t].identifier]&&u.push(s[t]),e&(Je|Rt)&&delete o[s[t].identifier],t++;return u.length?[Yl(r.concat(u),"identifier",!0),u]:void 0}var oS={mousedown:St,mousemove:2,mouseup:Je},hd=function(i){function e(){var t,r=e.prototype;return r.evEl="mousedown",r.evWin="mousemove mouseup",(t=i.apply(this,arguments)||this).pressed=!1,t}return Xt(e,i),e.prototype.handler=function(t){var r=oS[t.type];r&St&&t.button===0&&(this.pressed=!0),2&r&&t.which!==1&&(r=Je),this.pressed&&(r&Je&&(this.pressed=!1),this.callback(this.manager,r,{pointers:[t],changedPointers:[t],pointerType:id,srcEvent:t}))},e}(Po),aS=2500;function Yy(i){var e=i.changedPointers[0];if(e.identifier===this.primaryTouch){var t={x:e.clientX,y:e.clientY},r=this.lastTouches;this.lastTouches.push(t),setTimeout(function(){var n=r.indexOf(t);n>-1&&r.splice(n,1)},aS)}}function sS(i,e){i&St?(this.primaryTouch=e.changedPointers[0].identifier,Yy.call(this,e)):i&(Je|Rt)&&Yy.call(this,e)}function cd(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],o=Math.abs(e-n.x),s=Math.abs(t-n.y);if(o<=25&&s<=25)return!0}return!1}var Xy=function(){return function(i){function e(t,r){var n;return(n=i.call(this,t,r)||this).handler=function(o,s,u){var h=u.pointerType===Ha,v=u.pointerType===id;if(!(v&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(h)sS.call(za(za(n)),s,u);else if(v&&cd.call(za(za(n)),u))return;n.callback(o,s,u)}},n.touch=new ud(n.manager,n.handler),n.mouse=new hd(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return Xt(e,i),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Po)}();function Co(i,e,t){return!!Array.isArray(i)&&(ti(i,t[e],t),!0)}var xi=32,lS=1;function Xl(i,e){var t=e.manager;return t?t.get(i):i}function Ql(i){return 16&i?"cancel":8&i?"end":4&i?"move":2&i?"start":""}var Ka=function(){function i(t){t===void 0&&(t={}),this.options=gr({enable:!0},t),this.id=lS++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(t){return gn(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Co(t,"recognizeWith",this))return this;var r=this.simultaneous;return r[(t=Xl(t,this)).id]||(r[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Co(t,"dropRecognizeWith",this)||(t=Xl(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Co(t,"requireFailure",this))return this;var r=this.requireFail;return Si(r,t=Xl(t,this))===-1&&(r.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Co(t,"dropRequireFailure",this))return this;t=Xl(t,this);var r=Si(this.requireFail,t);return r>-1&&this.requireFail.splice(r,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var r=this,n=this.state;function o(s){r.manager.emit(s,t)}n<8&&o(r.options.event+Ql(n)),o(r.options.event),t.additionalEvent&&o(t.additionalEvent),n>=8&&o(r.options.event+Ql(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=xi},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var r=gn({},t);if(!Gl(this.options.enable,[this,r]))return this.reset(),void(this.state=xi);56&this.state&&(this.state=1),this.state=this.process(r),30&this.state&&this.tryEmit(r)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},i}(),dd=function(i){function e(r){var n;return r===void 0&&(r={}),(n=i.call(this,gr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Xt(e,i);var t=e.prototype;return t.getTouchAction=function(){return[rd]},t.process=function(r){var n=this,o=this.options,s=r.pointers.length===o.pointers,u=r.distance<o.threshold,h=r.deltaTime<o.time;if(this.reset(),r.eventType&St&&this.count===0)return this.failTimeout();if(u&&h&&s){if(r.eventType!==Je)return this.failTimeout();var v=!this.pTime||r.timeStamp-this.pTime<o.interval,g=!this.pCenter||Kl(this.pCenter,r.center)<o.posThreshold;if(this.pTime=r.timeStamp,this.pCenter=r.center,g&&v?this.count+=1:this.count=1,this._input=r,this.count%o.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){n.state=8,n.tryEmit()},o.interval),2):8}return xi},t.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=xi},this.options.interval),xi},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Ka),kn=function(i){function e(r){return r===void 0&&(r={}),i.call(this,gr({pointers:1},r))||this}Xt(e,i);var t=e.prototype;return t.attrTest=function(r){var n=this.options.pointers;return n===0||r.pointers.length===n},t.process=function(r){var n=this.state,o=r.eventType,s=6&n,u=this.attrTest(r);return s&&(o&Rt||!u)?16|n:s||u?o&Je?8|n:2&n?4|n:2:xi},e}(Ka);function Qy(i){return i===$o?"down":i===Wa?"up":i===To?"left":i===Io?"right":""}var fd=function(i){function e(r){var n;return r===void 0&&(r={}),(n=i.call(this,gr({event:"pan",threshold:10,pointers:1,direction:nd},r))||this).pX=null,n.pY=null,n}Xt(e,i);var t=e.prototype;return t.getTouchAction=function(){var r=this.options.direction,n=[];return r&yr&&n.push(bn),r&wn&&n.push(La),n},t.directionTest=function(r){var n=this.options,o=!0,s=r.distance,u=r.direction,h=r.deltaX,v=r.deltaY;return u&n.direction||(n.direction&yr?(u=h===0?Vl:h<0?To:Io,o=h!==this.pX,s=Math.abs(r.deltaX)):(u=v===0?Vl:v<0?Wa:$o,o=v!==this.pY,s=Math.abs(r.deltaY))),r.direction=u,o&&s>n.threshold&&u&n.direction},t.attrTest=function(r){return kn.prototype.attrTest.call(this,r)&&(2&this.state||!(2&this.state)&&this.directionTest(r))},t.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var n=Qy(r.direction);n&&(r.additionalEvent=this.options.event+n),i.prototype.emit.call(this,r)},e}(kn),Jy=function(i){function e(r){return r===void 0&&(r={}),i.call(this,gr({event:"swipe",threshold:10,velocity:.3,direction:yr|wn,pointers:1},r))||this}Xt(e,i);var t=e.prototype;return t.getTouchAction=function(){return fd.prototype.getTouchAction.call(this)},t.attrTest=function(r){var n,o=this.options.direction;return o&(yr|wn)?n=r.overallVelocity:o&yr?n=r.overallVelocityX:o&wn&&(n=r.overallVelocityY),i.prototype.attrTest.call(this,r)&&o&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&yn(n)>this.options.velocity&&r.eventType&Je},t.emit=function(r){var n=Qy(r.offsetDirection);n&&this.manager.emit(this.options.event+n,r),this.manager.emit(this.options.event,r)},e}(kn),Zy=function(i){function e(r){return r===void 0&&(r={}),i.call(this,gr({event:"pinch",threshold:0,pointers:2},r))||this}Xt(e,i);var t=e.prototype;return t.getTouchAction=function(){return[mn]},t.attrTest=function(r){return i.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||2&this.state)},t.emit=function(r){if(r.scale!==1){var n=r.scale<1?"in":"out";r.additionalEvent=this.options.event+n}i.prototype.emit.call(this,r)},e}(kn),em=function(i){function e(r){return r===void 0&&(r={}),i.call(this,gr({event:"rotate",threshold:0,pointers:2},r))||this}Xt(e,i);var t=e.prototype;return t.getTouchAction=function(){return[mn]},t.attrTest=function(r){return i.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||2&this.state)},e}(kn),vd=function(i){function e(r){var n;return r===void 0&&(r={}),(n=i.call(this,gr({event:"press",pointers:1,time:251,threshold:9},r))||this)._timer=null,n._input=null,n}Xt(e,i);var t=e.prototype;return t.getTouchAction=function(){return[By]},t.process=function(r){var n=this,o=this.options,s=r.pointers.length===o.pointers,u=r.distance<o.threshold,h=r.deltaTime>o.time;if(this._input=r,!u||!s||r.eventType&(Je|Rt)&&!h)this.reset();else if(r.eventType&St)this.reset(),this._timer=setTimeout(function(){n.state=8,n.tryEmit()},o.time);else if(r.eventType&Je)return 8;return xi},t.reset=function(){clearTimeout(this._timer)},t.emit=function(r){this.state===8&&(r&&r.eventType&Je?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=ed(),this.manager.emit(this.options.event,this._input)))},e}(Ka),tm={domEvents:!1,touchAction:Fy,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},rm=[[em,{enable:!1}],[Zy,{enable:!1},["rotate"]],[Jy,{direction:yr}],[fd,{direction:yr},["swipe"]],[dd],[dd,{event:"doubletap",taps:2},["tap"]],[vd]];function im(i,e){var t,r=i.element;r.style&&(ti(i.options.cssProps,function(n,o){t=Wl(r.style,o),e?(i.oldCssProps[t]=r.style[t],r.style[t]=n):r.style[t]=i.oldCssProps[t]||""}),e||(i.oldCssProps={}))}var nm=function(){function i(t,r){var n,o=this;this.options=gn({},tm,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(QO?Ky:JO?ud:jy?Xy:hd))(n,eS),this.touchAction=new Ly(this,this.options.touchAction),im(this,!0),ti(this.options.recognizers,function(s){var u=o.add(new s[0](s[1]));s[2]&&u.recognizeWith(s[2]),s[3]&&u.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(t){return gn(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var r=this.session;if(!r.stopped){var n;this.touchAction.preventDefaults(t);var o=this.recognizers,s=r.curRecognizer;(!s||s&&8&s.state)&&(r.curRecognizer=null,s=null);for(var u=0;u<o.length;)n=o[u],r.stopped===2||s&&n!==s&&!n.canRecognizeWith(s)?n.reset():n.recognize(t),!s&&14&n.state&&(r.curRecognizer=n,s=n),u++}},e.get=function(t){if(t instanceof Ka)return t;for(var r=this.recognizers,n=0;n<r.length;n++)if(r[n].options.event===t)return r[n];return null},e.add=function(t){if(Co(t,"add",this))return this;var r=this.get(t.options.event);return r&&this.remove(r),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Co(t,"remove",this))return this;var r=this.get(t);if(t){var n=this.recognizers,o=Si(n,r);o!==-1&&(n.splice(o,1),this.touchAction.update())}return this},e.on=function(t,r){if(t===void 0||r===void 0)return this;var n=this.handlers;return ti(Ua(t),function(o){n[o]=n[o]||[],n[o].push(r)}),this},e.off=function(t,r){if(t===void 0)return this;var n=this.handlers;return ti(Ua(t),function(o){r?n[o]&&n[o].splice(Si(n[o],r),1):delete n[o]}),this},e.emit=function(t,r){this.options.domEvents&&function(s,u){var h=document.createEvent("Event");h.initEvent(s,!0,!0),h.gesture=u,u.target.dispatchEvent(h)}(t,r);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){r.type=t,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](r),o++}},e.destroy=function(){this.element&&im(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),uS={touchstart:St,touchmove:2,touchend:Je,touchcancel:Rt},hS=function(i){function e(){var t,r=e.prototype;return r.evTarget="touchstart",r.evWin="touchstart touchmove touchend touchcancel",(t=i.apply(this,arguments)||this).started=!1,t}return Xt(e,i),e.prototype.handler=function(t){var r=uS[t.type];if(r===St&&(this.started=!0),this.started){var n=cS.call(this,t,r);r&(Je|Rt)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,r,{pointers:n[0],changedPointers:n[1],pointerType:Ha,srcEvent:t})}},e}(Po);function cS(i,e){var t=Ga(i.touches),r=Ga(i.changedTouches);return e&(Je|Rt)&&(t=Yl(t.concat(r),"identifier",!0)),[t,r]}function pd(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,r,o),i.apply(this,arguments)}}var Jl=pd(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),om=pd(function(i,e){return Jl(i,e,!0)},"merge","Use `assign`.");function dS(i,e,t){var r,n=e.prototype;(r=i.prototype=Object.create(n)).constructor=i,r._super=n,t&&gn(r,t)}function xt(i,e){return function(){return i.apply(e,arguments)}}var am=function(){var i=function(e,t){return t===void 0&&(t={}),new nm(e,gr({recognizers:rm.concat()},t))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=nd,i.DIRECTION_DOWN=$o,i.DIRECTION_LEFT=To,i.DIRECTION_RIGHT=Io,i.DIRECTION_UP=Wa,i.DIRECTION_HORIZONTAL=yr,i.DIRECTION_VERTICAL=wn,i.DIRECTION_NONE=Vl,i.DIRECTION_DOWN=$o,i.INPUT_START=St,i.INPUT_MOVE=2,i.INPUT_END=Je,i.INPUT_CANCEL=Rt,i.STATE_POSSIBLE=1,i.STATE_BEGAN=2,i.STATE_CHANGED=4,i.STATE_ENDED=8,i.STATE_RECOGNIZED=8,i.STATE_CANCELLED=16,i.STATE_FAILED=xi,i.Manager=nm,i.Input=Po,i.TouchAction=Ly,i.TouchInput=ud,i.MouseInput=hd,i.PointerEventInput=Ky,i.TouchMouseInput=Xy,i.SingleTouchInput=hS,i.Recognizer=Ka,i.AttrRecognizer=kn,i.Tap=dd,i.Pan=fd,i.Swipe=Jy,i.Pinch=Zy,i.Rotate=em,i.Press=vd,i.on=Va,i.off=qa,i.each=ti,i.merge=om,i.extend=Jl,i.bindFn=xt,i.assign=gn,i.inherit=dS,i.bindFn=xt,i.prefixed=Wl,i.toArray=Ga,i.inArray=Si,i.uniqueArray=Yl,i.splitStr=Ua,i.boolOrFn=Gl,i.hasParent=od,i.addEventListeners=Va,i.removeEventListeners=qa,i.defaults=gn({},tm,{preset:rm}),i}();am.defaults;var fS=am;function sm(i,e){var t=ki!==void 0&&kt(i)||i["@@iterator"];if(!t){if(Se(i)||(t=function(h,v){var g;if(!!h){if(typeof h=="string")return mt(h,v);var y=vt(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return hn(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return mt(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function mt(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function Zl(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(r){var n=function(){for(var y=function(){var $=4022871197;return function(D){for(var A=D.toString(),B=0;B<A.length;B++){var H=.02519603282416938*($+=A.charCodeAt(B));H-=$=H>>>0,$=(H*=$)>>>0,$+=4294967296*(H-=$)}return 23283064365386963e-26*($>>>0)}}(),w=y(" "),k=y(" "),E=y(" "),S=0;S<arguments.length;S++)(w-=y(S<0||arguments.length<=S?void 0:arguments[S]))<0&&(w+=1),(k-=y(S<0||arguments.length<=S?void 0:arguments[S]))<0&&(k+=1),(E-=y(S<0||arguments.length<=S?void 0:arguments[S]))<0&&(E+=1);return[w,k,E]}(r),o=Ue(n,3),s=o[0],u=o[1],h=o[2],v=1,g=function(){var y=2091639*s+23283064365386963e-26*v;return s=u,u=h,h=y-(v=0|y)};return g.uint32=function(){return 4294967296*g()},g.fract53=function(){return g()+11102230246251565e-32*(2097152*g()|0)},g.algorithm="Alea",g.seed=r,g.version="0.9",g}(e.length?e:[Na()])}ki("DELETE");var En=typeof window<"u"?window.Hammer||fS:function(){return function(){var i=function(){};return{on:i,off:i,destroy:i,emit:i,get:function(){return{set:i}}}}()};function Rr(i){var e,t=this;this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var r=En(this._dom.overlay);r.on("tap",N(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){r.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ce(n).call(n,function(o){r.on(o,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){(function(s,u){for(;s;){if(s===u)return!0;s=s.parentNode}return!1})(o.target,i)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(o){("key"in o?o.key==="Escape":o.keyCode===27)&&t.deactivate()}}$v(Rr.prototype),Rr.current=null,Rr.prototype.destroy=function(){var i,e;this.deactivate();var t,r=sm(vn(i=pr(e=this._cleanupQueue).call(e,0)).call(i));try{for(r.s();!(t=r.n()).done;)(0,t.value)()}catch(n){r.e(n)}finally{r.f()}},Rr.prototype.activate=function(){Rr.current&&Rr.current.deactivate(),Rr.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Rr.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Rr.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};var vS=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,pS=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,gS=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,gd=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ti(i){if(i)for(;i.hasChildNodes()===!0;){var e=i.firstChild;e&&(Ti(e),i.removeChild(e))}}function Ii(i){return i instanceof String||typeof i=="string"}function lm(i){return Ee(i)==="object"&&i!==null}function On(i,e,t,r){var n=!1;r===!0&&(n=e[t]===null&&i[t]!==void 0),n?delete i[t]:i[t]=e[t]}function Ya(i,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];for(var r in i)if(e[r]!==void 0)if(e[r]===null||Ee(e[r])!=="object")On(i,e,r,t);else{var n=i[r],o=e[r];lm(n)&&lm(o)&&Ya(n,o,t)}}function Do(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Se(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n=0;n<i.length;n++){var o=i[n];if(Object.prototype.hasOwnProperty.call(t,o))if(t[o]&&t[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?Me(e[o],t[o],!1,r):On(e,t,o,r);else{if(Se(t[o]))throw new TypeError("Arrays are not supported by deepExtend");On(e,t,o,r)}}return e}function $i(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Se(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!Ar(i).call(i,n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?Me(e[n],t[n]):On(e,t,n,r);else if(Se(t[n])){e[n]=[];for(var o=0;o<t[n].length;o++)e[n].push(t[n][o])}else On(e,t,n,r);return e}function Me(i,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)||t===!0)if(Ee(e[n])==="object"&&e[n]!==null&&gy(e[n])===Object.prototype)i[n]===void 0?i[n]=Me({},e[n],t):Ee(i[n])==="object"&&i[n]!==null&&gy(i[n])===Object.prototype?Me(i[n],e[n],t):On(i,e,n,r);else if(Se(e[n])){var o;i[n]=vt(o=e[n]).call(o)}else On(i,e,n,r);return i}function eu(i,e){var t;return Aa(t=[]).call(t,Mr(i),[e])}function yS(i){return i.getBoundingClientRect().top}function pe(i,e){if(Se(i))for(var t=i.length,r=0;r<t;r++)e(i[r],r,i);else for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(i[n],n,i)}function yd(i){var e;switch(i.length){case 3:case 4:return(e=pS.exec(i))?{r:Yt(e[1]+e[1],16),g:Yt(e[2]+e[2],16),b:Yt(e[3]+e[3],16)}:null;case 6:case 7:return(e=vS.exec(i))?{r:Yt(e[1],16),g:Yt(e[2],16),b:Yt(e[3],16)}:null;default:return null}}function nr(i,e){if(Ar(i).call(i,"rgba"))return i;if(Ar(i).call(i,"rgb")){var t=i.substr(we(i).call(i,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}var r=yd(i);return r==null?i:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}function um(i,e,t){var r;return"#"+vt(r=((1<<24)+(i<<16)+(e<<8)+t).toString(16)).call(r,1)}function tu(i,e){if(Ii(i)){var t=i;if(bd(t)){var r,n=Eo(r=t.substr(4).substr(0,t.length-5).split(",")).call(r,function(g){return Yt(g)});t=um(n[0],n[1],n[2])}if(hm(t)===!0){var o=function(g){var y=yd(g);if(!y)throw new TypeError("'".concat(g,"' is not a valid color."));return Xa(y.r,y.g,y.b)}(t),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},u={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},h=md(u.h,u.s,u.v),v=md(s.h,s.s,s.v);return{background:t,border:h,highlight:{background:v,border:h},hover:{background:v,border:h}}}return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}return e?{background:i.background||e.background,border:i.border||e.border,highlight:Ii(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||e.highlight.background,border:i.highlight&&i.highlight.border||e.highlight.border},hover:Ii(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||e.hover.border,background:i.hover&&i.hover.background||e.hover.background}}:{background:i.background||void 0,border:i.border||void 0,highlight:Ii(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:Ii(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}}}function Xa(i,e,t){i/=255,e/=255,t/=255;var r=Math.min(i,Math.min(e,t)),n=Math.max(i,Math.max(e,t));return r===n?{h:0,s:0,v:r}:{h:60*((i===r?3:t===r?1:5)-(i===r?e-t:t===r?i-e:t-i)/(n-r))/360,s:(n-r)/n,v:n}}function ut(i,e,t){var r,n,o,s=Math.floor(6*i),u=6*i-s,h=t*(1-e),v=t*(1-u*e),g=t*(1-(1-u)*e);switch(s%6){case 0:r=t,n=g,o=h;break;case 1:r=v,n=t,o=h;break;case 2:r=h,n=t,o=g;break;case 3:r=h,n=v,o=t;break;case 4:r=g,n=h,o=t;break;case 5:r=t,n=h,o=v}return{r:Math.floor(255*r),g:Math.floor(255*n),b:Math.floor(255*o)}}function md(i,e,t){var r=ut(i,e,t);return um(r.r,r.g,r.b)}function hm(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}function bd(i){return gS.test(i)}function Pi(i){if(i===null||Ee(i)!=="object")return null;if(i instanceof Element)return i;var e=Ei(i);for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&Ee(i[t])=="object"&&(e[t]=Pi(i[t]));return e}function or(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=function(g){return g!=null},o=function(g){return g!==null&&Ee(g)==="object"};if(!o(i))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!o(r))throw new Error("Parameter globalOptions must be an object");var s=e[t],u=o(r)&&!function(g){for(var y in g)if(Object.prototype.hasOwnProperty.call(g,y))return!1;return!0}(r)?r[t]:void 0,h=u?u.enabled:void 0;if(s!==void 0){if(typeof s=="boolean")return o(i[t])||(i[t]={}),void(i[t].enabled=s);if(s===null&&!o(i[t])){if(!n(u))return;i[t]=Ei(u)}if(o(s)){var v=!0;s.enabled!==void 0?v=s.enabled:h!==void 0&&(v=u.enabled),function(g,y,w){o(g[w])||(g[w]={});var k=y[w],E=g[w];for(var S in k)Object.prototype.hasOwnProperty.call(k,S)&&(E[S]=k[S])}(i,e,t),i[t].enabled=v}}}var mS={linear:function(i){return i},easeInQuad:function(i){return i*i},easeOutQuad:function(i){return i*(2-i)},easeInOutQuad:function(i){return i<.5?2*i*i:(4-2*i)*i-1},easeInCubic:function(i){return i*i*i},easeOutCubic:function(i){return--i*i*i+1},easeInOutCubic:function(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart:function(i){return i*i*i*i},easeOutQuart:function(i){return 1- --i*i*i*i},easeInOutQuart:function(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint:function(i){return i*i*i*i*i},easeOutQuint:function(i){return 1+--i*i*i*i*i},easeInOutQuint:function(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}};function Ci(i,e){var t;Se(e)||(e=[e]);var r,n=sm(i);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o){t=o[e[0]];for(var s=1;s<e.length;s++)t&&(t=t[e[s]]);if(t!==void 0)break}}}catch(u){n.e(u)}finally{n.f()}return t}var bS={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},wS=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;z(this,i),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return L(i,[{key:"insertTo",value:function(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if(typeof e!="function")throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if(typeof e!="function")throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if(typeof e=="string")return bS[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e!=="none"){var r,n=this._isColorString(e);if(n!==void 0&&(e=n),Ii(e)===!0){if(bd(e)===!0){var o=e.substr(4).substr(0,e.length-5).split(",");r={r:o[0],g:o[1],b:o[2],a:1}}else if(function(v){return gd.test(v)}(e)===!0){var s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(hm(e)===!0){var u=yd(e);r={r:u.r,g:u.g,b:u.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){var h=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:h}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+So(e));this._setColor(r,t)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this;(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])===!0&&(this.previousColor=Xe({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Nr(function(){e.closeCallback!==void 0&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])===!0&&(this.initialColor=Xe({},e)),this.color=e;var t=Xa(e.r,e.g,e.b),r=2*Math.PI,n=this.r*t.s,o=this.centerCoordinates.x+n*Math.sin(r*t.h),s=this.centerCoordinates.y+n*Math.cos(r*t.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=Xa(this.color.r,this.color.g,this.color.b);t.v=e/100;var r=ut(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,t=Xa(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,o),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),ja(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,t,r,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var u=this;this.opacityRange.onchange=function(){u._setOpacity(this.value)},this.opacityRange.oninput=function(){u._setOpacity(this.value)},this.brightnessRange.onchange=function(){u._setBrightness(this.value)},this.brightnessRange.oninput=function(){u._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=N(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=N(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=N(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=N(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new En(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(t){t.isFirst&&e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,r,n,o,s=this.colorPickerCanvas.clientWidth,u=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,s,u),this.centerCoordinates={x:.5*s,y:.5*u},this.r=.49*s;var h,v=2*Math.PI/360,g=1/this.r;for(n=0;n<360;n++)for(o=0;o<this.r;o++)t=this.centerCoordinates.x+o*Math.sin(v*n),r=this.centerCoordinates.y+o*Math.cos(v*n),h=ut(.002777777777777778*n,o*g,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(t-.5,r-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,s,u)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,u=r-s,h=n-o,v=Math.atan2(u,h),g=.98*Math.min(Math.sqrt(u*u+h*h),s),y=Math.cos(v)*g+o,w=Math.sin(v)*g+s;this.colorPickerSelector.style.top=y-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=w-.5*this.colorPickerSelector.clientWidth+"px";var k=v/(2*Math.PI);k=k<0?k+1:k;var E=g/this.r,S=Xa(this.color.r,this.color.g,this.color.b);S.h=k,S.s=E;var $=ut(S.h,S.s,S.v);$.a=this.color.a,this.color=$,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),i}();function wd(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);var r=document.createElement(e[0]);return r.appendChild(wd.apply(void 0,Mr(vt(e).call(e,1)))),r}var ru,_S=function(){function i(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};z(this,i),this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Xe(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new wS(n),this.wrapper=void 0}return L(i,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var t=!0;if(typeof e=="string")this.options.filter=e;else if(Se(e))this.options.filter=e.join();else if(Ee(e)==="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Ot(e)!==void 0&&(this.options.filter=Ot(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);Ot(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=Ot(this.options),t=0,r=!1;for(var n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?r=(r=e(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):e!==!0&&we(e).call(e,n)===-1||(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,r=0;r<e.length;r++){if(t[e[r]]===void 0){t=void 0;break}t=t[e[r]]}return t}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return Ce(n).call(n,function(s){t.appendChild(s)}),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(wd("i","b",e))}else n.innerText=e+":";return n}},{key:"_makeDropdown",value:function(e,t,r){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var o=0;t!==void 0&&we(e).call(e,t)!==-1&&(o=we(e).call(e,t));for(var s=0;s<e.length;s++){var u=document.createElement("option");u.value=e[s],s===o&&(u.selected="selected"),u.innerText=e[s],n.appendChild(u)}var h=this;n.onchange=function(){h._update(this.value,r)};var v=this._makeLabel(r[r.length-1],r);this._makeItem(r,v,n)}},{key:"_makeRange",value:function(e,t,r){var n=e[0],o=e[1],s=e[2],u=e[3],h=document.createElement("input");h.className="vis-configuration vis-config-range";try{h.type="range",h.min=o,h.max=s}catch{}h.step=u;var v="",g=0;if(t!==void 0){var y=1.2;t<0&&t*y<o?(h.min=Math.ceil(t*y),g=h.min,v="range increased"):t/y<o&&(h.min=Math.ceil(t/y),g=h.min,v="range increased"),t*y>s&&s!==1&&(h.max=Math.ceil(t*y),g=h.max,v="range increased"),h.value=t}else h.value=n;var w=document.createElement("input");w.className="vis-configuration vis-config-rangeinput",w.value=h.value;var k=this;h.onchange=function(){w.value=this.value,k._update(Number(this.value),r)},h.oninput=function(){w.value=this.value};var E=this._makeLabel(r[r.length-1],r),S=this._makeItem(r,E,h,w);v!==""&&this.popupHistory[S]!==g&&(this.popupHistory[S]=g,this._setupPopup(v,S))}},{key:"_makeButton",value:function(){var e=this;if(this.options.showButton===!0){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var r=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=function(){r._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:t}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Nr(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Nr(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,t,r){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(Ee(e)==="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));var o=this;n.onchange=function(){o._update(this.checked,r)};var s=this._makeLabel(r[r.length-1],r);this._makeItem(r,s,n)}},{key:"_makeTextInput",value:function(e,t,r){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});var o=this;n.onchange=function(){o._update(this.value,r)};var s=this._makeLabel(r[r.length-1],r);this._makeItem(r,s,n)}},{key:"_makeColorField",value:function(e,t,r){var n=this,o=e[1],s=document.createElement("div");(t=t===void 0?o:t)!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?o:t,s.onclick=function(){n._showColorPicker(t,s,r)};var u=this._makeLabel(r[r.length-1],r);this._makeItem(r,u,s)}},{key:"_showColorPicker",value:function(e,t,r){var n=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(o){var s="rgba("+o.r+","+o.g+","+o.b+","+o.a+")";t.style.backgroundColor=s,n._update(s,r)}),this.colorPicker.setCloseCallback(function(){t.onclick=function(){n._showColorPicker(e,t,r)}})}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=!1,o=Ot(this.options),s=!1;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){n=!0;var h=e[u],v=eu(t,u);if(typeof o=="function"&&(n=o(u,t))===!1&&!Se(h)&&typeof h!="string"&&typeof h!="boolean"&&h instanceof Object&&(this.allowCreation=!1,n=this._handleObject(h,v,!0),this.allowCreation=r===!1),n!==!1){s=!0;var g=this._getValue(v);if(Se(h))this._handleArray(h,g,v);else if(typeof h=="string")this._makeTextInput(h,g,v);else if(typeof h=="boolean")this._makeCheckbox(h,g,v);else if(h instanceof Object){if(!this.hideOption(t,u,this.moduleOptions))if(h.enabled!==void 0){var y=eu(v,"enabled"),w=this._getValue(y);if(w===!0){var k=this._makeLabel(u,v,!0);this._makeItem(v,k),s=this._handleObject(h,v)||s}else this._makeCheckbox(h,w,v)}else{var E=this._makeLabel(u,v,!0);this._makeItem(v,E),s=this._handleObject(h,v)||s}}else console.error("dont know how to handle",h,u,v)}}return s}},{key:"_handleArray",value:function(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}},{key:"_update",value:function(e,t){var r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}},{key:"_constructOptions",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r;e=(e=e==="true"||e)!=="false"&&e;for(var o=0;o<t.length;o++)t[o]!=="global"&&(n[t[o]]===void 0&&(n[t[o]]={}),o!==t.length-1?n=n[t[o]]:n[t[o]]=e);return r}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(wd("pre","const options = "+So(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),i}(),kS=function(){function i(e,t){z(this,i),this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return L(i,[{key:"setPosition",value:function(e,t){this.x=Yt(e),this.y=Yt(t)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,s=0,u=0;if(this.overflowMethod=="flip"){var h=!1,v=!0;this.y-t<this.padding&&(v=!1),this.x+r>o-this.padding&&(h=!0),s=h?this.x-r:this.x,u=v?this.y-t:this.y}else(u=this.y-t)+t+this.padding>n&&(u=n-t-this.padding),u<this.padding&&(u=this.padding),(s=this.x)+r+this.padding>o&&(s=o-r-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=u+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),i}(),Qa=!1,_d="background: #FFeeee; color: #dd0000",ES=function(){function i(){z(this,i)}return L(i,null,[{key:"validate",value:function(e,t,r){Qa=!1,ru=t;var n=t;return r!==void 0&&(n=t[r]),i.parse(e,n,[]),Qa}},{key:"parse",value:function(e,t,r){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&i.check(n,e,t,r)}},{key:"check",value:function(e,t,r,n){if(r[e]!==void 0||r.__any__!==void 0){var o=e,s=!0;r[e]===void 0&&r.__any__!==void 0&&(o="__any__",s=i.getType(t[e])==="object");var u=r[o];s&&u.__type__!==void 0&&(u=u.__type__),i.checkFields(e,t,r,o,u,n)}else i.getSuggestion(e,r,n)}},{key:"checkFields",value:function(e,t,r,n,o,s){var u=function(g){console.error("%c"+g+i.printLocation(s,e),_d)},h=i.getType(t[e]),v=o[h];v!==void 0?i.getType(v)==="array"&&we(v).call(v,t[e])===-1?(u('Invalid option detected in "'+e+'". Allowed values are:'+i.print(v)+' not "'+t[e]+'". '),Qa=!0):h==="object"&&n!=="__any__"&&(s=eu(s,e),i.parse(t[e],r[n],s)):o.any===void 0&&(u('Invalid type received for "'+e+'". Expected: '+i.print(Ve(o))+". Received ["+h+'] "'+t[e]+'"'),Qa=!0)}},{key:"getType",value:function(e){var t=Ee(e);return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Se(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}},{key:"getSuggestion",value:function(e,t,r){var n,o=i.findInOptions(e,t,r,!1),s=i.findInOptions(e,ru,[],!0);n=o.indexMatch!==void 0?" in "+i.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+`"?

`:s.distance<=4&&o.distance>s.distance?" in "+i.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+i.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+i.printLocation(o.path,e):". Did you mean one of these: "+i.print(Ve(t))+i.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+n,_d),Qa=!0}},{key:"findInOptions",value:function(e,t,r){var n,o=arguments.length>3&&arguments[3]!==void 0&&arguments[3],s=1e9,u="",h=[],v=e.toLowerCase(),g=void 0;for(var y in t){var w=void 0;if(t[y].__type__!==void 0&&o===!0){var k=i.findInOptions(e,t[y],eu(r,y));s>k.distance&&(u=k.closestMatch,h=k.path,s=k.distance,g=k.indexMatch)}else{var E;we(E=y.toLowerCase()).call(E,v)!==-1&&(g=y),s>(w=i.levenshteinDistance(e,y))&&(u=y,h=vt(n=r).call(n),s=w)}}return{closestMatch:u,path:h,distance:s,indexMatch:g}}},{key:"printLocation",value:function(e,t){for(var r=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`,n=0;n<e.length;n++){for(var o=0;o<n+1;o++)r+="  ";r+=e[n]+`: {
`}for(var s=0;s<e.length+1;s++)r+="  ";r+=t+`
`;for(var u=0;u<e.length+1;u++){for(var h=0;h<e.length-u;h++)r+="  ";r+=`}
`}return r+`

`}},{key:"print",value:function(e){return So(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var r,n,o=[];for(r=0;r<=t.length;r++)o[r]=[r];for(n=0;n<=e.length;n++)o[0][n]=n;for(r=1;r<=t.length;r++)for(n=1;n<=e.length;n++)t.charAt(r-1)==e.charAt(n-1)?o[r][n]=o[r-1][n-1]:o[r][n]=Math.min(o[r-1][n-1]+1,Math.min(o[r][n-1]+1,o[r-1][n]+1));return o[t.length][e.length]}}]),i}(),cm=Rr,OS=_S,Mo=En,SS=kS,dm=_d,xS=ES;function fm(i){return ri=i,function(){var e={};if(Ao=0,oe=ri.charAt(0),Ae(),re==="strict"&&(e.strict=!0,Ae()),re!=="graph"&&re!=="digraph"||(e.type=re,Ae()),Ft===pt.IDENTIFIER&&(e.id=re,Ae()),re!="{")throw Tt("Angle bracket { expected");if(Ae(),ym(e),re!="}")throw Tt("Angle bracket } expected");if(Ae(),re!=="")throw Tt("End of file expected");return Ae(),delete e.node,delete e.edge,delete e.graph,e}()}var vm={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},kd=Ei(vm);kd.color="color.color",kd.style="dashes";var pt={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},pm={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},ri="",Ao=0,oe="",re="",Ft=pt.NULL;function ht(){Ao++,oe=ri.charAt(Ao)}function No(){return ri.charAt(Ao+1)}function Ed(i){var e=i.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123&&e>96}function Di(i,e){if(i||(i={}),e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function TS(i,e,t){for(var r=e.split("."),n=i;r.length;){var o=r.shift();r.length?(n[o]||(n[o]={}),n=n[o]):n[o]=t}}function gm(i,e){for(var t,r,n=null,o=[i],s=i;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes){for(t=0,r=s.nodes.length;t<r;t++)if(e.id===s.nodes[t].id){n=s.nodes[t];break}}for(n||(n={id:e.id},i.node&&(n.attr=Di(n.attr,i.node))),t=o.length-1;t>=0;t--){var u,h=o[t];h.nodes||(h.nodes=[]),we(u=h.nodes).call(u,n)===-1&&h.nodes.push(n)}e.attr&&(n.attr=Di(n.attr,e.attr))}function IS(i,e){if(i.edges||(i.edges=[]),i.edges.push(e),i.edge){var t=Di({},i.edge);e.attr=Di(t,e.attr)}}function iu(i,e,t,r,n){var o={from:e,to:t,type:r};return i.edge&&(o.attr=Di({},i.edge)),o.attr=Di(o.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(o.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),o}function Ae(){for(Ft=pt.NULL,re="";oe===" "||oe==="	"||oe===`
`||oe==="\r";)ht();do{var i=!1;if(oe==="#"){for(var e=Ao-1;ri.charAt(e)===" "||ri.charAt(e)==="	";)e--;if(ri.charAt(e)===`
`||ri.charAt(e)===""){for(;oe!=""&&oe!=`
`;)ht();i=!0}}if(oe==="/"&&No()==="/"){for(;oe!=""&&oe!=`
`;)ht();i=!0}if(oe==="/"&&No()==="*"){for(;oe!="";){if(oe==="*"&&No()==="/"){ht(),ht();break}ht()}i=!0}for(;oe===" "||oe==="	"||oe===`
`||oe==="\r";)ht()}while(i);if(oe!==""){var t=oe+No();if(pm[t])return Ft=pt.DELIMITER,re=t,ht(),void ht();if(pm[oe])return Ft=pt.DELIMITER,re=oe,void ht();if(Ed(oe)||oe==="-"){for(re+=oe,ht();Ed(oe);)re+=oe,ht();return re==="false"?re=!1:re==="true"?re=!0:isNaN(Number(re))||(re=Number(re)),void(Ft=pt.IDENTIFIER)}if(oe==='"'){for(ht();oe!=""&&(oe!='"'||oe==='"'&&No()==='"');)oe==='"'?(re+=oe,ht()):oe==="\\"&&No()==="n"?(re+=`
`,ht()):re+=oe,ht();if(oe!='"')throw Tt('End of string " expected');return ht(),void(Ft=pt.IDENTIFIER)}for(Ft=pt.UNKNOWN;oe!="";)re+=oe,ht();throw new SyntaxError('Syntax error in part "'+_m(re,30)+'"')}Ft=pt.DELIMITER}function ym(i){for(;re!==""&&re!="}";)mm(i),re===";"&&Ae()}function mm(i){var e=bm(i);if(e)wm(i,e);else{var t=function(n){return re==="node"?(Ae(),n.node=Ja(),"node"):re==="edge"?(Ae(),n.edge=Ja(),"edge"):re==="graph"?(Ae(),n.graph=Ja(),"graph"):null}(i);if(!t){if(Ft!=pt.IDENTIFIER)throw Tt("Identifier expected");var r=re;if(Ae(),re==="="){if(Ae(),Ft!=pt.IDENTIFIER)throw Tt("Identifier expected");i[r]=re,Ae()}else(function(n,o){var s={id:o},u=Ja();u&&(s.attr=u),gm(n,s),wm(n,o)})(i,r)}}}function bm(i){var e=null;if(re==="subgraph"&&((e={}).type="subgraph",Ae(),Ft===pt.IDENTIFIER&&(e.id=re,Ae())),re==="{"){if(Ae(),e||(e={}),e.parent=i,e.node=i.node,e.edge=i.edge,e.graph=i.graph,ym(e),re!="}")throw Tt("Angle bracket } expected");Ae(),delete e.node,delete e.edge,delete e.graph,delete e.parent,i.subgraphs||(i.subgraphs=[]),i.subgraphs.push(e)}return e}function wm(i,e){for(;re==="->"||re==="--";){var t,r=re;Ae();var n=bm(i);if(n)t=n;else{if(Ft!=pt.IDENTIFIER)throw Tt("Identifier or subgraph expected");gm(i,{id:t=re}),Ae()}IS(i,iu(i,e,t,r,Ja())),e=t}}function Ja(){for(var i,e,t=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;re==="[";){for(Ae(),t={};re!==""&&re!="]";){if(Ft!=pt.IDENTIFIER)throw Tt("Attribute name expected");var u=re;if(Ae(),re!="=")throw Tt("Equal sign = expected");if(Ae(),Ft!=pt.IDENTIFIER)throw Tt("Attribute value expected");var h=re;u==="style"&&(h=r[h]),u==="arrowhead"&&(u="arrows",h={to:{enabled:!0,type:n[h]}}),u==="arrowtail"&&(u="arrows",h={from:{enabled:!0,type:n[h]}}),o.push({attr:t,name:u,value:h}),s.push(u),Ae(),re==","&&Ae()}if(re!="]")throw Tt("Bracket ] expected");Ae()}if(Ar(s).call(s,"dir")){var v={arrows:{}};for(i=0;i<o.length;i++)if(o[i].name==="arrows")if(o[i].value.to!=null)v.arrows.to=i;else{if(o[i].value.from==null)throw Tt("Invalid value of arrows");v.arrows.from=i}else o[i].name==="dir"&&(v.dir=i);var g,y,w=o[v.dir].value;if(!Ar(s).call(s,"arrows"))if(w==="both")o.push({attr:o[v.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),v.arrows.to=o.length-1,o.push({attr:o[v.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),v.arrows.from=o.length-1;else if(w==="forward")o.push({attr:o[v.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),v.arrows.to=o.length-1;else if(w==="back")o.push({attr:o[v.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),v.arrows.from=o.length-1;else{if(w!=="none")throw Tt('Invalid dir type "'+w+'"');o.push({attr:o[v.dir].attr,name:"arrows",value:""}),v.arrows.to=o.length-1}if(w==="both")v.arrows.to&&v.arrows.from?(y=o[v.arrows.to].value.to.type,g=o[v.arrows.from].value.from.type,o[v.arrows.to]={attr:o[v.arrows.to].attr,name:o[v.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}},pr(o).call(o,v.arrows.from,1)):v.arrows.to?(y=o[v.arrows.to].value.to.type,g="arrow",o[v.arrows.to]={attr:o[v.arrows.to].attr,name:o[v.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}):v.arrows.from&&(y="arrow",g=o[v.arrows.from].value.from.type,o[v.arrows.from]={attr:o[v.arrows.from].attr,name:o[v.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}});else if(w==="back")v.arrows.to&&v.arrows.from?(y="",g=o[v.arrows.from].value.from.type,o[v.arrows.from]={attr:o[v.arrows.from].attr,name:o[v.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}):v.arrows.to?(y="",g="arrow",v.arrows.from=v.arrows.to,o[v.arrows.from]={attr:o[v.arrows.from].attr,name:o[v.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}):v.arrows.from&&(y="",g=o[v.arrows.from].value.from.type,o[v.arrows.to]={attr:o[v.arrows.from].attr,name:o[v.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}),o[v.arrows.from]={attr:o[v.arrows.from].attr,name:o[v.arrows.from].name,value:{from:{enabled:!0,type:o[v.arrows.from].value.from.type}}};else if(w==="none"){var k;o[k=v.arrows.to?v.arrows.to:v.arrows.from]={attr:o[k].attr,name:o[k].name,value:""}}else{if(w!=="forward")throw Tt('Invalid dir type "'+w+'"');v.arrows.to&&v.arrows.from||v.arrows.to?(y=o[v.arrows.to].value.to.type,g="",o[v.arrows.to]={attr:o[v.arrows.to].attr,name:o[v.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}):v.arrows.from&&(y="arrow",g="",v.arrows.to=v.arrows.from,o[v.arrows.to]={attr:o[v.arrows.to].attr,name:o[v.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:g}}}),o[v.arrows.to]={attr:o[v.arrows.to].attr,name:o[v.arrows.to].name,value:{to:{enabled:!0,type:o[v.arrows.to].value.to.type}}}}pr(o).call(o,v.dir,1)}if(Ar(s).call(s,"penwidth")){var E=[];for(e=o.length,i=0;i<e;i++)o[i].name!=="width"&&(o[i].name==="penwidth"&&(o[i].name="width"),E.push(o[i]));o=E}for(e=o.length,i=0;i<e;i++)TS(o[i].attr,o[i].name,o[i].value);return t}function Tt(i){return new SyntaxError(i+', got "'+_m(re,30)+'" (char '+Ao+")")}function _m(i,e){return i.length<=e?i:i.substr(0,27)+"..."}function km(i,e,t){for(var r=e.split("."),n=r.pop(),o=i,s=0;s<r.length;s++){var u=r[s];u in o||(o[u]={}),o=o[u]}return o[n]=t,i}function Em(i,e){var t={};for(var r in i)if(i.hasOwnProperty(r)){var n=e[r];Se(n)?Ce(n).call(n,function(o){km(t,o,i[r])}):km(t,typeof n=="string"?n:r,i[r])}return t}function Od(i){var e,t=fm(i),r={nodes:[],edges:[],options:{}};if(t.nodes&&Ce(e=t.nodes).call(e,function(s){var u={id:s.id,label:String(s.label||s.id)};Di(u,Em(s.attr,vm)),u.image&&(u.shape="image"),r.nodes.push(u)}),t.edges){var n,o=function(s){var u={from:s.from,to:s.to};return Di(u,Em(s.attr,kd)),u.arrows==null&&s.type==="->"&&(u.arrows="to"),u};Ce(n=t.edges).call(n,function(s){var u,h,v,g,y,w,k;u=s.from instanceof Object?s.from.nodes:{id:s.from},h=s.to instanceof Object?s.to.nodes:{id:s.to},s.from instanceof Object&&s.from.edges&&Ce(v=s.from.edges).call(v,function(E){var S=o(E);r.edges.push(S)}),y=h,w=function(E,S){var $=iu(r,E.id,S.id,s.type,s.attr),D=o($);r.edges.push(D)},Se(g=u)?Ce(g).call(g,function(E){Se(y)?Ce(y).call(y,function(S){w(E,S)}):w(E,y)}):Se(y)?Ce(y).call(y,function(E){w(g,E)}):w(g,y),s.to instanceof Object&&s.to.edges&&Ce(k=s.to.edges).call(k,function(E){var S=o(E);r.edges.push(S)})})}return t.attr&&(r.options=t.attr),r}var Om=Object.freeze({__proto__:null,DOTToGraph:Od,parseDOT:fm});function Sd(i,e){var t,r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));var n=i.edges,o=Eo(n).call(n,function(s){var u={from:s.source,id:s.id,to:s.target};return s.attributes!=null&&(u.attributes=s.attributes),s.label!=null&&(u.label=s.label),s.attributes!=null&&s.attributes.title!=null&&(u.title=s.attributes.title),s.type==="Directed"&&(u.arrows="to"),s.color&&r.edges.inheritColor===!1&&(u.color=s.color),u});return{nodes:Eo(t=i.nodes).call(t,function(s){var u={id:s.id,fixed:r.nodes.fixed&&s.x!=null&&s.y!=null};return s.attributes!=null&&(u.attributes=s.attributes),s.label!=null&&(u.label=s.label),s.size!=null&&(u.size=s.size),s.attributes!=null&&s.attributes.title!=null&&(u.title=s.attributes.title),s.title!=null&&(u.title=s.title),s.x!=null&&(u.x=s.x),s.y!=null&&(u.y=s.y),s.color!=null&&(r.nodes.parseColor===!0?u.color=s.color:u.color={background:s.color,border:s.color,highlight:{background:s.color,border:s.color},hover:{background:s.color,border:s.color}}),u}),edges:o}}var Sm=Object.freeze({__proto__:null,parseGephi:Sd}),$S=Object.freeze({__proto__:null,cn:{addDescription:"\u5355\u51FB\u7A7A\u767D\u5904\u653E\u7F6E\u65B0\u8282\u70B9\u3002",addEdge:"\u6DFB\u52A0\u8FDE\u63A5\u7EBF",addNode:"\u6DFB\u52A0\u8282\u70B9",back:"\u8FD4\u56DE",close:"\u95DC\u9589",createEdgeError:"\u65E0\u6CD5\u5C06\u8FDE\u63A5\u7EBF\u8FDE\u63A5\u5230\u7FA4\u96C6\u3002",del:"\u5220\u9664\u9009\u5B9A",deleteClusterError:"\u65E0\u6CD5\u5220\u9664\u7FA4\u96C6\u3002",edgeDescription:"\u5355\u51FB\u67D0\u4E2A\u8282\u70B9\u5E76\u5C06\u8BE5\u8FDE\u63A5\u7EBF\u62D6\u52A8\u5230\u53E6\u4E00\u4E2A\u8282\u70B9\u4EE5\u8FDE\u63A5\u5B83\u4EEC\u3002",edit:"\u7F16\u8F91",editClusterError:"\u65E0\u6CD5\u7F16\u8F91\u7FA4\u96C6\u3002",editEdge:"\u7F16\u8F91\u8FDE\u63A5\u7EBF",editEdgeDescription:"\u5355\u51FB\u63A7\u5236\u8282\u70B9\u5E76\u5C06\u5B83\u4EEC\u62D6\u5230\u8282\u70B9\u4E0A\u8FDE\u63A5\u3002",editNode:"\u7F16\u8F91\u8282\u70B9"},cs:{addDescription:"Kluknut\xEDm do pr\xE1zdn\xE9ho prostoru m\u016F\u017Eete p\u0159idat nov\xFD vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011Bt",close:"Zav\u0159\xEDt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xFDb\u011Br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017Een\xEDm z jednoho vrcholu do druh\xE9ho m\u016F\u017Eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017Een\xEDm kontroln\xEDho vrcholu hrany ji m\u016F\u017Eete p\u0159ipojit k jin\xE9mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xFCgen",addNode:"Knoten hinzuf\xFCgen",back:"Zur\xFCck",close:"Schlie\xDFen",createEdgeError:"Es ist nicht m\xF6glich, Kanten mit Clustern zu verbinden.",del:"L\xF6sche Auswahl",deleteClusterError:"Cluster k\xF6nnen nicht gel\xF6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xF6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vac\xEDo para colocar un nuevo nodo.",addEdge:"A\xF1adir arista",addNode:"A\xF1adir nodo",back:"Atr\xE1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xF3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xE9er un lien vers un cluster.",del:"Effacer la s\xE9lection",deleteClusterError:"Les clusters ne peuvent pas \xEAtre effac\xE9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xC9diter",editClusterError:"Les clusters ne peuvent pas \xEAtre \xE9dit\xE9s.",editEdge:"\xC9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xF4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xC9diter le n\u0153ud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xE7o em branco para adicionar um novo n\xF3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xF3",back:"Voltar",close:"Fechar",createEdgeError:"N\xE3o foi poss\xEDvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xE3o puderam ser removidos.",edgeDescription:"Clique em um n\xF3 e arraste a aresta at\xE9 outro n\xF3 para conect\xE1-los",edit:"Editar",editClusterError:"Clusters n\xE3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xF3 para conect\xE1-los",editNode:"Editar n\xF3"},ru:{addDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0432 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u043E\u0435 \u043C\u0435\u0441\u0442\u043E, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0443\u0437\u0435\u043B.",addEdge:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u043E",addNode:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0437\u0435\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u044B\u0432\u0430\u0442\u044C",createEdgeError:"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u0430 \u0432 \u043A\u043B\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435",deleteClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435 \u043C\u043E\u0433\u0443\u0442 \u0431\u044B\u0442\u044C \u0443\u0434\u0430\u043B\u0435\u043D\u044B",edgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u0443\u0437\u0435\u043B \u0438 \u043F\u0440\u043E\u0442\u044F\u043D\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043E \u043A \u0434\u0440\u0443\u0433\u043E\u043C\u0443 \u0443\u0437\u043B\u0443, \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",editClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0440\u0435\u0431\u0440\u043E",editEdgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u044B\u0435 \u0442\u043E\u0447\u043A\u0438 \u0438 \u043F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043B, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u043D\u0435\u043C\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0443\u0437\u0435\u043B"},uk:{addDescription:"K\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0456\u043B\u044C\u043D\u0435 \u043C\u0456\u0441\u0446\u0435, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u0432\u0443\u0437\u043E\u043B.",addEdge:"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",addNode:"\u0414\u043E\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438",createEdgeError:"\u041D\u0435 \u043C\u043E\u0436\u043B\u0438\u0432\u043E \u043E\u0431'\u0454\u0434\u043D\u0430\u0442\u0438 \u043A\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043F\u0443.",del:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043E\u0431\u0440\u0430\u043D\u0435",deleteClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435 \u043C\u043E\u0436\u0443\u0442\u044C \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u0456.",edgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0443\u0437\u043E\u043B \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u043A\u0440\u0430\u0439 \u0434\u043E \u0456\u043D\u0448\u043E\u0433\u043E \u0432\u0443\u0437\u043B\u0430, \u0449\u043E\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043D\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0456 \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",editEdgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u0456 \u0442\u043E\u0447\u043A\u0438 \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0457\u0445 \u0443 \u0432\u0443\u0437\u043E\u043B, \u0449\u043E\u0431 \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0438\u0441\u044F \u0434\u043E \u043D\u044C\u043E\u0433\u043E.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B"}}),PS=function(){function i(){z(this,i),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return L(i,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var r=Math.floor(t/2),n=Math.floor(t/4),o=Math.floor(t/8),s=Math.floor(t/16),u=Math.floor(e/2),h=Math.floor(e/4),v=Math.floor(e/8),g=Math.floor(e/16);this.canvas.width=3*h,this.canvas.height=r,this.coordinates=[[0,0,u,r],[u,0,h,n],[u,n,v,o],[5*v,n,g,s]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var r=1;r<this.NUM_ITERATIONS;r++){var n=this.coordinates[r-1],o=this.coordinates[r];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(e,t,r,n,o,s){if(this.initialized())if(t>2){t*=.5;for(var u=0;t>2&&u<this.NUM_ITERATIONS;)t*=.5,u+=1;u>=this.NUM_ITERATIONS&&(u=this.NUM_ITERATIONS-1);var h=this.coordinates[u];e.drawImage(this.canvas,h[0],h[1],h[2],h[3],r,n,o,s)}else e.drawImage(this.image,r,n,o,s)}}]),i}(),xm=function(){function i(e){z(this,i),this.images={},this.imageBroken={},this.callback=e}return L(i,[{key:"_tryloadBrokenUrl",value:function(e,t,r){e!==void 0&&r!==void 0&&(t!==void 0?(r.image.onerror=function(){console.error("Could not load brokenImage:",t)},r.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var r=this,n=this.images[e];if(n)return n;var o=new PS;return this.images[e]=o,o.image.onload=function(){r._fixImageCoordinates(o.image),o.init(),r._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",e),r._tryloadBrokenUrl(e,t,o)},o.image.src=e,o}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),i}(),Tm={exports:{}},CS=Y(function(){if(typeof ArrayBuffer=="function"){var i=new ArrayBuffer(8);Object.isExtensible(i)&&Object.defineProperty(i,"a",{value:8})}}),DS=Y,MS=Pe,AS=qr,Im=CS,Ro=Object.isExtensible,NS=DS(function(){Ro(1)})||Im?function(i){return!!MS(i)&&(!Im||AS(i)!=="ArrayBuffer")&&(!Ro||Ro(i))}:Ro,$m=!Y(function(){return Object.isExtensible(Object.preventExtensions({}))}),RS=te,FS=ke,BS=aa,jS=Pe,xd=ot,zS=Wt.f,nu=Oa,LS=bl,Td=NS,HS=$m,Pm=!1,Fr=Xn("meta"),Cm=0,Id=function(i){zS(i,Fr,{value:{objectID:"O"+Cm++,weakData:{}}})},WS=Tm.exports={enable:function(){WS.enable=function(){},Pm=!0;var i=nu.f,e=FS([].splice),t={};t[Fr]=1,i(t).length&&(nu.f=function(r){for(var n=i(r),o=0,s=n.length;o<s;o++)if(n[o]===Fr){e(n,o,1);break}return n},RS({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:LS.f}))},fastKey:function(i,e){if(!jS(i))return typeof i=="symbol"?i:(typeof i=="string"?"S":"P")+i;if(!xd(i,Fr)){if(!Td(i))return"F";if(!e)return"E";Id(i)}return i[Fr].objectID},getWeakData:function(i,e){if(!xd(i,Fr)){if(!Td(i))return!0;if(!e)return!1;Id(i)}return i[Fr].weakData},onFreeze:function(i){return HS&&Pm&&Td(i)&&!xd(i,Fr)&&Id(i),i}};BS[Fr]=!0;var ou=Tm.exports,$d=oa,US=Lt,VS=Ut,qS=en,GS=ul,Fo=Ye,Pd=Be,KS=fl,YS=Yr,Dm=Ah,Mm=TypeError,au=function(i,e){this.stopped=i,this.result=e},Am=au.prototype,Cd=function(i,e,t){var r,n,o,s,u,h,v,g=t&&t.that,y=!(!t||!t.AS_ENTRIES),w=!(!t||!t.IS_RECORD),k=!(!t||!t.IS_ITERATOR),E=!(!t||!t.INTERRUPTED),S=$d(e,g),$=function(A){return r&&Dm(r,"normal",A),new au(!0,A)},D=function(A){return y?(VS(A),E?S(A[0],A[1],$):S(A[0],A[1])):E?S(A,$):S(A)};if(w)r=i.iterator;else if(k)r=i;else{if(!(n=YS(i)))throw new Mm(qS(i)+" is not iterable");if(GS(n)){for(o=0,s=Fo(i);s>o;o++)if((u=D(i[o]))&&Pd(Am,u))return u;return new au(!1)}r=KS(i,n)}for(h=w?i.next:r.next;!(v=US(h,r)).done;){try{u=D(v.value)}catch(A){Dm(r,"throw",A)}if(typeof u=="object"&&u&&Pd(Am,u))return u}return new au(!1)},XS=Be,QS=TypeError,su=function(i,e){if(XS(e,i))return i;throw new QS("Incorrect invocation")},JS=te,ZS=he,ex=ou,Nm=Y,tx=eo,rx=Cd,ix=su,nx=et,ox=Pe,ax=si,sx=co,lx=Wt.f,ux=Qr.forEach,hx=it,cx=$r.set,dx=$r.getterFor,Dd=function(i,e,t){var r,n=i.indexOf("Map")!==-1,o=i.indexOf("Weak")!==-1,s=n?"set":"add",u=ZS[i],h=u&&u.prototype,v={};if(hx&&nx(u)&&(o||h.forEach&&!Nm(function(){new u().entries().next()}))){var g=(r=e(function(w,k){cx(ix(w,g),{type:i,collection:new u}),ax(k)||rx(k,w[s],{that:w,AS_ENTRIES:n})})).prototype,y=dx(i);ux(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(w){var k=w==="add"||w==="set";!(w in h)||o&&w==="clear"||tx(g,w,function(E,S){var $=y(this).collection;if(!k&&o&&!ox(E))return w==="get"&&void 0;var D=$[w](E===0?0:E,S);return k?this:D})}),o||lx(g,"size",{configurable:!0,get:function(){return y(this).collection.size}})}else r=t.getConstructor(e,i,n,s),ex.enable();return sx(r,i,!1,!0),v[i]=r,JS({global:!0,forced:!0},v),o||t.setStrong(r,i,n),r},Rm=ca,Md=function(i,e,t){for(var r in e)t&&t.unsafe&&i[r]?i[r]=e[r]:Rm(i,r,e[r],t);return i},fx=Mt,Ad=tc,vx=it,Fm=ce("species"),px=uo,gx=tc,Bm=Md,yx=oa,mx=su,bx=si,jm=Cd,zm=Dh,Lm=Mh,wx=function(i){var e=fx(i);vx&&e&&!e[Fm]&&Ad(e,Fm,{configurable:!0,get:function(){return this}})},Za=it,Hm=ou.fastKey,Wm=$r.set,Nd=$r.getterFor,Um={getConstructor:function(i,e,t,r){var n=i(function(v,g){mx(v,o),Wm(v,{type:e,index:px(null),first:void 0,last:void 0,size:0}),Za||(v.size=0),bx(g)||jm(g,v[r],{that:v,AS_ENTRIES:t})}),o=n.prototype,s=Nd(e),u=function(v,g,y){var w,k,E=s(v),S=h(v,g);return S?S.value=y:(E.last=S={index:k=Hm(g,!0),key:g,value:y,previous:w=E.last,next:void 0,removed:!1},E.first||(E.first=S),w&&(w.next=S),Za?E.size++:v.size++,k!=="F"&&(E.index[k]=S)),v},h=function(v,g){var y,w=s(v),k=Hm(g);if(k!=="F")return w.index[k];for(y=w.first;y;y=y.next)if(y.key===g)return y};return Bm(o,{clear:function(){for(var v=s(this),g=v.index,y=v.first;y;)y.removed=!0,y.previous&&(y.previous=y.previous.next=void 0),delete g[y.index],y=y.next;v.first=v.last=void 0,Za?v.size=0:this.size=0},delete:function(v){var g=this,y=s(g),w=h(g,v);if(w){var k=w.next,E=w.previous;delete y.index[w.index],w.removed=!0,E&&(E.next=k),k&&(k.previous=E),y.first===w&&(y.first=k),y.last===w&&(y.last=E),Za?y.size--:g.size--}return!!w},forEach:function(v){for(var g,y=s(this),w=yx(v,arguments.length>1?arguments[1]:void 0);g=g?g.next:y.first;)for(w(g.value,g.key,this);g&&g.removed;)g=g.previous},has:function(v){return!!h(this,v)}}),Bm(o,t?{get:function(v){var g=h(this,v);return g&&g.value},set:function(v,g){return u(this,v===0?0:v,g)}}:{add:function(v){return u(this,v=v===0?0:v,v)}}),Za&&gx(o,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(i,e,t){var r=e+" Iterator",n=Nd(e),o=Nd(r);zm(i,e,function(s,u){Wm(this,{type:r,target:s,state:n(s),kind:u,last:void 0})},function(){for(var s=o(this),u=s.kind,h=s.last;h&&h.removed;)h=h.previous;return s.target&&(s.last=h=h?h.next:s.state.first)?Lm(u==="keys"?h.key:u==="values"?h.value:[h.key,h.value],!1):(s.target=void 0,Lm(void 0,!0))},t?"entries":"values",!t,!0),wx(e)}};Dd("Map",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},Um);var Vm=K(be.Map),qm=function(){function i(){z(this,i),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Xe(this.options,this.defaultOptions)}return L(i,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(e!==void 0){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&we(t).call(t,r)===-1){var n=e[r];this.add(r,n)}}}},{key:"clear",value:function(){this._groups=new Vm,this._groupNames=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var n=this._groupIndex%this._groupNames.length;++this._groupIndex,(r={}).color=this._groups.get(this._groupNames[n]),this._groups.set(e,r)}else{var o=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(r={}).color=this._defaultGroups[o],this._groups.set(e,r)}return r}},{key:"add",value:function(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}]),i}();te({target:"Number",stat:!0},{isNaN:function(i){return i!=i}});var Rd=K(be.Number.isNaN),Gm=he.isFinite,_x=Number.isFinite||function(i){return typeof i=="number"&&Gm(i)};te({target:"Number",stat:!0},{isFinite:_x});var Mi=K(be.Number.isFinite),kx=Qr.some;te({target:"Array",proto:!0,forced:!Oo("some")},{some:function(i){return kx(this,i,arguments.length>1?arguments[1]:void 0)}});var Km=je("Array").some,Ex=Be,Ym=Km,Fd=Array.prototype,Ox=function(i){var e=i.some;return i===Fd||Ex(Fd,i)&&e===Fd.some?Ym:e},Sx=K(Ox),Ai=K(be.Object.getOwnPropertySymbols),Bd={exports:{}},xx=te,Tx=Y,mr=rr,Qt=Qi.f,es=it;xx({target:"Object",stat:!0,forced:!es||Tx(function(){Qt(1)}),sham:!es},{getOwnPropertyDescriptor:function(i,e){return Qt(mr(i),e)}});var lu=be.Object,Sn=Bd.exports=function(i,e){return lu.getOwnPropertyDescriptor(i,e)};lu.getOwnPropertyDescriptor.sham&&(Sn.sham=!0);var jd=Bd.exports,Ni=K(jd),Ix=pE,Bo=rr,xn=Qi,zd=Gt;te({target:"Object",stat:!0,sham:!it},{getOwnPropertyDescriptors:function(i){for(var e,t,r=Bo(i),n=xn.f,o=Ix(r),s={},u=0;o.length>u;)(t=n(r,e=o[u++]))!==void 0&&zd(s,e,t);return s}});var br=K(be.Object.getOwnPropertyDescriptors),Br={exports:{}},Xm=te,Qm=it,Jm=Pr.f;Xm({target:"Object",stat:!0,forced:Object.defineProperties!==Jm,sham:!Qm},{defineProperties:Jm});var Ld=be.Object,Zm=Br.exports=function(i,e){return Ld.defineProperties(i,e)};Ld.defineProperties.sham&&(Zm.sham=!0);var jo=K(Br.exports),jr=K(Dp);function Ri(i,e,t){return(e=Ug(e))in i?ka(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var zo=he,uu=Y,$x=Tr,eb=my.trim,Px=Kc,Cx=ke("".charAt),Fi=zo.parseFloat,tb=zo.Symbol,hu=tb&&tb.iterator,rb=1/Fi(Px+"-0")!=-1/0||hu&&!uu(function(){Fi(Object(hu))})?function(i){var e=eb($x(i)),t=Fi(e);return t===0&&Cx(e,0)==="-"?-0:t}:Fi;te({global:!0,forced:parseFloat!==rb},{parseFloat:rb});var ib=K(be.parseFloat),It=te,Tn=Y,Ze=bl.f;It({target:"Object",stat:!0,forced:Tn(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:Ze});var Bt=be.Object,cu=function(i){return Bt.getOwnPropertyNames(i)},ts=K(cu);function In(i,e){var t=["node","edge","label"],r=!0,n=Ci(e,"chosen");if(typeof n=="boolean")r=n;else if(Ee(n)==="object"){if(we(t).call(t,i)===-1)throw new Error("choosify: subOption '"+i+"' should be one of '"+t.join("', '")+"'");var o=Ci(e,["chosen",i]);typeof o!="boolean"&&typeof o!="function"||(r=o)}return r}function $n(i,e,t){if(i.width<=0||i.height<=0)return!1;if(t!==void 0){var r={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){var n=-t.angle;e={x:Math.cos(n)*r.x-Math.sin(n)*r.y,y:Math.sin(n)*r.x+Math.cos(n)*r.y}}else e=r}var o=i.x+i.width,s=i.y+i.width;return i.left<e.x&&o>e.x&&i.top<e.y&&s>e.y}function ii(i){return typeof i=="string"&&i!==""}function wr(i,e,t,r){var n=r.x,o=r.y;if(typeof r.distanceToBorder=="function"){var s=r.distanceToBorder(i,e),u=Math.sin(e)*s,h=Math.cos(e)*s;h===s?(n+=s,o=r.y):u===s?(n=r.x,o-=s):(n+=h,o-=u)}else r.shape.width>r.shape.height?(n=r.x+.5*r.shape.width,o=r.y-t):(n=r.x+t,o=r.y-.5*r.shape.height);return{x:n,y:o}}var Pn=je("Array").values,nb=fi,ob=ot,du=Be,ni=Pn,Lo=Array.prototype,Cn={DOMTokenList:!0,NodeList:!0},Dx=function(i){var e=i.values;return i===Lo||du(Lo,i)&&e===Lo.values||ob(Cn,nb(i))?ni:e},Hd=K(Dx),Wd=function(){function i(e){z(this,i),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return L(i,[{key:"_add",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var n=t;t!==void 0&&t!==""||(n=" ");var o=this.measureText(n,r),s=Xe({},Hd(o));s.text=t,s.width=o.width,s.mod=r,t!==void 0&&t!==""||(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}},{key:"newLine",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],r=0;if(t.blocks!==void 0)for(var n=0;n<t.blocks.length;n++){var o=t.blocks[n];r<o.height&&(r=o.height)}t.height=r}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,r=0;r<this.lines.length;r++){var n=this.lines[r];n.width>e&&(e=n.width),t+=n.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var r=this.lines[t];if(r.blocks.length!==0&&(t!==this.lines.length-1||r.width!==0)){var n={};Xe(n,r),n.blocks=[];for(var o=void 0,s=[],u=0;u<r.blocks.length;u++){var h=r.blocks[u];h.width!==0?s.push(h):o===void 0&&(o=h)}s.length===0&&o!==void 0&&s.push(o),n.blocks=s,e.push(n)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),i}(),ab={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},Ud=function(){function i(e){z(this,i),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return L(i,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){return this.modStack.length===0?"normal":this.modStack[0]==="mono"?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t))&&(this.setTag(e),!0)}},{key:"match",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=Ue(this.prepareRegExp(e),2),n=r[0],o=r[1],s=n.test(this.text.substr(this.position,o));return s&&t&&(this.position+=o-1),s}},{key:"parseEndTag",value:function(e,t,r){var n=this.mod()===e;return!(!(n=e==="mono"?n&&this.mono:n&&!this.mono)||!this.match(t))&&(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0)}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,r;if(e instanceof RegExp)r=e,t=1;else{var n=ab[e];r=n!==void 0?n:new RegExp(e),t=e.length}return[r,t]}}]),i}(),fu=function(){function i(e,t,r,n){var o=this;z(this,i),this.ctx=e,this.parent=t,this.selected=r,this.hover=n,this.lines=new Wd(function(s,u){if(s===void 0)return 0;var h=o.parent.getFormattingValues(e,r,n,u),v=0;return s!==""&&(v=o.ctx.measureText(s).width),{width:v,values:h}})}return L(i,[{key:"process",value:function(e){if(!ii(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,`
`)).replace(/\r/g,`
`);var r=String(e).split(`
`),n=r.length;if(t.multi)for(var o=0;o<n;o++){var s=this.splitBlocks(r[o],t.multi);if(s!==void 0)if(s.length!==0){if(t.maxWdt>0)for(var u=0;u<s.length;u++){var h=s[u].mod,v=s[u].text;this.splitStringIntoLines(v,h,!0)}else for(var g=0;g<s.length;g++){var y=s[g].mod,w=s[g].text;this.lines.append(w,y)}this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var k=0;k<n;k++)this.splitStringIntoLines(r[k]);else for(var E=0;E<n;E++)this.lines.newLine(r[E]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return e==="markdown"||e==="md"?t="markdown":e!==!0&&e!=="html"||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new Ud(e),r=function(o){return!!/&/.test(o)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)};t.position<t.text.length;){var n=t.text.charAt(t.position);t.parseWS(n)||/</.test(n)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(n)||t.add(n),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,r=new Ud(e),n=!0,o=function(u){return!!/\\/.test(u)&&(r.position<t.text.length+1&&(r.position++,u=t.text.charAt(r.position),/ \t/.test(u)?r.spacing=!0:(r.add(u),n=!1)),!0)};r.position<r.text.length;){var s=r.text.charAt(r.position);r.parseWS(s)||o(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}},{key:"splitBlocks",value:function(e,t){var r=this.decodeMarkupSystem(t);return r==="none"?[{text:e,mod:"normal"}]:r==="markdown"?this.splitMarkdownBlocks(e):r==="html"?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",r=0;r<e.length;){var n=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(n))break;t=n,r++}return r}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(vt(e).call(e,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var n=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");n.length>0;){var o=this.getLongestFit(n);if(o===0){var s=n[0],u=this.getLongestFitWord(s);this.lines.newLine(vt(s).call(s,0,u),t),n[0]=vt(s).call(s,u)}else{var h=o;n[o-1]===" "?o--:n[h]===" "&&h++;var v=vt(n).call(n,0,o).join("");o==n.length&&r?this.lines.append(v,t):this.lines.newLine(v,t),n=vt(n).call(n,h)}}}}]),i}(),Dn=["bold","ital","boldital","mono"],Vd=function(){function i(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];z(this,i),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}return L(i,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),ii(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(Ee(e.font)==="object"){var t=e.font.size;t!==void 0&&(this.baseSize=t)}}}},{key:"initFontOptions",value:function(e){var t=this;pe(Dn,function(r){t.fontOptions[r]={}}),i.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:pe(e,function(r,n){r!=null&&Ee(r)!=="object"&&(t.fontOptions[n]=r)})}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=Ci(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(Ee(r)==="object"){var n=Ci(e,["widthConstraint","maximum"]);typeof n=="number"&&(t.maxWdt=Number(n));var o=Ci(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}var s=Ci(e,"heightConstraint");if(typeof s=="number")t.minHgt=Number(s);else if(Ee(s)==="object"){var u=Ci(e,["heightConstraint","minimum"]);typeof u=="number"&&(t.minHgt=Number(u));var h=Ci(e,["heightConstraint","valign"]);typeof h=="string"&&(h!=="top"&&h!=="bottom"||(t.valign=h))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),Me(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=In("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}},{key:"addFontOptionsToPile",value:function(e,t){for(var r=0;r<t.length;++r)this.addFontToPile(e,t[r])}},{key:"addFontToPile",value:function(e,t){if(t!==void 0&&t.font!==void 0&&t.font!==null){var r=t.font;e.push(r)}}},{key:"getBasicOptions",value:function(e){for(var t={},r=0;r<e.length;++r){var n=e[r],o={};i.parseFontString(o,n)&&(n=o),pe(n,function(s,u){s!==void 0&&(Object.prototype.hasOwnProperty.call(t,u)||(we(Dn).call(Dn,u)!==-1?t[u]={}:t[u]=s))})}return t}},{key:"getFontOption",value:function(e,t,r){for(var n,o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(s,t)){if((n=s[t])==null)continue;var u={};if(i.parseFontString(u,n)&&(n=u),Object.prototype.hasOwnProperty.call(n,r))return n[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}},{key:"getFontOptions",value:function(e,t){for(var r={},n=["color","size","face","mod","vadjust"],o=0;o<n.length;++o){var s=n[o];r[s]=this.getFontOption(e,t,s)}return r}},{key:"propagateFonts",value:function(e){var t=this,r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(var n=function(){var s=Dn[o],u=t.fontOptions[s];pe(t.getFontOptions(r,s),function(h,v){u[v]=h}),u.size=Number(u.size),u.vadjust=Number(u.vadjust)},o=0;o<Dn.length;++o)n()}},{key:"draw",value:function(e,t,r,n,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var u=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&u<this.elementOptions.scaling.label.drawThreshold-1||(u>=this.elementOptions.scaling.label.maxVisible&&(u=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,o,t,r,s),this._drawBackground(e),this._drawText(e,t,this.size.yLine,s,u))}}},{key:"_drawBackground",value:function(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0,s=Ue(this._setAlignment(e,t,r,n),2);t=s[0],r=s[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(var u=0;u<this.lineCount;u++){var h=this.lines[u];if(h&&h.blocks){var v=0;this.isEdgeLabel||this.fontOptions.align==="center"?v+=(this.size.width-h.width)/2:this.fontOptions.align==="right"&&(v+=this.size.width-h.width);for(var g=0;g<h.blocks.length;g++){var y=h.blocks[g];e.font=y.font;var w=Ue(this._getColor(y.color,o,y.strokeColor),2),k=w[0],E=w[1];y.strokeWidth>0&&(e.lineWidth=y.strokeWidth,e.strokeStyle=E,e.lineJoin="round"),e.fillStyle=k,y.strokeWidth>0&&e.strokeText(y.text,t+v,r+y.vadjust),e.fillText(y.text,t+v,r+y.vadjust),v+=y.width}r+=h.height}}}},{key:"_setAlignment",value:function(e,t,r,n){return this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1?(t=0,r=0,this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=4):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=4):e.textBaseline="middle"):e.textBaseline=n,[t,r]}},{key:"_getColor",value:function(e,t,r){var n=e||"#000000",o=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));n=nr(n,s),o=nr(o,s)}return[n,o]}},{key:"getTextSize",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var r=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=r,t=.5*-this.size.height;break;case"top":e=r,t=-(this.size.height+2);break;case"bottom":e=r,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=n-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,s==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,r,n){var o=function(h,v,g){return v==="normal"?g==="mod"?"":h[g]:h[v][g]!==void 0?h[v][g]:h[g]},s={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?s.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(s,this.elementOptions.id,t,r));var u="";return s.mod!==void 0&&s.mod!==""&&(u+=s.mod+" "),u+=s.size+"px "+s.face,e.font=u.replace(/"/g,""),s.font=e.font,s.height=s.size,s}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,r,n){return new fu(e,this,t,r).process(n)}},{key:"_processLabel",value:function(e,t,r){if(this.labelDirty!==!1||this.differentState(t,r)){var n=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}}},{key:"visible",value:function(){return this.size.width!==0&&this.size.height!==0&&this.elementOptions.label!==void 0&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||typeof t!="string")return!1;var r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}}]),i}(),Mx=cl,sb=en,Ax=TypeError,Nx=te,qd=Vn,Rx=_v,lb=function(i){if(Mx(i))return i;throw new Ax(sb(i)+" is not a constructor")},rs=Ut,Ho=Pe,is=uo,Gd=Y,Bi=Mt("Reflect","construct"),Mn=Object.prototype,Fx=[].push,ub=Gd(function(){function i(){}return!(Bi(function(){},[],i)instanceof i)}),Kd=!Gd(function(){Bi(function(){})}),Yd=ub||Kd;Nx({target:"Reflect",stat:!0,forced:Yd,sham:Yd},{construct:function(i,e){lb(i),rs(e);var t=arguments.length<3?i:lb(arguments[2]);if(Kd&&!ub)return Bi(i,e,t);if(i===t){switch(e.length){case 0:return new i;case 1:return new i(e[0]);case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);case 4:return new i(e[0],e[1],e[2],e[3])}var r=[null];return qd(Fx,r,e),new(qd(Rx,i,r))}var n=t.prototype,o=is(Ho(n)?n:Mn),s=qd(i,o,e);return Ho(s)?s:o}});var M=K(be.Reflect.construct),ns=K(Sy);te({target:"Object",stat:!0},{setPrototypeOf:da});var os=K(be.Object.setPrototypeOf),Xd=K(Ov);function Qd(i,e){var t;return Qd=os?Xd(t=os).call(t):function(r,n){return r.__proto__=n,r},Qd(i,e)}function _e(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=ns(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),ka(i,"prototype",{writable:!1}),e&&Qd(i,e)}function xe(i,e){if(e&&(Ee(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)}var hb=K(py);function q(i){var e;return q=os?Xd(e=hb).call(e):function(t){return t.__proto__||hb(t)},q(i)}var An=function(){function i(e,t,r){z(this,i),this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return L(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&(Ee(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){var r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){var r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),ja(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,r,n,o){r!==void 0&&this.resize(r,n,o),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,r,n,o){this._updateBoundingBox(e,t,r,n,o)}},{key:"getDimensionsFromLabel",value:function(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);var n=this.textSize.width,o=this.textSize.height;return n===0&&(n=14,o=14),{width:n,height:o}}}]),i}();function Jd(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var Bx=function(i){_e(t,i);var e=Jd(t);function t(r,n,o){var s;return z(this,t),(s=e.call(this,r,n,o))._setMargins(o),s}return L(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(n,o)){var s=this.getDimensionsFromLabel(r,n,o);this.width=s.width+this.margin.right+this.margin.left,this.height=s.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(r,h),Sv(r,this.left,this.top,this.width,this.height,h.borderRadius),this.performFill(r,h),this.updateBoundingBox(n,o,r,s,u),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,u)}},{key:"updateBoundingBox",value:function(r,n,o,s,u){this._updateBoundingBox(r,n,o,s,u);var h=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(h)}},{key:"distanceToBorder",value:function(r,n){r&&this.resize(r);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(n)),Math.abs(this.height/2/Math.sin(n)))+o}}]),t}(An);function cb(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var vu=function(i){_e(t,i);var e=cb(t);function t(r,n,o){var s;return z(this,t),(s=e.call(this,r,n,o)).labelOffset=0,s.selected=!1,s}return L(t,[{key:"setOptions",value:function(r,n,o){this.options=r,n===void 0&&o===void 0||this.setImages(n,o)}},{key:"setImages",value:function(r,n){n&&this.selected?(this.imageObj=n,this.imageObjAlt=r):(this.imageObj=r,this.imageObjAlt=n)}},{key:"switchImages",value:function(r){var n=r&&!this.selected||!r&&this.selected;if(this.selected=r,this.imageObjAlt!==void 0&&n){var o=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=o}}},{key:"_getImagePadding",value:function(){var r={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var n=this.options.imagePadding;Ee(n)=="object"?(r.top=n.top,r.right=n.right,r.bottom=n.bottom,r.left=n.left):(r.top=n,r.right=n,r.bottom=n,r.left=n)}return r}},{key:"_resizeImage",value:function(){var r,n;if(this.options.shapeProperties.useImageSize===!1){var o=1,s=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?o=this.imageObj.width/this.imageObj.height:s=this.imageObj.height/this.imageObj.width),r=2*this.options.size*o,n=2*this.options.size*s}else{var u=this._getImagePadding();r=this.imageObj.width+u.left+u.right,n=this.imageObj.height+u.top+u.bottom}this.width=r,this.height=n,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(r,n,o,s){this.initContextForDraw(r,s),dh(r,n,o,s.size),this.performFill(r,s)}},{key:"_drawImageAtPosition",value:function(r,n){if(this.imageObj.width!=0){r.globalAlpha=n.opacity!==void 0?n.opacity:1,this.enableShadow(r,n);var o=1;this.options.shapeProperties.interpolation===!0&&(o=this.imageObj.width/this.width/this.body.view.scale);var s=this._getImagePadding(),u=this.left+s.left,h=this.top+s.top,v=this.width-s.left-s.right,g=this.height-s.top-s.bottom;this.imageObj.drawImageAtPosition(r,o,u,h,v,g),this.disableShadow(r,n)}}},{key:"_drawImageLabel",value:function(r,n,o,s,u){var h=0;if(this.height!==void 0){h=.5*this.height;var v=this.labelModule.getTextSize(r,s,u);v.lineCount>=1&&(h+=v.height/2)}var g=o+h;this.options.label&&(this.labelOffset=h),this.labelModule.draw(r,n,g,s,u,"hanging")}}]),t}(An);function jx(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var zx=function(i){_e(t,i);var e=jx(t);function t(r,n,o){var s;return z(this,t),(s=e.call(this,r,n,o))._setMargins(o),s}return L(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(n,o)){var s=this.getDimensionsFromLabel(r,n,o),u=Math.max(s.width+this.margin.right+this.margin.left,s.height+this.margin.top+this.margin.bottom);this.options.size=u/2,this.width=u,this.height=u,this.radius=this.width/2}}},{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u),this.left=n-this.width/2,this.top=o-this.height/2,this._drawRawCircle(r,n,o,h),this.updateBoundingBox(n,o),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,o,s,u)}},{key:"updateBoundingBox",value:function(r,n){this.boundingBox.top=n-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=n+this.options.size}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),.5*this.width}}]),t}(vu);function db(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var Lx=function(i){_e(t,i);var e=db(t);function t(r,n,o,s,u){var h;return z(this,t),(h=e.call(this,r,n,o)).setImages(s,u),h}return L(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){var s=2*this.options.size;return this.width=s,this.height=s,void(this.radius=.5*this.width)}this.needsRefresh(n,o)&&this._resizeImage()}},{key:"draw",value:function(r,n,o,s,u,h){this.switchImages(s),this.resize();var v=n,g=o;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=n,this.top=o,v+=this.width/2,g+=this.height/2):(this.left=n-this.width/2,this.top=o-this.height/2),this._drawRawCircle(r,v,g,h),r.save(),r.clip(),this._drawImageAtPosition(r,h),r.restore(),this._drawImageLabel(r,v,g,s,u),this.updateBoundingBox(n,o)}},{key:"updateBoundingBox",value:function(r,n){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=n,this.boundingBox.left=r,this.boundingBox.right=r+2*this.options.size,this.boundingBox.bottom=n+2*this.options.size):(this.boundingBox.top=n-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=n+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),.5*this.width}}]),t}(vu);function Wo(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var _r=function(i){_e(t,i);var e=Wo(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(n,o)){var u,h;this.labelModule.getTextSize(r,n,o);var v=2*s.size;this.width=(u=this.customSizeWidth)!==null&&u!==void 0?u:v,this.height=(h=this.customSizeHeight)!==null&&h!==void 0?h:v,this.radius=.5*this.width}}},{key:"_drawShape",value:function(r,n,o,s,u,h,v,g){var y,w=this;return this.resize(r,h,v,g),this.left=s-this.width/2,this.top=u-this.height/2,this.initContextForDraw(r,g),(y=n,Object.prototype.hasOwnProperty.call(xr,y)?xr[y]:function(k){for(var E=arguments.length,S=new Array(E>1?E-1:0),$=1;$<E;$++)S[$-1]=arguments[$];CanvasRenderingContext2D.prototype[y].call(k,S)})(r,s,u,g.size),this.performFill(r,g),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(r.font=(h?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),r.fillStyle=this.options.icon.color||"black",r.textAlign="center",r.textBaseline="middle",r.fillText(this.options.icon.code,s,u)),{drawExternalLabel:function(){if(w.options.label!==void 0){w.labelModule.calculateLabelSize(r,h,v,s,u,"hanging");var k=u+.5*w.height+.5*w.labelModule.size.height;w.labelModule.draw(r,s,k,h,v,"hanging")}w.updateBoundingBox(s,u)}}}},{key:"updateBoundingBox",value:function(r,n){this.boundingBox.top=n-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=n+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(An);function Jt(i,e){var t=Ve(i);if(Ai){var r=Ai(i);e&&(r=Ot(r).call(r,function(n){return Ni(i,n).enumerable})),t.push.apply(t,r)}return t}function Uo(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Ce(t=Jt(Object(n),!0)).call(t,function(o){Ri(i,o,n[o])}):br?jo(i,br(n)):Ce(r=Jt(Object(n))).call(r,function(o){jr(i,o,Ni(n,o))})}return i}function ji(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var oi=function(i){_e(t,i);var e=ji(t);function t(r,n,o,s){var u;return z(this,t),(u=e.call(this,r,n,o,s)).ctxRenderer=s,u}return L(t,[{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u,h),this.left=n-this.width/2,this.top=o-this.height/2,r.save();var v=this.ctxRenderer({ctx:r,id:this.options.id,x:n,y:o,state:{selected:s,hover:u},style:Uo({},h),label:this.options.label});if(v.drawNode!=null&&v.drawNode(),r.restore(),v.drawExternalLabel){var g=v.drawExternalLabel;v.drawExternalLabel=function(){r.save(),g(),r.restore()}}return v.nodeDimensions&&(this.customSizeWidth=v.nodeDimensions.width,this.customSizeHeight=v.nodeDimensions.height),v}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(_r);function as(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var zr=function(i){_e(t,i);var e=as(t);function t(r,n,o){var s;return z(this,t),(s=e.call(this,r,n,o))._setMargins(o),s}return L(t,[{key:"resize",value:function(r,n,o){if(this.needsRefresh(n,o)){var s=this.getDimensionsFromLabel(r,n,o).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}},{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(r,h),xv(r,n-this.width/2,o-this.height/2,this.width,this.height),this.performFill(r,h),this.updateBoundingBox(n,o,r,s,u),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,u)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(An);function Hx(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var Wx=function(i){_e(t,i);var e=Hx(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"diamond",4,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(_r);function pu(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var fb=function(i){_e(t,i);var e=pu(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"circle",2,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),this.options.size}}]),t}(_r);function ss(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var Zd=function(i){_e(t,i);var e=ss(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(n,o)){var s=this.getDimensionsFromLabel(r,n,o);this.height=2*s.height,this.width=s.width+s.height,this.radius=.5*this.width}}},{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u),this.left=n-.5*this.width,this.top=o-.5*this.height,this.initContextForDraw(r,h),fh(r,this.left,this.top,this.width,this.height),this.performFill(r,h),this.updateBoundingBox(n,o,r,s,u),this.labelModule.draw(r,n,o,s,u)}},{key:"distanceToBorder",value:function(r,n){r&&this.resize(r);var o=.5*this.width,s=.5*this.height,u=Math.sin(n)*o,h=Math.cos(n)*s;return o*s/Math.sqrt(u*u+h*h)}}]),t}(An);function Vo(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var vb=function(i){_e(t,i);var e=Vo(t);function t(r,n,o){var s;return z(this,t),(s=e.call(this,r,n,o))._setMargins(o),s}return L(t,[{key:"resize",value:function(r,n,o){this.needsRefresh(n,o)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(r,n,o,s,u,h){var v=this;return this.resize(r,s,u),this.options.icon.size=this.options.icon.size||50,this.left=n-this.width/2,this.top=o-this.height/2,this._icon(r,n,o,s,u,h),{drawExternalLabel:function(){v.options.label!==void 0&&v.labelModule.draw(r,v.left+v.iconSize.width/2+v.margin.left,o+v.height/2+5,s),v.updateBoundingBox(n,o)}}}},{key:"updateBoundingBox",value:function(r,n){this.boundingBox.top=n-.5*this.options.icon.size,this.boundingBox.left=r-.5*this.options.icon.size,this.boundingBox.right=r+.5*this.options.icon.size,this.boundingBox.bottom=n+.5*this.options.icon.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(r,n,o,s,u,h){var v=Number(this.options.icon.size);this.options.icon.code!==void 0?(r.font=[this.options.icon.weight!=null?this.options.icon.weight:s?"bold":"",(this.options.icon.weight!=null&&s?5:0)+v+"px",this.options.icon.face].join(" "),r.fillStyle=this.options.icon.color||"black",r.textAlign="center",r.textBaseline="middle",this.enableShadow(r,h),r.fillText(this.options.icon.code,n,o),this.disableShadow(r,h)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(An);function ef(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var pb=function(i){_e(t,i);var e=ef(t);function t(r,n,o,s,u){var h;return z(this,t),(h=e.call(this,r,n,o)).setImages(s,u),h}return L(t,[{key:"resize",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){var s=2*this.options.size;return this.width=s,void(this.height=s)}this.needsRefresh(n,o)&&this._resizeImage()}},{key:"draw",value:function(r,n,o,s,u,h){r.save(),this.switchImages(s),this.resize();var v=n,g=o;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=n,this.top=o,v+=this.width/2,g+=this.height/2):(this.left=n-this.width/2,this.top=o-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var y=this.options.borderWidth,w=this.options.borderWidthSelected||2*this.options.borderWidth,k=(s?w:y)/this.body.view.scale;r.lineWidth=Math.min(this.width,k),r.beginPath();var E=s?this.options.color.highlight.border:u?this.options.color.hover.border:this.options.color.border,S=s?this.options.color.highlight.background:u?this.options.color.hover.background:this.options.color.background;h.opacity!==void 0&&(E=nr(E,h.opacity),S=nr(S,h.opacity)),r.strokeStyle=E,r.fillStyle=S,r.rect(this.left-.5*r.lineWidth,this.top-.5*r.lineWidth,this.width+r.lineWidth,this.height+r.lineWidth),ja(r).call(r),this.performStroke(r,h),r.closePath()}this._drawImageAtPosition(r,h),this._drawImageLabel(r,v,g,s,u),this.updateBoundingBox(n,o),r.restore()}},{key:"updateBoundingBox",value:function(r,n){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n):(this.left=r-this.width/2,this.top=n-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(vu);function gb(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var yb=function(i){_e(t,i);var e=gb(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"square",2,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(_r);function mb(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var bb=function(i){_e(t,i);var e=mb(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"hexagon",4,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(_r);function wb(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var Ux=function(i){_e(t,i);var e=wb(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"star",4,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(_r);function _b(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var kb=function(i){_e(t,i);var e=_b(t);function t(r,n,o){var s;return z(this,t),(s=e.call(this,r,n,o))._setMargins(o),s}return L(t,[{key:"resize",value:function(r,n,o){this.needsRefresh(n,o)&&(this.textSize=this.labelModule.getTextSize(r,n,o),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(r,n,o,s,u,h){this.resize(r,s,u),this.left=n-this.width/2,this.top=o-this.height/2,this.enableShadow(r,h),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,u),this.disableShadow(r,h),this.updateBoundingBox(n,o,r,s,u)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(An);function Vx(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var Eb=function(i){_e(t,i);var e=Vx(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"triangle",3,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(_r);function qx(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var Gx=function(i){_e(t,i);var e=qx(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"draw",value:function(r,n,o,s,u,h){return this._drawShape(r,"triangleDown",3,n,o,s,u,h)}},{key:"distanceToBorder",value:function(r,n){return this._distanceToBorder(r,n)}}]),t}(_r);function Ob(i,e){var t=Ve(i);if(Ai){var r=Ai(i);e&&(r=Ot(r).call(r,function(n){return Ni(i,n).enumerable})),t.push.apply(t,r)}return t}function Sb(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Ce(t=Ob(Object(n),!0)).call(t,function(o){Ri(i,o,n[o])}):br?jo(i,br(n)):Ce(r=Ob(Object(n))).call(r,function(o){jr(i,o,Ni(n,o))})}return i}var Zt=function(){function i(e,t,r,n,o,s){z(this,i),this.options=Pi(o),this.globalOptions=o,this.defaultOptions=s,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Vd(this.body,this.options,!1),this.setOptions(e)}return L(i,[{key:"attachEdge",value:function(e){var t;we(t=this.edges).call(t,e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t,r,n=we(t=this.edges).call(t,e);n!=-1&&pr(r=this.edges).call(r,n,1)}},{key:"setOptions",value:function(e){var t=this.options.shape;if(e){if(e.color!==void 0&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");i.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Yt(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Yt(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=ib(e.value)),i.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var r=[e,this.options,this.defaultOptions];return this.chooser=In("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&i.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var t=this.options.opacity;e.borderColor=nr(e.borderColor,t),e.color=nr(e.color,t),e.shadowColor=nr(e.shadowColor,t)}return e}},{key:"updateLabelModule",value:function(e){this.options.label!==void 0&&this.options.label!==null||(this.options.label=""),i.updateGroupOptions(this.options,Sb(Sb({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Bx(this.options,this.body,this.labelModule);break;case"circle":this.shape=new zx(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Lx(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new oi(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new zr(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Wx(this.options,this.body,this.labelModule);break;case"dot":this.shape=new fb(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new Zd(this.options,this.body,this.labelModule);break;case"icon":this.shape=new vb(this.options,this.body,this.labelModule);break;case"image":this.shape=new pb(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new yb(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new bb(this.options,this.body,this.labelModule);break;case"star":this.shape=new Ux(this.options,this.body,this.labelModule);break;case"text":this.shape=new kb(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Eb(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Gx(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,r){if(this.options.value!==void 0){var n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&$n(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),$n(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return e===void 0||e==="center"||e==="top-left"}},{key:"updateGroupOptions",value:function(e,t,r){var n;if(r!==void 0){var o=e.group;if(t!==void 0&&t.group!==void 0&&o!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(typeof o=="number"||typeof o=="string"&&o!=""){var s=r.get(o);s.opacity!==void 0&&t.opacity===void 0&&(i.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var u=Ot(n=ts(t)).call(n,function(h){return t[h]!=null});u.push("font"),$i(u,e,s),e.color=tu(e.color)}}}},{key:"parseOptions",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if($i(["color","fixed","shadow"],e,t,r),i.checkMass(t),e.opacity!==void 0&&(i.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(i.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!i.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),or(e,t,"shadow",n),t.color!==void 0&&t.color!==null){var s=tu(t.color);Ya(e.color,s)}else r===!0&&t.color===null&&(e.color=Pi(n.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=Pi(n.font)),i.updateGroupOptions(e,t,o),t.scaling!==void 0&&or(e.scaling,t.scaling,"label",n.scaling)}},{key:"checkMass",value:function(e,t){if(e.mass!==void 0&&e.mass<=0){var r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",dm),e.mass=1}}}]),i}();function xb(i,e){var t=ki!==void 0&&kt(i)||i["@@iterator"];if(!t){if(Se(i)||(t=function(h,v){var g;if(!!h){if(typeof h=="string")return tf(h,v);var y=vt(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return hn(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return tf(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function tf(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}var Kx=function(){function i(e,t,r,n){var o,s=this;if(z(this,i),this.body=e,this.images=t,this.groups=r,this.layoutEngine=n,this.body.functions.createNode=N(o=this.create).call(o,this),this.nodesListeners={add:function(u,h){s.add(h.items)},update:function(u,h){s.update(h.items,h.data,h.oldData)},remove:function(u,h){s.remove(h.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(u,h,v,g){if(h===u)return .5;var y=1/(h-u);return Math.max(0,(g-u)*y)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Pi(this.defaultOptions),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e,t,r=this;this.body.emitter.on("refreshNodes",N(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",N(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){pe(r.nodesListeners,function(n,o){r.body.data.nodes&&r.body.data.nodes.off(o,n)}),delete r.body.functions.createNode,delete r.nodesListeners.add,delete r.nodesListeners.update,delete r.nodesListeners.remove,delete r.nodesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){if(Zt.parseOptions(this.options,e),e.opacity!==void 0&&(Rd(e.opacity)||!Mi(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(e.font!==void 0||e.widthConstraint!==void 0||e.heightConstraint!==void 0)for(var r=0,n=Ve(this.body.nodes);r<n.length;r++){var o=n[r];this.body.nodes[o].updateLabelModule(),this.body.nodes[o].needsRefresh()}if(e.size!==void 0)for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.body.nodes[s].needsRefresh();e.hidden===void 0&&e.physics===void 0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.body.data.nodes;if(Vr.isDataViewLike("id",e))this.body.data.nodes=e;else if(Se(e))this.body.data.nodes=new Vr.DataSet,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new Vr.DataSet}if(r&&pe(this.nodesListeners,function(s,u){r.off(u,s)}),this.body.nodes={},this.body.data.nodes){var n=this;pe(this.nodesListeners,function(s,u){n.body.data.nodes.on(u,s)});var o=this.body.data.nodes.getIds();this.add(o,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=[],o=0;o<e.length;o++){t=e[o];var s=this.body.data.nodes.get(t),u=this.create(s);n.push(u),this.body.nodes[t]=u}this.layoutEngine.positionInitially(n),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,r){for(var n=this.body.nodes,o=!1,s=0;s<e.length;s++){var u=e[s],h=n[u],v=t[s];h!==void 0?h.setOptions(v)&&(o=!0):(o=!0,h=this.create(v),n[u]=h)}o||r===void 0||(o=Sx(t).call(t,function(g,y){var w=r[y];return w&&w.level!==g.level})),o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,r=0;r<e.length;r++)delete t[e[r]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){return new(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zt)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];pe(this.body.nodes,function(r,n){var o=e.body.data.nodes.get(n);o!==void 0&&(t===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(o))})}},{key:"getPositions",value:function(e){var t={};if(e!==void 0){if(Se(e)===!0){for(var r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){var n=this.body.nodes[e[r]];t[e[r]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){var o=this.body.nodes[e];t[e]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var u=this.body.nodes[this.body.nodeIndices[s]];t[this.body.nodeIndices[s]]={x:Math.round(u.x),y:Math.round(u.y)}}return t}},{key:"getPosition",value:function(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,t=[],r=this.body.data.nodes.getDataSet(),n=xb(r.get());try{for(n.s();!(e=n.n()).done;){var o=e.value,s=o.id,u=this.body.nodes[s],h=Math.round(u.x),v=Math.round(u.y);o.x===h&&o.y===v||t.push({id:s,x:h,y:v})}}catch(g){n.e(g)}finally{n.f()}r.update(t)}},{key:"getBoundingBox",value:function(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var r=[];if(this.body.nodes[e]!==void 0)for(var n=this.body.nodes[e],o={},s=0;s<n.edges.length;s++){var u=n.edges[s];t!=="to"&&u.toId==n.id?o[u.fromId]===void 0&&(r.push(u.fromId),o[u.fromId]=!0):t!=="from"&&u.fromId==n.id&&o[u.toId]===void 0&&(r.push(u.toId),o[u.toId]=!0)}return r}},{key:"getConnectedEdges",value:function(e){var t=[];if(this.body.nodes[e]!==void 0)for(var r=this.body.nodes[e],n=0;n<r.edges.length;n++)t.push(r.edges[n].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,r){var n=this;this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Nr(function(){n.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),i}(),Tb=ot,Ib=Lt,Yx=Pe,Xx=Ut,$b=function(i){return i!==void 0&&(Tb(i,"value")||Tb(i,"writable"))},Qx=Qi,Pb=sn;te({target:"Reflect",stat:!0},{get:function i(e,t){var r,n,o=arguments.length<3?e:arguments[2];return Xx(e)===o?e[t]:(r=Qx.f(e,t))?$b(r)?r.value:r.get===void 0?void 0:Ib(r.get,o):Yx(n=Pb(e))?i(n,t,o):void 0}});var gu=K(be.Reflect.get),Jx=K(jd);function ls(){var i;return typeof Reflect<"u"&&gu?ls=Xd(i=gu).call(i):ls=function(e,t,r){var n=function(s,u){for(;!Object.prototype.hasOwnProperty.call(s,u)&&(s=q(s))!==null;);return s}(e,t);if(n){var o=Jx(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ls.apply(this,arguments)}var yu=te,rf=Math.hypot,Cb=Math.abs,Zx=Math.sqrt;yu({target:"Math",stat:!0,arity:2,forced:!!rf&&rf(1/0,NaN)!==1/0},{hypot:function(i,e){for(var t,r,n=0,o=0,s=arguments.length,u=0;o<s;)u<(t=Cb(arguments[o++]))?(n=n*(r=u/t)*r+1,u=t):n+=t>0?(r=t/u)*r:t;return u===1/0?1/0:u*Zx(n)}});var eT=K(be.Math.hypot);function Lr(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var Ke=function(){function i(){z(this,i)}return L(i,null,[{key:"transform",value:function(e,t){Se(e)||(e=[e]);for(var r=t.point.x,n=t.point.y,o=t.angle,s=t.length,u=0;u<e.length;++u){var h=e[u],v=h.x*Math.cos(o)-h.y*Math.sin(o),g=h.x*Math.sin(o)+h.y*Math.cos(o);h.x=r+s*v,h.y=n+s*g}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}]),i}(),tT=function(i){_e(t,i);var e=Lr(t);function t(){return z(this,t),e.apply(this,arguments)}return L(t,null,[{key:"draw",value:function(r,n){if(n.image){r.save(),r.translate(n.point.x,n.point.y),r.rotate(Math.PI/2+n.angle);var o=n.imageWidth!=null?n.imageWidth:n.image.width,s=n.imageHeight!=null?n.imageHeight:n.image.height;n.image.drawImageAtPosition(r,1,-o/2,0,o,s),r.restore()}return!1}}]),t}(Ke),rT=function(i){_e(t,i);var e=Lr(t);function t(){return z(this,t),e.apply(this,arguments)}return L(t,null,[{key:"draw",value:function(r,n){var o=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ke.transform(o,n),Ke.drawPath(r,o),!0}}]),t}(Ke),iT=function(){function i(){z(this,i)}return L(i,null,[{key:"draw",value:function(e,t){var r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ke.transform(r,t),Ke.drawPath(e,r),!0}}]),i}(),Db=function(){function i(){z(this,i)}return L(i,null,[{key:"draw",value:function(e,t){var r={x:-.4,y:0};Ke.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,o=t.angle-n/2,s=t.angle+n/2;return e.beginPath(),e.arc(r.x,r.y,.4*t.length,o,s,!1),e.stroke(),!0}}]),i}(),nT=function(){function i(){z(this,i)}return L(i,null,[{key:"draw",value:function(e,t){var r={x:-.3,y:0};Ke.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,o=t.angle+n/2,s=t.angle+3*n/2;return e.beginPath(),e.arc(r.x,r.y,.4*t.length,o,s,!1),e.stroke(),!0}}]),i}(),oT=function(){function i(){z(this,i)}return L(i,null,[{key:"draw",value:function(e,t){var r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ke.transform(r,t),Ke.drawPath(e,r),!0}}]),i}(),nf=function(){function i(){z(this,i)}return L(i,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ke.transform(r,t),Ke.drawPath(e,r),!0}}]),i}(),aT=function(){function i(){z(this,i)}return L(i,null,[{key:"draw",value:function(e,t){var r={x:-.4,y:0};return Ke.transform(r,t),dh(e,r.x,r.y,.4*t.length),!0}}]),i}(),Mb=function(){function i(){z(this,i)}return L(i,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ke.transform(r,t),Ke.drawPath(e,r),!0}}]),i}(),sT=function(){function i(){z(this,i)}return L(i,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ke.transform(r,t),Ke.drawPath(e,r),!0}}]),i}(),Ab=function(){function i(){z(this,i)}return L(i,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ke.transform(r,t),Ke.drawPath(e,r),!0}}]),i}(),lT=function(){function i(){z(this,i)}return L(i,null,[{key:"draw",value:function(e,t){var r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ke.transform(r,t),Ke.drawPath(e,r),!0}}]),i}(),of=function(){function i(){z(this,i)}return L(i,null,[{key:"draw",value:function(e,t){var r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return tT.draw(e,t);case"circle":return aT.draw(e,t);case"box":return sT.draw(e,t);case"crow":return iT.draw(e,t);case"curve":return Db.draw(e,t);case"diamond":return Ab.draw(e,t);case"inv_curve":return nT.draw(e,t);case"triangle":return oT.draw(e,t);case"inv_triangle":return nf.draw(e,t);case"bar":return Mb.draw(e,t);case"vee":return lT.draw(e,t);default:return rT.draw(e,t)}}}]),i}();function mu(i,e){var t=Ve(i);if(Ai){var r=Ai(i);e&&(r=Ot(r).call(r,function(n){return Ni(i,n).enumerable})),t.push.apply(t,r)}return t}function Nb(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Ce(t=mu(Object(n),!0)).call(t,function(o){Ri(i,o,n[o])}):br?jo(i,br(n)):Ce(r=mu(Object(n))).call(r,function(o){jr(i,o,Ni(n,o))})}return i}var Rb=function(){function i(e,t,r){z(this,i),this._body=t,this._labelModule=r,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return L(i,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,r,n){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,o):this._drawLine(e,t,o)}},{key:"_drawLine",value:function(e,t,r,n,o){if(this.from!=this.to)this._line(e,t,r,n,o);else{var s=Ue(this._getCircleData(e),3),u=s[0],h=s[1],v=s[2];this._circle(e,t,u,h,v)}}},{key:"_drawDashedLine",value:function(e,t,r,n,o){e.lineCap="round";var s=Se(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(s),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{var u=Ue(this._getCircleData(e),3),h=u[0],v=u[1],g=u[2];this._circle(e,t,h,v,g)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)Tv(e,this.from.x,this.from.y,this.to.x,this.to.y,s);else{var y=Ue(this._getCircleData(e),3),w=y[0],k=y[1],E=y[2];this._circle(e,t,w,k,E)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t,r=Ue(vt(t=this._getCircleData(e)).call(t,0,2),2),n=r[0],o=r[1];return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);var r=wr(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}},{key:"_pointOnCircle",value:function(e,t,r,n){var o=2*n*Math.PI;return{x:e+r*Math.cos(o),y:t-r*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(e,t,r){var n,o=r.x,s=r.y,u=r.low,h=r.high,v=r.direction,g=this.options.selfReference.size,y=.5*(u+h),w=0;this.options.arrowStrikethrough===!0&&(v===-1?w=this.options.endPointOffset.from:v===1&&(w=this.options.endPointOffset.to));var k=0;do{y=.5*(u+h),n=this._pointOnCircle(o,s,g,y);var E=Math.atan2(e.y-n.y,e.x-n.x),S=e.distanceToBorder(t,E)+w-Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));if(Math.abs(S)<.05)break;S>0?v>0?u=y:h=y:v>0?h=y:u=y,++k}while(u<=h&&k<10);return Nb(Nb({},n),{},{t:y})}},{key:"getLineWidth",value:function(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){var r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=nr(this.from.options.color.border,t.opacity),o=nr(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?o=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),r.addColorStop(0,n),r.addColorStop(1,o),r}return t.inheritsColor==="to"?nr(this.to.options.color.border,t.opacity):nr(this.from.options.color.border,t.opacity)}return nr(t.color,t.opacity)}},{key:"_circle",value:function(e,t,r,n,o){this.enableShadow(e,t);var s=0,u=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var h=this.options.selfReference.angle,v=this.options.selfReference.angle+Math.PI,g=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:h,high:v,direction:-1}),y=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:h,high:v,direction:1});s=Math.atan2(g.y-n,g.x-r),u=Math.atan2(y.y-n,y.x-r)}e.beginPath(),e.arc(r,n,o,s,u,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,r,n,o,s){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,n,o,s);var u=Ue(this._getCircleData(void 0),3),h=u[0],v=u[1],g=u[2],y=h-o,w=v-s;return Math.abs(Math.sqrt(y*y+w*w)-g)}},{key:"_getDistanceToLine",value:function(e,t,r,n,o,s){var u=r-e,h=n-t,v=((o-e)*u+(s-t)*h)/(u*u+h*h);v>1?v=1:v<0&&(v=0);var g=e+v*u-o,y=t+v*h-s;return Math.sqrt(g*g+y*y)}},{key:"getArrowData",value:function(e,t,r,n,o,s){var u,h,v,g,y,w,k,E=s.width;t==="from"?(v=this.from,g=this.to,y=s.fromArrowScale<0,w=Math.abs(s.fromArrowScale),k=s.fromArrowType):t==="to"?(v=this.to,g=this.from,y=s.toArrowScale<0,w=Math.abs(s.toArrowScale),k=s.toArrowType):(v=this.to,g=this.from,y=s.middleArrowScale<0,w=Math.abs(s.middleArrowScale),k=s.middleArrowType);var S=15*w+3*E;if(v!=g){var $=S/eT(v.x-g.x,v.y-g.y);if(t!=="middle")if(this.options.smooth.enabled===!0){var D=this._findBorderPosition(v,e,{via:r}),A=this.getPoint(D.t+$*(t==="from"?1:-1),r);u=Math.atan2(D.y-A.y,D.x-A.x),h=D}else u=Math.atan2(v.y-g.y,v.x-g.x),h=this._findBorderPosition(v,e);else{var B=(y?-$:$)/2,H=this.getPoint(.5+B,r),J=this.getPoint(.5-B,r);u=Math.atan2(H.y-J.y,H.x-J.x),h=this.getPoint(.5,r)}}else{var de=Ue(this._getCircleData(e),3),ue=de[0],ae=de[1],Q=de[2];if(t==="from"){var Te=this.options.selfReference.angle,ye=this.options.selfReference.angle+Math.PI,$e=this._findBorderPositionCircle(this.from,e,{x:ue,y:ae,low:Te,high:ye,direction:-1});u=-2*$e.t*Math.PI+1.5*Math.PI+.1*Math.PI,h=$e}else if(t==="to"){var Fe=this.options.selfReference.angle,ze=this.options.selfReference.angle+Math.PI,sr=this._findBorderPositionCircle(this.from,e,{x:ue,y:ae,low:Fe,high:ze,direction:1});u=-2*sr.t*Math.PI+1.5*Math.PI-1.1*Math.PI,h=sr}else{var tt=this.options.selfReference.angle/(2*Math.PI);h=this._pointOnCircle(ue,ae,Q,tt),u=-2*tt*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:h,core:{x:h.x-.9*S*Math.cos(u),y:h.y-.9*S*Math.sin(u)},angle:u,length:S,type:k}}},{key:"drawArrowHead",value:function(e,t,r,n,o){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,of.draw(e,o)&&(this.enableShadow(e,t),ja(e).call(e),this.disableShadow(e,t))}},{key:"enableShadow",value:function(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(t.background!==!1){var r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(t!==!1)if(e.setLineDash!==void 0){var r=Se(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),i}();function af(i,e){var t=Ve(i);if(Ai){var r=Ai(i);e&&(r=Ot(r).call(r,function(n){return Ni(i,n).enumerable})),t.push.apply(t,r)}return t}function sf(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Ce(t=af(Object(n),!0)).call(t,function(o){Ri(i,o,n[o])}):br?jo(i,br(n)):Ce(r=af(Object(n))).call(r,function(o){jr(i,o,Ni(n,o))})}return i}function Fb(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var lf=function(i){_e(t,i);var e=Fb(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"_findBorderPositionBezier",value:function(r,n){var o,s,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),h=!1,v=1,g=0,y=this.to,w=this.options.endPointOffset?this.options.endPointOffset.to:0;r.id===this.from.id&&(y=this.from,h=!0,w=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(w=0);var k=0;do{s=.5*(g+v),o=this.getPoint(s,u);var E=Math.atan2(y.y-o.y,y.x-o.x),S=y.distanceToBorder(n,E)+w-Math.sqrt(Math.pow(o.x-y.x,2)+Math.pow(o.y-y.y,2));if(Math.abs(S)<.2)break;S<0?h===!1?g=s:v=s:h===!1?v=s:g=s,++k}while(g<=v&&k<10);return sf(sf({},o),{},{t:s})}},{key:"_getDistanceToBezierEdge",value:function(r,n,o,s,u,h,v){var g,y,w,k,E,S=1e9,$=r,D=n;for(y=1;y<10;y++)w=.1*y,k=Math.pow(1-w,2)*r+2*w*(1-w)*v.x+Math.pow(w,2)*o,E=Math.pow(1-w,2)*n+2*w*(1-w)*v.y+Math.pow(w,2)*s,y>0&&(S=(g=this._getDistanceToLine($,D,k,E,u,h))<S?g:S),$=k,D=E;return S}},{key:"_bezierCurve",value:function(r,n,o,s){r.beginPath(),r.moveTo(this.fromPoint.x,this.fromPoint.y),o!=null&&o.x!=null?s!=null&&s.x!=null?r.bezierCurveTo(o.x,o.y,s.x,s.y,this.toPoint.x,this.toPoint.y):r.quadraticCurveTo(o.x,o.y,this.toPoint.x,this.toPoint.y):r.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(r,n),this.enableShadow(r,n),r.stroke(),this.disableShadow(r,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(Rb);function uT(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var Bb=function(i){_e(t,i);var e=uT(t);function t(r,n,o){var s;return z(this,t),(s=e.call(this,r,n,o)).via=s.via,s._boundFunction=function(){s.positionBezierNode()},s._body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return L(t,[{key:"setOptions",value:function(r){ls(q(t.prototype),"setOptions",this).call(this,r);var n=!1;this.options.physics!==r.physics&&(n=!0),this.options=r,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),n===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var r="edgeId:"+this.id,n=this._body.functions.createNode({id:r,shape:"circle",physics:!0,hidden:!0});this._body.nodes[r]=n,this.via=n,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(r,n,o){this._bezierCurve(r,n,o)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var o=Ue(this._getCircleData(),3),s=o[0],u=o[1],h=o[2],v=2*Math.PI*(1-r);return{x:s+h*Math.sin(v),y:u+h-h*(1-Math.cos(v))}}return{x:Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*n.x+Math.pow(r,2)*this.toPoint.x,y:Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*n.y+Math.pow(r,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(r,n){return this._findBorderPositionBezier(r,n,this.via)}},{key:"_getDistanceToEdge",value:function(r,n,o,s,u,h){return this._getDistanceToBezierEdge(r,n,o,s,u,h,this.via)}}]),t}(lf);function hT(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var jb=function(i){_e(t,i);var e=hT(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"_line",value:function(r,n,o){this._bezierCurve(r,n,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var r,n,o=this.options.smooth.roundness,s=this.options.smooth.type,u=Math.abs(this.from.x-this.to.x),h=Math.abs(this.from.y-this.to.y);if(s==="discrete"||s==="diagonalCross"){var v,g;v=g=u<=h?o*h:o*u,this.from.x>this.to.x&&(v=-v),this.from.y>=this.to.y&&(g=-g);var y=this.from.x+v,w=this.from.y+g;return s==="discrete"&&(u<=h?y=u<o*h?this.from.x:y:w=h<o*u?this.from.y:w),{x:y,y:w}}if(s==="straightCross"){var k=(1-o)*u,E=(1-o)*h;return u<=h?(k=0,this.from.y<this.to.y&&(E=-E)):(this.from.x<this.to.x&&(k=-k),E=0),{x:this.to.x+k,y:this.to.y+E}}if(s==="horizontal"){var S=(1-o)*u;return this.from.x<this.to.x&&(S=-S),{x:this.to.x+S,y:this.from.y}}if(s==="vertical"){var $=(1-o)*h;return this.from.y<this.to.y&&($=-$),{x:this.from.x,y:this.to.y+$}}if(s==="curvedCW"){u=this.to.x-this.from.x,h=this.from.y-this.to.y;var D=Math.sqrt(u*u+h*h),A=Math.PI,B=(Math.atan2(h,u)+(.5*o+.5)*A)%(2*A);return{x:this.from.x+(.5*o+.5)*D*Math.sin(B),y:this.from.y+(.5*o+.5)*D*Math.cos(B)}}if(s==="curvedCCW"){u=this.to.x-this.from.x,h=this.from.y-this.to.y;var H=Math.sqrt(u*u+h*h),J=Math.PI,de=(Math.atan2(h,u)+(.5*-o+.5)*J)%(2*J);return{x:this.from.x+(.5*o+.5)*H*Math.sin(de),y:this.from.y+(.5*o+.5)*H*Math.cos(de)}}r=n=u<=h?o*h:o*u,this.from.x>this.to.x&&(r=-r),this.from.y>=this.to.y&&(n=-n);var ue=this.from.x+r,ae=this.from.y+n;return u<=h?ue=this.from.x<=this.to.x?this.to.x<ue?this.to.x:ue:this.to.x>ue?this.to.x:ue:ae=this.from.y>=this.to.y?this.to.y>ae?this.to.y:ae:this.to.y<ae?this.to.y:ae,{x:ue,y:ae}}},{key:"_findBorderPosition",value:function(r,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(r,n,o.via)}},{key:"_getDistanceToEdge",value:function(r,n,o,s,u,h){var v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(r,n,o,s,u,h,v)}},{key:"getPoint",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),o=r;return{x:Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*n.x+Math.pow(o,2)*this.toPoint.x,y:Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*n.y+Math.pow(o,2)*this.toPoint.y}}}]),t}(lf);function zi(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var er=function(i){_e(t,i);var e=zi(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"_getDistanceToBezierEdge2",value:function(r,n,o,s,u,h,v,g){for(var y=1e9,w=r,k=n,E=[0,0,0,0],S=1;S<10;S++){var $=.1*S;E[0]=Math.pow(1-$,3),E[1]=3*$*Math.pow(1-$,2),E[2]=3*Math.pow($,2)*(1-$),E[3]=Math.pow($,3);var D=E[0]*r+E[1]*v.x+E[2]*g.x+E[3]*o,A=E[0]*n+E[1]*v.y+E[2]*g.y+E[3]*s;if(S>0){var B=this._getDistanceToLine(w,k,D,A,u,h);y=B<y?B:y}w=D,k=A}return y}}]),t}(lf);function cT(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var zb=function(i){_e(t,i);var e=cT(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"_line",value:function(r,n,o){var s=o[0],u=o[1];this._bezierCurve(r,n,s,u)}},{key:"_getViaCoordinates",value:function(){var r,n,o,s,u=this.from.x-this.to.x,h=this.from.y-this.to.y,v=this.options.smooth.roundness;return(Math.abs(u)>Math.abs(h)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,s=this.to.y,r=this.from.x-v*u,o=this.to.x+v*u):(n=this.from.y-v*h,s=this.to.y+v*h,r=this.from.x,o=this.to.x),[{x:r,y:n},{x:o,y:s}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(r,n){return this._findBorderPositionBezier(r,n)}},{key:"_getDistanceToEdge",value:function(r,n,o,s,u,h){var v=Ue(arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),2),g=v[0],y=v[1];return this._getDistanceToBezierEdge2(r,n,o,s,u,h,g,y)}},{key:"getPoint",value:function(r){var n=Ue(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),2),o=n[0],s=n[1],u=r,h=[Math.pow(1-u,3),3*u*Math.pow(1-u,2),3*Math.pow(u,2)*(1-u),Math.pow(u,3)];return{x:h[0]*this.fromPoint.x+h[1]*o.x+h[2]*s.x+h[3]*this.toPoint.x,y:h[0]*this.fromPoint.y+h[1]*o.y+h[2]*s.y+h[3]*this.toPoint.y}}}]),t}(er);function dT(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var Lb=function(i){_e(t,i);var e=dT(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"_line",value:function(r,n){r.beginPath(),r.moveTo(this.fromPoint.x,this.fromPoint.y),r.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(r,n),r.stroke(),this.disableShadow(r,n)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(r){return{x:(1-r)*this.fromPoint.x+r*this.toPoint.x,y:(1-r)*this.fromPoint.y+r*this.toPoint.y}}},{key:"_findBorderPosition",value:function(r,n){var o=this.to,s=this.from;r.id===this.from.id&&(o=this.from,s=this.to);var u=Math.atan2(o.y-s.y,o.x-s.x),h=o.x-s.x,v=o.y-s.y,g=Math.sqrt(h*h+v*v),y=(g-r.distanceToBorder(n,u))/g;return{x:(1-y)*s.x+y*o.x,y:(1-y)*s.y+y*o.y,t:0}}},{key:"_getDistanceToEdge",value:function(r,n,o,s,u,h){return this._getDistanceToLine(r,n,o,s,u,h)}}]),t}(Rb),qo=function(){function i(e,t,r,n,o){if(z(this,i),t===void 0)throw new Error("No body provided");this.options=Pi(n),this.globalOptions=n,this.defaultOptions=o,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Vd(this.body,this.options,!0),this.setOptions(e)}return L(i,[{key:"setOptions",value:function(e){if(e){var t=e.physics!==void 0&&this.options.physics!==e.physics||e.hidden!==void 0&&(this.options.hidden||!1)!==(e.hidden||!1)||e.from!==void 0&&this.options.from!==e.from||e.to!==void 0&&this.options.to!==e.to;i.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=ib(e.value));var r=[e,this.options,this.defaultOptions];return this.chooser=In("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}}},{key:"getFormattingValues",value:function(){var e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var s=this.options.selectionWidth;typeof s=="function"?o.width=s(o.width):typeof s=="number"&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var u=this.options.hoverWidth;typeof u=="function"?o.width=u(o.width):typeof u=="number"&&(o.width+=u),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(o,this.options.id,this.selected,this.hover),o.color!==void 0&&(o.inheritsColor=!1),o.shadow===!1&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(e){var t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof Bb&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof zb&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof jb&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof Lb&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new Bb(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new zb(this.options,this.body,this.labelModule):this.edgeType=new jb(this.options,this.body,this.labelModule):this.edgeType=new Lb(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,r){if(this.options.value!==void 0){var n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}}},{key:"drawArrows",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var r=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),t.fromArrowSrc&&(n.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(n.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(n.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),t.toArrowSrc&&(n.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(n.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(n.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(n.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(n.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(n.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.to)}}},{key:"drawLabel",value:function(e,t){if(this.options.label!==void 0){var r,n=this.from,o=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),n.id!=o.id){this.labelModule.pointToSelf=!1,r=this.edgeType.getPoint(.5,t),e.save();var s=this._getRotation(e);s.angle!=0&&(e.translate(s.x,s.y),e.rotate(s.angle)),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var u=wr(e,this.options.selfReference.angle,this.options.selfReference.size,n);r=this._pointOnCircle(u.x,u.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var r=this._getRotation();$n(this.labelModule.getSize(),e,r)&&t.push({edgeId:this.id,labelId:0})}var n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){if(this.connected){var t=this.from.x,r=this.from.y,n=this.to.x,o=this.to.y,s=e.left,u=e.top;return this.edgeType.getDistanceToEdge(t,r,n,o,s,u)<10}return!1}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);var n={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;var o=this.from.y-this.to.y,s=this.from.x-this.to.x,u=Math.atan2(o,s);return(u<-1&&s<0||u>0&&s<0)&&(u+=Math.PI),n.angle=u,n}},{key:"_pointOnCircle",value:function(e,t,r,n){return{x:e+r*Math.cos(n),y:t-r*Math.sin(n)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(Do(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(Mi(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(Mi(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),ii(t.label)?e.label=t.label:ii(e.label)||(e.label=void 0),or(e,t,"smooth",n),or(e,t,"shadow",n),or(e,t,"background",n),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=Ei(n.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),or(e.scaling,t.scaling,"label",n.scaling)):r===!0&&t.scaling===null&&(e.scaling=Ei(n.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){var s=t.arrows.toLowerCase();e.arrows.to.enabled=we(s).call(s,"to")!=-1,e.arrows.middle.enabled=we(s).call(s,"middle")!=-1,e.arrows.from.enabled=we(s).call(s,"from")!=-1}else{if(Ee(t.arrows)!=="object")throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+So(t.arrows));or(e.arrows,t.arrows,"to",n.arrows),or(e.arrows,t.arrows,"middle",n.arrows),or(e.arrows,t.arrows,"from",n.arrows)}else r===!0&&t.arrows===null&&(e.arrows=Ei(n.arrows));if(t.color!==void 0&&t.color!==null){var u=Ii(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,h=e.color;if(o)Me(h,n.color,!1,r);else for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&delete h[v];if(Ii(h))h.color=h,h.highlight=h,h.hover=h,h.inherit=!1,u.opacity===void 0&&(h.opacity=1);else{var g=!1;u.color!==void 0&&(h.color=u.color,g=!0),u.highlight!==void 0&&(h.highlight=u.highlight,g=!0),u.hover!==void 0&&(h.hover=u.hover,g=!0),u.inherit!==void 0&&(h.inherit=u.inherit),u.opacity!==void 0&&(h.opacity=Math.min(1,Math.max(0,u.opacity))),g===!0?h.inherit=!1:h.inherit===void 0&&(h.inherit="from")}}else r===!0&&t.color===null&&(e.color=Pi(n.color));r===!0&&t.font===null&&(e.font=Pi(n.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}}]),i}(),Hb=function(){function i(e,t,r){var n,o=this;z(this,i),this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=N(n=this.create).call(n,this),this.edgesListeners={add:function(s,u){o.add(u.items)},update:function(s,u){o.update(u.items)},remove:function(s,u){o.remove(u.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,u,h,v){if(u===s)return .5;var g=1/(u-s);return Math.max(0,(v-s)*g)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Me(this.options,this.defaultOptions),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e,t,r=this;this.body.emitter.on("_forceDisableDynamicCurves",function(n){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];n==="dynamic"&&(n="continuous");var s=!1;for(var u in r.body.edges)if(Object.prototype.hasOwnProperty.call(r.body.edges,u)){var h=r.body.edges[u],v=r.body.data.edges.get(u);if(v!=null){var g=v.smooth;g!==void 0&&g.enabled===!0&&g.type==="dynamic"&&(n===void 0?h.setOptions({smooth:!1}):h.setOptions({smooth:{type:n}}),s=!0)}}o===!0&&s===!0&&r.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){r.reconnectEdges()}),this.body.emitter.on("refreshEdges",N(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",N(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){pe(r.edgesListeners,function(n,o){r.body.data.edges&&r.body.data.edges.off(o,n)}),delete r.body.functions.createEdge,delete r.edgesListeners.add,delete r.edgesListeners.update,delete r.edgesListeners.remove,delete r.edgesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){qo.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(e.smooth!==void 0)for(var r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();e.hidden===void 0&&e.physics===void 0&&t!==!0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.body.data.edges;if(Vr.isDataViewLike("id",e))this.body.data.edges=e;else if(Se(e))this.body.data.edges=new Vr.DataSet,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new Vr.DataSet}if(n&&pe(this.edgesListeners,function(s,u){n.off(u,s)}),this.body.edges={},this.body.data.edges){pe(this.edgesListeners,function(s,u){t.body.data.edges.on(u,s)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.body.edges,n=this.body.data.edges,o=0;o<e.length;o++){var s=e[o],u=r[s];u&&u.disconnect();var h=n.get(s,{showInternalIds:!0});r[s]=this.create(h)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,r=this.body.data.edges,n=!1,o=0;o<e.length;o++){var s=e[o],u=r.get(s),h=t[s];h!==void 0?(h.disconnect(),n=h.setOptions(u)||n,h.connect()):(this.body.edges[s]=this.create(u),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e.length!==0){var r=this.body.edges;pe(e,function(n){var o=r[n];o!==void 0&&o.remove()}),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;pe(this.body.edges,function(t,r){var n=e.body.data.edges.get(r);n!==void 0&&t.setOptions(n)})}},{key:"create",value:function(e){return new qo(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){var n=r[e];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(this.body.edges[e]!==void 0){var r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];pe(this.body.edges,function(r,n){var o=e.body.nodes[r.toId],s=e.body.nodes[r.fromId];o!==void 0&&o.isCluster===!0||s!==void 0&&s.isCluster===!0||o!==void 0&&s!==void 0||t.push(n)}),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(e!=null){var t=this.body.edges,r=[];Ce(e).call(e,function(n,o){t[o]===void 0&&r.push(o)}),this.add(r,!0)}}}]),i}(),Wb=function(){function i(e,t,r){z(this,i),this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=Zl("BARNES HUT SOLVER")}return L(i,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var e,t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=r.length,o=this._formBarnesHutTree(t,r);this.barnesHutTree=o;for(var s=0;s<n;s++)(e=t[r[s]]).options.mass>0&&this._getForceContributions(o.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var r=e.centerOfMass.x-t.x,n=e.centerOfMass.y-t.y,o=Math.sqrt(r*r+n*n);o*e.calcSize>this.thetaInversed?this._calculateForces(o,r,n,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(o,r,n,t,e)}}},{key:"_calculateForces",value:function(e,t,r,n,o){e===0&&(t=e=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var s=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(e,3),u=t*s,h=r*s;this.physicsBody.forces[n.id].x+=u,this.physicsBody.forces[n.id].y+=h}},{key:"_formBarnesHutTree",value:function(e,t){for(var r,n=t.length,o=e[t[0]].x,s=e[t[0]].y,u=e[t[0]].x,h=e[t[0]].y,v=1;v<n;v++){var g=e[t[v]],y=g.x,w=g.y;g.options.mass>0&&(y<o&&(o=y),y>u&&(u=y),w<s&&(s=w),w>h&&(h=w))}var k=Math.abs(u-o)-Math.abs(h-s);k>0?(s-=.5*k,h+=.5*k):(o+=.5*k,u-=.5*k);var E=Math.max(1e-5,Math.abs(u-o)),S=.5*E,$=.5*(o+u),D=.5*(s+h),A={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:$-S,maxX:$+S,minY:D-S,maxY:D+S},size:E,calcSize:1/E,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(A.root);for(var B=0;B<n;B++)(r=e[t[B]]).options.mass>0&&this._placeInTree(A.root,r);return A}},{key:"_updateBranchMass",value:function(e,t){var r=e.centerOfMass,n=e.mass+t.options.mass,o=1/n;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=o,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=o,e.mass=n;var s=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}},{key:"_placeInTree",value:function(e,t,r){r==1&&r!==void 0||this._updateBranchMass(e,t);var n,o=e.children.NW.range;n=o.maxX>t.x?o.maxY>t.y?"NW":"SW":o.maxY>t.y?"NE":"SE",this._placeInRegion(e,t,n)}},{key:"_placeInRegion",value:function(e,t,r){var n=e.children[r];switch(n.childrenCount){case 0:n.children.data=t,n.childrenCount=1,this._updateBranchMass(n,t);break;case 1:n.children.data.x===t.x&&n.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,t));break;case 4:this._placeInTree(n,t)}}},{key:"_splitBranch",value:function(e){var t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var r,n,o,s,u=.5*e.size;switch(t){case"NW":r=e.range.minX,n=e.range.minX+u,o=e.range.minY,s=e.range.minY+u;break;case"NE":r=e.range.minX+u,n=e.range.maxX,o=e.range.minY,s=e.range.minY+u;break;case"SW":r=e.range.minX,n=e.range.minX+u,o=e.range.minY+u,s=e.range.maxY;break;case"SE":r=e.range.minX+u,n=e.range.maxX,o=e.range.minY+u,s=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:n,minY:o,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),i}(),fT=function(){function i(e,t,r){z(this,i),this._rng=Zl("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}return L(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,n,o,s,u,h,v=this.body.nodes,g=this.physicsBody.physicsNodeIndices,y=this.physicsBody.forces,w=this.options.nodeDistance,k=-2/3/w,E=0;E<g.length-1;E++){u=v[g[E]];for(var S=E+1;S<g.length;S++)e=(h=v[g[S]]).x-u.x,t=h.y-u.y,(r=Math.sqrt(e*e+t*t))===0&&(e=r=.1*this._rng()),r<2*w&&(s=r<.5*w?1:k*r+1.3333333333333333,n=e*(s/=r),o=t*s,y[u.id].x-=n,y[u.id].y-=o,y[h.id].x+=n,y[h.id].y+=o)}}}]),i}(),vT=function(){function i(e,t,r){z(this,i),this.body=e,this.physicsBody=t,this.setOptions(r)}return L(i,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,n=this.options.nodeDistance,o=0;o<t.length-1;o++)for(var s=e[t[o]],u=o+1;u<t.length;u++){var h=e[t[u]];if(s.level===h.level){var v=n+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(h.shape.radius||0)/2),g=h.x-s.x,y=h.y-s.y,w=Math.sqrt(g*g+y*y),k=void 0;k=w<v?-Math.pow(.05*w,2)+Math.pow(.05*v,2):0,w!==0&&(k/=w);var E=g*k,S=y*k;r[s.id].x-=E,r[s.id].y-=S,r[h.id].x+=E,r[h.id].y+=S}}}}]),i}(),uf=function(){function i(e,t,r){z(this,i),this.body=e,this.physicsBody=t,this.setOptions(r)}return L(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,n,o,s=this.physicsBody.physicsEdgeIndices,u=this.body.edges,h=0;h<s.length;h++)(t=u[s[h]]).connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.to,n=t.edgeType.via,o=t.from,this._calculateSpringForce(r,n,.5*e),this._calculateSpringForce(n,o,.5*e)):(e=t.options.length===void 0?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}},{key:"_calculateSpringForce",value:function(e,t,r){var n=e.x-t.x,o=e.y-t.y,s=Math.max(Math.sqrt(n*n+o*o),.01),u=this.options.springConstant*(r-s)/s,h=n*u,v=o*u;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=h,this.physicsBody.forces[e.id].y+=v),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=h,this.physicsBody.forces[t.id].y-=v)}}]),i}(),pT=function(){function i(e,t,r){z(this,i),this.body=e,this.physicsBody=t,this.setOptions(r)}return L(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,n,o,s,u,h,v,g,y=this.body.edges,w=.5,k=this.physicsBody.physicsEdgeIndices,E=this.physicsBody.physicsNodeIndices,S=this.physicsBody.forces,$=0;$<E.length;$++){var D=E[$];S[D].springFx=0,S[D].springFy=0}for(var A=0;A<k.length;A++)(t=y[k[A]]).connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,n=t.from.y-t.to.y,h=(h=Math.sqrt(r*r+n*n))===0?.01:h,o=r*(u=this.options.springConstant*(e-h)/h),s=n*u,t.to.level!=t.from.level?(S[t.toId]!==void 0&&(S[t.toId].springFx-=o,S[t.toId].springFy-=s),S[t.fromId]!==void 0&&(S[t.fromId].springFx+=o,S[t.fromId].springFy+=s)):(S[t.toId]!==void 0&&(S[t.toId].x-=w*o,S[t.toId].y-=w*s),S[t.fromId]!==void 0&&(S[t.fromId].x+=w*o,S[t.fromId].y+=w*s)));u=1;for(var B=0;B<E.length;B++){var H=E[B];v=Math.min(u,Math.max(-u,S[H].springFx)),g=Math.min(u,Math.max(-u,S[H].springFy)),S[H].x+=v,S[H].y+=g}for(var J=0,de=0,ue=0;ue<E.length;ue++){var ae=E[ue];J+=S[ae].x,de+=S[ae].y}for(var Q=J/E.length,Te=de/E.length,ye=0;ye<E.length;ye++){var $e=E[ye];S[$e].x-=Q,S[$e].y-=Te}}}]),i}(),bu=function(){function i(e,t,r){z(this,i),this.body=e,this.physicsBody=t,this.setOptions(r)}return L(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,n,o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,h=0;h<s.length;h++)e=-(n=o[s[h]]).x,t=-n.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,u,n)}},{key:"_calculateForces",value:function(e,t,r,n,o){var s=e===0?0:this.options.centralGravity/e;n[o.id].x=t*s,n[o.id].y=r*s}}]),i}();function gT(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var yT=function(i){_e(t,i);var e=gT(t);function t(r,n,o){var s;return z(this,t),(s=e.call(this,r,n,o))._rng=Zl("FORCE ATLAS 2 BASED REPULSION SOLVER"),s}return L(t,[{key:"_calculateForces",value:function(r,n,o,s,u){r===0&&(n=r=.1*this._rng()),this.overlapAvoidanceFactor<1&&s.shape.radius&&(r=Math.max(.1+this.overlapAvoidanceFactor*s.shape.radius,r-s.shape.radius));var h=s.edges.length+1,v=this.options.gravitationalConstant*u.mass*s.options.mass*h/Math.pow(r,2),g=n*v,y=o*v;this.physicsBody.forces[s.id].x+=g,this.physicsBody.forces[s.id].y+=y}}]),t}(Wb);function mT(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var bT=function(i){_e(t,i);var e=mT(t);function t(r,n,o){return z(this,t),e.call(this,r,n,o)}return L(t,[{key:"_calculateForces",value:function(r,n,o,s,u){if(r>0){var h=u.edges.length+1,v=this.options.centralGravity*h*u.options.mass;s[u.id].x=n*v,s[u.id].y=o*v}}}]),t}(bu),wT=function(){function i(e){z(this,i),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Xe(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,$i(["stabilization"],this.options,e),or(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var t=this.options.wind;t&&((typeof t.x!="number"||Rd(t.x))&&(t.x=0),(typeof t.y!="number"||Rd(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new yT(this.body,this.physicsBody,e),this.edgesSolver=new uf(this.body,this.physicsBody,e),this.gravitySolver=new bT(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new fT(this.body,this.physicsBody,e),this.edgesSolver=new uf(this.body,this.physicsBody,e),this.gravitySolver=new bu(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new vT(this.body,this.physicsBody,e),this.edgesSolver=new pT(this.body,this.physicsBody,e),this.gravitySolver=new bu(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new Wb(this.body,this.physicsBody,e),this.edgesSolver=new uf(this.body,this.physicsBody,e),this.gravitySolver=new bu(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0&&(this.viewFunction=N(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Na();this.physicsTick(),(Na()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Nr(function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&t[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[n].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var s=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[s]={x:0,y:0},this.physicsBody.velocities[s]===void 0&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var u in this.physicsBody.velocities)e[u]===void 0&&delete this.physicsBody.velocities[u]}},{key:"revert",value:function(){var e=Ve(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<e.length;n++){var o=e[n];t[o]!==void 0?t[o].options.physics===!0&&(this.referenceState[o]={positions:{x:t[o].x,y:t[o].y}},r[o].x=this.previousStates[o].vx,r[o].y=this.previousStates[o].vy,t[o].x=this.previousStates[o].x,t[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var e,t,r=this.body.nodes,n=this.referenceState;for(var o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&r[o]!==void 0&&(e=r[o].x-n[o].positions.x,t=r[o].y-n[o].positions.y,Math.sqrt(Math.pow(e,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,r=0,n=0;n<e.length;n++){var o=e[n],s=this._performStep(o);t=Math.max(t,s),r+=s}this.adaptiveTimestepEnabled=r/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,r){e+=(t-this.modelOptions.damping*e)/r*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(e)>n&&(e=e>0?n:-n),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);var n=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:n.x,vy:n.y},t.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,r.x,t.options.mass),t.x+=n.x*this.timestep):(r.x=0,n.x=0),t.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,r.y,t.options.mass),t.y+=n.y*this.timestep):(r.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){var r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;typeof t!="number"&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),this.physicsBody.physicsNodeIndices.length!==0?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Nr(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return this.startedStabilization!==!0&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return e.stabilized===!1&&e.stabilizationIterations<e.targetIterations},r=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&r();for(var n,o=0;t()&&o<this.options.stabilization.updateInterval;)this.physicsTick(),o++;r(),t()?Nr(N(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var r=this.physicsBody.physicsNodeIndices[t],n=this.body.nodes[r],o=this.physicsBody.forces[r],s=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),u=Math.min(Math.max(5,s),15),h=3*u,v=md((180-180*Math.min(1,Math.max(0,.03*s)))/360,1,1),g={x:n.x+20*o.x,y:n.y+20*o.y};e.lineWidth=u,e.strokeStyle=v,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(g.x,g.y),e.stroke();var y=Math.atan2(o.y,o.x);e.fillStyle=v,of.draw(e,{type:"arrow",point:g,angle:y,length:h}),ja(e).call(e)}}}]),i}();let wu;const Ub=new Uint8Array(16);function hf(){if(!wu&&(wu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wu(Ub)}const gt=[];for(let i=0;i<256;++i)gt.push((i+256).toString(16).slice(1));var Vb={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function us(i,e,t){if(Vb.randomUUID&&!e&&!i)return Vb.randomUUID();const r=(i=i||{}).random||(i.rng||hf)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let n=0;n<16;++n)e[t+n]=r[n];return e}return function(n,o=0){return gt[n[o+0]]+gt[n[o+1]]+gt[n[o+2]]+gt[n[o+3]]+"-"+gt[n[o+4]]+gt[n[o+5]]+"-"+gt[n[o+6]]+gt[n[o+7]]+"-"+gt[n[o+8]]+gt[n[o+9]]+"-"+gt[n[o+10]]+gt[n[o+11]]+gt[n[o+12]]+gt[n[o+13]]+gt[n[o+14]]+gt[n[o+15]]}(r)}var $t=function(){function i(){z(this,i)}return L(i,null,[{key:"getRange",value:function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,o=-1e9,s=1e9,u=-1e9;if(r.length>0)for(var h=0;h<r.length;h++)s>(t=e[r[h]]).shape.boundingBox.left&&(s=t.shape.boundingBox.left),u<t.shape.boundingBox.right&&(u=t.shape.boundingBox.right),n>t.shape.boundingBox.top&&(n=t.shape.boundingBox.top),o<t.shape.boundingBox.bottom&&(o=t.shape.boundingBox.bottom);return s===1e9&&u===-1e9&&n===1e9&&o===-1e9&&(n=0,o=0,s=0,u=0),{minX:s,maxX:u,minY:n,maxY:o}}},{key:"getRangeCore",value:function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,o=-1e9,s=1e9,u=-1e9;if(r.length>0)for(var h=0;h<r.length;h++)s>(t=e[r[h]]).x&&(s=t.x),u<t.x&&(u=t.x),n>t.y&&(n=t.y),o<t.y&&(o=t.y);return s===1e9&&u===-1e9&&n===1e9&&o===-1e9&&(n=0,o=0,s=0,u=0),{minX:s,maxX:u,minY:n,maxY:o}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var r={};return t===void 0||t==="node"?(Me(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):Me(r,e.options,!0),r}}]),i}();function _T(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var kT=function(i){_e(t,i);var e=_T(t);function t(r,n,o,s,u,h){var v;return z(this,t),(v=e.call(this,r,n,o,s,u,h)).isCluster=!0,v.containedNodes={},v.containedEdges={},v}return L(t,[{key:"_openChildCluster",value:function(r){var n=this,o=this.body.nodes[r];if(this.containedNodes[r]===void 0)throw new Error("node with id: "+r+" not in current cluster");if(!o.isCluster)throw new Error("node with id: "+r+" is not a cluster");delete this.containedNodes[r],pe(o.edges,function(s){delete n.containedEdges[s.id]}),pe(o.containedNodes,function(s,u){n.containedNodes[u]=s}),o.containedNodes={},pe(o.containedEdges,function(s,u){n.containedEdges[u]=s}),o.containedEdges={},pe(o.edges,function(s){pe(n.edges,function(u){var h,v,g=we(h=u.clusteringEdgeReplacingIds).call(h,s.id);g!==-1&&(pe(s.clusteringEdgeReplacingIds,function(y){u.clusteringEdgeReplacingIds.push(y),n.body.edges[y].edgeReplacedById=u.id}),pr(v=u.clusteringEdgeReplacingIds).call(v,g,1))})}),o.edges=[]}}]),t}(Zt),qb=function(){function i(e){var t=this;z(this,i),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Xe(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return L(i,[{key:"clusterByHubsize",value:function(e,t){e===void 0?e=this._getHubSize():Ee(e)==="object"&&(t=this._checkOptions(e),e=this._getHubSize());for(var r=[],n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=e&&r.push(o.id)}for(var s=0;s<r.length;s++)this.clusterByConnection(r[s],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(t.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var n={},o={};pe(this.body.nodes,function(s,u){s.options&&t.joinCondition(s.options)===!0&&(n[u]=s,pe(s.edges,function(h){e.clusteredEdges[h.id]===void 0&&(o[h.id]=h)}))}),this._cluster(n,o,t,r)}},{key:"clusterByEdgeCount",value:function(e,t){var r=this,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];t=this._checkOptions(t);for(var o,s,u,h=[],v={},g=function(){var k={},E={},S=r.body.nodeIndices[y],$=r.body.nodes[S];if(v[S]===void 0){u=0,s=[];for(var D=0;D<$.edges.length;D++)o=$.edges[D],r.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&u++,s.push(o));if(u===e){for(var A=function(Q){if(t.joinCondition===void 0||t.joinCondition===null)return!0;var Te=$t.cloneOptions(Q);return t.joinCondition(Te)},B=!0,H=0;H<s.length;H++){o=s[H];var J=r._getConnectedId(o,S);if(!A($)){B=!1;break}E[o.id]=o,k[S]=$,k[J]=r.body.nodes[J],v[S]=!0}if(Ve(k).length>0&&Ve(E).length>0&&B===!0){var de=function(){for(var Q=0;Q<h.length;++Q)for(var Te in k)if(h[Q].nodes[Te]!==void 0)return h[Q]}();if(de!==void 0){for(var ue in k)de.nodes[ue]===void 0&&(de.nodes[ue]=k[ue]);for(var ae in E)de.edges[ae]===void 0&&(de.edges[ae]=E[ae])}else h.push({nodes:k,edges:E})}}}},y=0;y<this.body.nodeIndices.length;y++)g();for(var w=0;w<h.length;w++)this._cluster(h[w].nodes,h[w].edges,t,!1);n===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var r,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[e];(t=this._checkOptions(t,o)).clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=o.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=o.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=o.options.fixed.x,t.clusterNodeProperties.fixed.y=o.options.fixed.y);var s={},u={},h=o.id,v=$t.cloneOptions(o);s[h]=o;for(var g=0;g<o.edges.length;g++){var y=o.edges[g];if(this.clusteredEdges[y.id]===void 0){var w=this._getConnectedId(y,h);if(this.clusteredNodes[w]===void 0)if(w!==h)if(t.joinCondition===void 0)u[y.id]=y,s[w]=this.body.nodes[w];else{var k=$t.cloneOptions(this.body.nodes[w]);t.joinCondition(v,k)===!0&&(u[y.id]=y,s[w]=this.body.nodes[w])}else u[y.id]=y}}var E=Eo(r=Ve(s)).call(r,function(B){return s[B].id});for(var S in s)if(Object.prototype.hasOwnProperty.call(s,S))for(var $=s[S],D=0;D<$.edges.length;D++){var A=$.edges[D];we(E).call(E,this._getConnectedId(A,$.id))>-1&&(u[A.id]=A)}this._cluster(s,u,t,n)}},{key:"_createClusterEdges",value:function(e,t,r,n){for(var o,s,u,h,v,g,y=Ve(e),w=[],k=0;k<y.length;k++){u=e[s=y[k]];for(var E=0;E<u.edges.length;E++)o=u.edges[E],this.clusteredEdges[o.id]===void 0&&(o.toId==o.fromId?t[o.id]=o:o.toId==s?(h=r.id,g=v=o.fromId):(h=o.toId,v=r.id,g=h),e[g]===void 0&&w.push({edge:o,fromId:v,toId:h}))}for(var S=[],$=function(J){for(var de=0;de<S.length;de++){var ue=S[de],ae=J.fromId===ue.fromId&&J.toId===ue.toId,Q=J.fromId===ue.toId&&J.toId===ue.fromId;if(ae||Q)return ue}return null},D=0;D<w.length;D++){var A=w[D],B=A.edge,H=$(A);H===null?(H=this._createClusteredEdge(A.fromId,A.toId,B,n),S.push(H)):H.clusteringEdgeReplacingIds.push(B.id),this.body.edges[B.id].edgeReplacedById=H.id,this._backupEdgeOptions(B),B.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,r){var n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&this.clusteredNodes[s]!==void 0&&o.push(s);for(var u=0;u<o.length;++u)delete e[o[u]];if(Ve(e).length!=0&&(Ve(e).length!=1||r.clusterNodeProperties.allowSingleNodeCluster==1)){var h=Me({},r.clusterNodeProperties);if(r.processProperties!==void 0){var v=[];for(var g in e)if(Object.prototype.hasOwnProperty.call(e,g)){var y=$t.cloneOptions(e[g]);v.push(y)}var w=[];for(var k in t)if(Object.prototype.hasOwnProperty.call(t,k)&&k.substr(0,12)!=="clusterEdge:"){var E=$t.cloneOptions(t[k],"edge");w.push(E)}if(!(h=r.processProperties(h,v,w)))throw new Error("The processProperties function does not return properties!")}h.id===void 0&&(h.id="cluster:"+us());var S=h.id;h.label===void 0&&(h.label="cluster");var $=void 0;h.x===void 0&&($=this._getClusterPosition(e),h.x=$.x),h.y===void 0&&($===void 0&&($=this._getClusterPosition(e)),h.y=$.y),h.id=S;var D=this.body.functions.createNode(h,kT);D.containedNodes=e,D.containedEdges=t,D.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[h.id]=D,this._clusterEdges(e,t,h,r.clusterEdgeProperties),h.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t,r=Ve(e),n=e[r[0]].x,o=e[r[0]].x,s=e[r[0]].y,u=e[r[0]].y,h=1;h<r.length;h++)n=(t=e[r[h]]).x<n?t.x:n,o=t.x>o?t.x:o,s=t.y<s?t.y:s,u=t.y>u?t.y:u;return{x:.5*(n+o),y:.5*(s+u)}}},{key:"openCluster",value:function(e,t){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");var o=this.findNode(e),s=we(o).call(o,e)-1;if(s>=0){var u=o[s];return this.body.nodes[u]._openChildCluster(e),delete this.body.nodes[e],void(r===!0&&this.body.emitter.emit("_dataChanged"))}var h=n.containedNodes,v=n.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){var g={},y={x:n.x,y:n.y};for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)){var k=this.body.nodes[w];g[w]={x:k.x,y:k.y}}var E=t.releaseFunction(y,g);for(var S in h)if(Object.prototype.hasOwnProperty.call(h,S)){var $=this.body.nodes[S];E[S]!==void 0&&($.x=E[S].x===void 0?n.x:E[S].x,$.y=E[S].y===void 0?n.y:E[S].y)}}else pe(h,function(tt){tt.options.fixed.x===!1&&(tt.x=n.x),tt.options.fixed.y===!1&&(tt.y=n.y)});for(var D in h)if(Object.prototype.hasOwnProperty.call(h,D)){var A=this.body.nodes[D];A.vx=n.vx,A.vy=n.vy,A.setOptions({physics:!0}),delete this.clusteredNodes[D]}for(var B=[],H=0;H<n.edges.length;H++)B.push(n.edges[H]);for(var J=0;J<B.length;J++){for(var de=B[J],ue=this._getConnectedId(de,e),ae=this.clusteredNodes[ue],Q=0;Q<de.clusteringEdgeReplacingIds.length;Q++){var Te=de.clusteringEdgeReplacingIds[Q],ye=this.body.edges[Te];if(ye!==void 0)if(ae!==void 0){var $e=this.body.nodes[ae.clusterId];$e.containedEdges[ye.id]=ye,delete v[ye.id];var Fe=ye.fromId,ze=ye.toId;ye.toId==ue?ze=ae.clusterId:Fe=ae.clusterId,this._createClusteredEdge(Fe,ze,ye,$e.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(ye)}de.remove()}for(var sr in v)Object.prototype.hasOwnProperty.call(v,sr)&&this._restoreEdge(v[sr]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(this.isCluster(e)===!0){var r=this.body.nodes[e].containedNodes;for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(this.body.nodes[n].id)}return t}},{key:"findNode",value:function(e){for(var t,r=[],n=0;this.clusteredNodes[e]!==void 0&&n<100;){if((t=this.body.nodes[e])===void 0)return[];r.push(t.id),e=this.clusteredNodes[e].clusterId,n++}return(t=this.body.nodes[e])===void 0?[]:(r.push(t.id),vn(r).call(r),r)}},{key:"updateClusteredNode",value:function(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var r=this.getClusteredEdges(e),n=0;n<r.length;n++)this.body.edges[r[n]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],r=0;e!==void 0&&this.body.edges[e]!==void 0&&r<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,r++;return vn(t).call(t),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],r=[],n=[],o=0;t.length>0&&o<100;){var s=t.pop();if(s!==void 0){var u=this.body.edges[s];if(u!==void 0){o++;var h=u.clusteringEdgeReplacingIds;if(h===void 0)n.push(s);else for(var v=0;v<h.length;++v){var g=h[v];we(t).call(t,h)===-1&&we(r).call(r,h)===-1&&t.push(g)}r.push(s)}}}return n}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:(e.fromId,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,t=0,r=0,n=0,o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];s.edges.length>n&&(n=s.edges.length),e+=s.edges.length,t+=Math.pow(s.edges.length,2),r+=1}e/=r;var u=(t/=r)-Math.pow(e,2),h=Math.sqrt(u),v=Math.floor(e+2*h);return v>n&&(v=n),v}},{key:"_createClusteredEdge",value:function(e,t,r,n,o){var s=$t.cloneOptions(r,"edge");Me(s,n),s.from=e,s.to=t,s.id="clusterEdge:"+us(),o!==void 0&&Me(s,o);var u=this.body.functions.createEdge(s);return u.clusteringEdgeReplacingIds=[r.id],u.connect(),this.body.edges[u.id]=u,u}},{key:"_clusterEdges",value:function(e,t,r,n){if(t instanceof qo){var o=t,s={};s[o.id]=o,t=s}if(e instanceof Zt){var u=e,h={};h[u.id]=u,e=h}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");for(var v in n===void 0&&(n=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,n),t)if(Object.prototype.hasOwnProperty.call(t,v)&&this.body.edges[v]!==void 0){var g=this.body.edges[v];this._backupEdgeOptions(g),g.setOptions({physics:!1})}for(var y in e)Object.prototype.hasOwnProperty.call(e,y)&&(this.clusteredNodes[y]={clusterId:r.id,node:this.body.nodes[y]},this.body.nodes[y].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(e!==void 0){var t=this.clusteredNodes[e];if(t!==void 0){var r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}}}},{key:"_filter",value:function(e,t){var r=[];return pe(e,function(n){t(n)&&r.push(n)}),r}},{key:"_updateState",value:function(){var e,t=this,r=[],n={},o=function(g){pe(t.body.nodes,function(y){y.isCluster===!0&&g(y)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&this.body.nodes[e]===void 0&&r.push(e);o(function(g){for(var y=0;y<r.length;y++)delete g.containedNodes[r[y]]});for(var s=0;s<r.length;s++)delete this.clusteredNodes[r[s]];pe(this.clusteredEdges,function(g){var y=t.body.edges[g];y!==void 0&&y.endPointsValid()||(n[g]=g)}),o(function(g){pe(g.containedEdges,function(y,w){y.endPointsValid()||n[w]||(n[w]=w)})}),pe(this.body.edges,function(g,y){var w=!0,k=g.clusteringEdgeReplacingIds;if(k!==void 0){var E=0;pe(k,function(S){var $=t.body.edges[S];$!==void 0&&$.endPointsValid()&&(E+=1)}),w=E>0}g.endPointsValid()&&w||(n[y]=y)}),o(function(g){pe(n,function(y){delete g.containedEdges[y],pe(g.edges,function(w,k){w.id!==y?w.clusteringEdgeReplacingIds=t._filter(w.clusteringEdgeReplacingIds,function(E){return!n[E]}):g.edges[k]=null}),g.edges=t._filter(g.edges,function(w){return w!==null})})}),pe(n,function(g){delete t.clusteredEdges[g]}),pe(n,function(g){delete t.body.edges[g]}),pe(Ve(this.body.edges),function(g){var y=t.body.edges[g],w=t._isClusteredNode(y.fromId)||t._isClusteredNode(y.toId);if(w!==t._isClusteredEdge(y.id))if(w){var k=t._getClusterNodeForNode(y.fromId);k!==void 0&&t._clusterEdges(t.body.nodes[y.fromId],y,k);var E=t._getClusterNodeForNode(y.toId);E!==void 0&&t._clusterEdges(t.body.nodes[y.toId],y,E)}else delete t._clusterEdges[g],t._restoreEdge(y)});for(var u=!1,h=!0,v=function(){var g=[];o(function(w){var k=Ve(w.containedNodes).length,E=w.options.allowSingleNodeCluster===!0;(E&&k<1||!E&&k<2)&&g.push(w.id)});for(var y=0;y<g.length;++y)t.openCluster(g[y],{},!1);h=g.length>0,u=u||h};h;)v();u&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return this.clusteredNodes[e]!==void 0}},{key:"_isClusteredEdge",value:function(e){return this.clusteredEdges[e]!==void 0}}]),i}(),cf=function(){function i(e,t){var r;z(this,i),window!==void 0&&(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=r===void 0?function(n){n()}:r,this.body=e,this.canvas=t,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Xe(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=Nr(function(){var r;t.zooming=!1,N(r=t._requestRedraw).call(r,t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){t.renderingActive===!1&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",N(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,t.requiresTimeout===!0?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(e){e!==void 0&&Do(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if(typeof window<"u"){var r,n=window;return this.requiresTimeout===!0?r=Nr(e,t):n.requestAnimationFrame&&(r=n.requestAnimationFrame(e)),r}}},{key:"_startRendering",value:function(){var e;this.renderingActive===!0&&this.renderTimer===void 0&&(this.renderTimer=this._requestNextFrame(N(e=this._renderStep).call(e,this),this.simulationInterval))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t={drawExternalLabels:null};this.canvas.frame.canvas.width!==0&&this.canvas.frame.canvas.height!==0||this.canvas.setSize(),this.canvas.setTransform();var r=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,n,o),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var s=this._drawNodes(r,e).drawExternalLabels;t.drawExternalLabels=s}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,n,o)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,r=this.body.nodes;for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&((t=r[n]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,r,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=this.body.nodes,s=this.body.nodeIndices,u=[],h=[],v=this.canvas.DOMtoCanvas({x:-20,y:-20}),g=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),y={top:v.y,left:v.x,bottom:g.y,right:g.x},w=[],k=0;k<s.length;k++)if((t=o[s[k]]).hover)h.push(s[k]);else if(t.isSelected())u.push(s[k]);else if(n===!0){var E=t.draw(e);E.drawExternalLabel!=null&&w.push(E.drawExternalLabel)}else if(t.isBoundingBoxOverlappingWith(y)===!0){var S=t.draw(e);S.drawExternalLabel!=null&&w.push(S.drawExternalLabel)}else t.updateBoundingBox(e,t.selected);var $=u.length,D=h.length;for(r=0;r<$;r++){var A=(t=o[u[r]]).draw(e);A.drawExternalLabel!=null&&w.push(A.drawExternalLabel)}for(r=0;r<D;r++){var B=(t=o[h[r]]).draw(e);B.drawExternalLabel!=null&&w.push(B.drawExternalLabel)}return{drawExternalLabels:function(){for(var H=0,J=w;H<J.length;H++)(0,J[H])()}}}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,r=this.body.edgeIndices,n=0;n<r.length;n++){var o=t[r[n]];o.connected===!0&&o.draw(e)}}},{key:"_drawArrows",value:function(e){for(var t=this.body.edges,r=this.body.edgeIndices,n=0;n<r.length;n++){var o=t[r[n]];o.connected===!0&&o.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(we(e).call(e,"msie 9.0")!=-1||we(e).call(e,"safari")!=-1&&we(e).call(e,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),i}(),Gb=K(be.setInterval);function hs(i,e){e.inputHandler=function(t){t.isFirst&&e(t)},i.on("hammer.input",e.inputHandler)}function Kb(i,e){return e.inputHandler=function(t){t.isFinal&&e(t)},i.on("hammer.input",e.inputHandler)}var ET=function(){function i(e){z(this,i),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Xe(this.options,this.defaultOptions),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.once("resize",function(r){r.width!==0&&(t.body.view.translation.x=.5*r.width),r.height!==0&&(t.body.view.translation.y=.5*r.height)}),this.body.emitter.on("setSize",N(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(e){var t=this;if(e!==void 0&&Do(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){var n=new ResizeObserver(function(){t.setSize()===!0&&t.body.emitter.emit("_requestRedraw")}),o=this.frame;n.observe(o),this._cleanupCallbacks.push(function(){n.unobserve(o)})}else{var s=Gb(function(){t.setSize()===!0&&t.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(s)})}var u=N(r=this._onResize).call(r,this);window.addEventListener("resize",u),this._cleanupCallbacks.push(function(){window.removeEventListener("resize",u)})}}},{key:"_cleanUp",value:function(){var e,t,r;Ce(e=vn(t=pr(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,function(n){try{n()}catch(o){console.error(o)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,r=this.cameraState.scale;e!=1&&t!=1?r=.5*this.cameraState.scale*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(we(e).call(e,"%")!==-1||we(e).call(e,"px")!==-1)return e;if(we(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Mo(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Mo.DIRECTION_ALL}),hs(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new Mo(this.frame),Kb(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var r=!1,n=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{var u=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),h=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===u&&this.frame.canvas.height===h||this._getCameraState(s),this.frame.canvas.width!==u&&(this.frame.canvas.width=u,r=!0),this.frame.canvas.height!==h&&(this.frame.canvas.height=h,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");var t=1;return typeof window<"u"&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),i}(),OT=function(){function i(e,t){var r,n,o=this;z(this,i),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",N(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",N(n=this.releaseNode).call(n,this))}return L(i,[{key:"setOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];e=function(w,k){var E=Xe({nodes:k,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},w??{});if(!Se(E.nodes))throw new TypeError("Nodes has to be an array of ids.");if(E.nodes.length===0&&(E.nodes=k),!(typeof E.minZoomLevel=="number"&&E.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof E.maxZoomLevel=="number"&&E.minZoomLevel<=E.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return E}(e,this.body.nodeIndices);var r,n,o=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(o===0||s===0)n=1,r=$t.getRange(this.body.nodes,e.nodes);else if(t===!0){var u=0;for(var h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length)return void this.fit(e,!1);r=$t.getRange(this.body.nodes,e.nodes),n=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,n*=Math.min(o/600,s/600)}else{this.body.emitter.emit("_resizeNodes"),r=$t.getRange(this.body.nodes,e.nodes);var v=o/(1.1*Math.abs(r.maxX-r.minX)),g=s/(1.1*Math.abs(r.maxY-r.minY));n=v<=g?v:g}n>e.maxZoomLevel?n=e.maxZoomLevel:n<e.minZoomLevel&&(n=e.minZoomLevel);var y={position:$t.findCenter(r),scale:n,animation:e.animation};this.moveTo(y)}},{key:"focus",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){var r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(e!==void 0){if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Mi(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Mi(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Mi(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Mi(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(e!==void 0){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t,r,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o=n.x-e.position.x,s=n.y-e.position.y;this.targetTranslation={x:this.sourceTranslation.x+o*this.targetScale+e.offset.x,y:this.sourceTranslation.y+s*this.targetScale+e.offset.y},e.animation.duration===0?this.lockedOnNodeId!=null?(this.viewFunction=N(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=N(r=this._transitionRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=r.x-e,o=r.y-t,s=this.body.view.translation,u={x:s.x+n*this.body.view.scale+this.lockedOnNodeOffset.x,y:s.y+o*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=u}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var t=mS[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){var r;this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null&&(this.viewFunction=N(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),i}();function Yb(i){var e,t=i&&i.preventDefault||!1,r=i&&i.container||window,n={},o={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var u=function(g){v(g,"keydown")},h=function(g){v(g,"keyup")},v=function(g,y){if(o[y][g.keyCode]!==void 0){for(var w=o[y][g.keyCode],k=0;k<w.length;k++)(w[k].shift===void 0||w[k].shift==1&&g.shiftKey==1||w[k].shift==0&&g.shiftKey==0)&&w[k].fn(g);t==1&&g.preventDefault()}};return n.bind=function(g,y,w){if(w===void 0&&(w="keydown"),s[g]===void 0)throw new Error("unsupported key: "+g);o[w][s[g].code]===void 0&&(o[w][s[g].code]=[]),o[w][s[g].code].push({fn:y,shift:s[g].shift})},n.bindAll=function(g,y){for(var w in y===void 0&&(y="keydown"),s)s.hasOwnProperty(w)&&n.bind(w,g,y)},n.getKey=function(g){for(var y in s)if(s.hasOwnProperty(y)&&(g.shiftKey==1&&s[y].shift==1&&g.keyCode==s[y].code||g.shiftKey==0&&s[y].shift==0&&g.keyCode==s[y].code||g.keyCode==s[y].code&&y=="shift"))return y;return"unknown key, currently not supported"},n.unbind=function(g,y,w){if(w===void 0&&(w="keydown"),s[g]===void 0)throw new Error("unsupported key: "+g);if(y!==void 0){var k=[],E=o[w][s[g].code];if(E!==void 0)for(var S=0;S<E.length;S++)E[S].fn==y&&E[S].shift==s[g].shift||k.push(o[w][s[g].code][S]);o[w][s[g].code]=k}else o[w][s[g].code]=[]},n.reset=function(){o={keydown:{},keyup:{}}},n.destroy=function(){o={keydown:{},keyup:{}},r.removeEventListener("keydown",u,!0),r.removeEventListener("keyup",h,!0)},r.addEventListener("keydown",u,!0),r.addEventListener("keyup",h,!0),n}var ST=function(){function i(e,t){var r=this;z(this,i),this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){r.activated=!0,r.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){r.activated=!1,r.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){r.keycharm!==void 0&&r.keycharm.destroy()}),this.options={}}return L(i,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<t.length;n++){this.navigationDOM[t[n]]=document.createElement("div"),this.navigationDOM[t[n]].className="vis-button vis-"+t[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[n]]);var o,s,u=new Mo(this.navigationDOM[t[n]]);r[n]==="_fit"?hs(u,N(o=this._fit).call(o,this)):hs(u,N(s=this.bindToRedraw).call(s,this,r[n])),this.navigationHammers.push(u)}var h=new Mo(this.canvas.frame);Kb(h,function(){e._stopMovement()}),this.navigationHammers.push(h),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var t;this.boundFunctions[e]===void 0&&(this.boundFunctions[e]=N(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,o=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,o=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,t,r,n,o,s,u,h,v,g,y,w,k,E,S,$,D,A,B,H,J,de,ue,ae,Q=this;this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=Yb({container:window,preventDefault:!0}):this.keycharm=Yb({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(N(e=this.keycharm).call(e,"up",function(){Q.bindToRedraw("_moveUp")},"keydown"),N(t=this.keycharm).call(t,"down",function(){Q.bindToRedraw("_moveDown")},"keydown"),N(r=this.keycharm).call(r,"left",function(){Q.bindToRedraw("_moveLeft")},"keydown"),N(n=this.keycharm).call(n,"right",function(){Q.bindToRedraw("_moveRight")},"keydown"),N(o=this.keycharm).call(o,"=",function(){Q.bindToRedraw("_zoomIn")},"keydown"),N(s=this.keycharm).call(s,"num+",function(){Q.bindToRedraw("_zoomIn")},"keydown"),N(u=this.keycharm).call(u,"num-",function(){Q.bindToRedraw("_zoomOut")},"keydown"),N(h=this.keycharm).call(h,"-",function(){Q.bindToRedraw("_zoomOut")},"keydown"),N(v=this.keycharm).call(v,"[",function(){Q.bindToRedraw("_zoomOut")},"keydown"),N(g=this.keycharm).call(g,"]",function(){Q.bindToRedraw("_zoomIn")},"keydown"),N(y=this.keycharm).call(y,"pageup",function(){Q.bindToRedraw("_zoomIn")},"keydown"),N(w=this.keycharm).call(w,"pagedown",function(){Q.bindToRedraw("_zoomOut")},"keydown"),N(k=this.keycharm).call(k,"up",function(){Q.unbindFromRedraw("_moveUp")},"keyup"),N(E=this.keycharm).call(E,"down",function(){Q.unbindFromRedraw("_moveDown")},"keyup"),N(S=this.keycharm).call(S,"left",function(){Q.unbindFromRedraw("_moveLeft")},"keyup"),N($=this.keycharm).call($,"right",function(){Q.unbindFromRedraw("_moveRight")},"keyup"),N(D=this.keycharm).call(D,"=",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),N(A=this.keycharm).call(A,"num+",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),N(B=this.keycharm).call(B,"num-",function(){Q.unbindFromRedraw("_zoomOut")},"keyup"),N(H=this.keycharm).call(H,"-",function(){Q.unbindFromRedraw("_zoomOut")},"keyup"),N(J=this.keycharm).call(J,"[",function(){Q.unbindFromRedraw("_zoomOut")},"keyup"),N(de=this.keycharm).call(de,"]",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),N(ue=this.keycharm).call(ue,"pageup",function(){Q.unbindFromRedraw("_zoomIn")},"keyup"),N(ae=this.keycharm).call(ae,"pagedown",function(){Q.unbindFromRedraw("_zoomOut")},"keyup")))}}]),i}();function Xb(i,e){var t=ki!==void 0&&kt(i)||i["@@iterator"];if(!t){if(Se(i)||(t=function(h,v){var g;if(!!h){if(typeof h=="string")return df(h,v);var y=vt(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return hn(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return df(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function df(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}var Go=function(){function i(e,t,r){var n,o,s,u,h,v,g,y,w,k,E,S,$;z(this,i),this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new ST(e,t),this.body.eventListeners.onTap=N(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=N(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=N(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=N(u=this.onHold).call(u,this),this.body.eventListeners.onDragStart=N(h=this.onDragStart).call(h,this),this.body.eventListeners.onDrag=N(v=this.onDrag).call(v,this),this.body.eventListeners.onDragEnd=N(g=this.onDragEnd).call(g,this),this.body.eventListeners.onMouseWheel=N(y=this.onMouseWheel).call(y,this),this.body.eventListeners.onPinch=N(w=this.onPinch).call(w,this),this.body.eventListeners.onMouseMove=N(k=this.onMouseMove).call(k,this),this.body.eventListeners.onRelease=N(E=this.onRelease).call(E,this),this.body.eventListeners.onContext=N(S=this.onContext).call(S,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=N($=this.getPointer).call($,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Xe(this.options,this.defaultOptions),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){e!==void 0&&($i(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),or(this.options,e,"keyboard"),e.tooltip&&(Xe(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=tu(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-yS(this.canvas.frame.canvas)};var t}},{key:"onTouch",value:function(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if(new Date().valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e){(arguments.length>1&&arguments[1]!==void 0&&arguments[1])===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,t){var r=function(n,o){for(var s=[],u=0;u<n.length;u++){var h=n[u];we(o).call(o,h)===-1&&s.push(h)}return s};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Xe({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var n,o=Xb(this.selectionHandler.getSelectedNodes());try{for(o.s();!(n=o.n()).done;){var s=n.value,u={id:s.id,node:s,x:s.x,y:s.y,xFixed:s.options.fixed.x,yFixed:s.options.fixed.y};s.options.fixed.x=!0,s.options.fixed.y=!0,this.drag.selection.push(u)}}catch(h){o.e(h)}finally{o.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var t=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);var o=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Ce(n).call(n,function(v){var g=v.node;v.xFixed===!1&&(g.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(v.x)+o)),v.yFixed===!1&&(g.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(v.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0)return void this.onDragStart(e);var u=r.x-this.drag.pointer.x,h=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+u,y:this.drag.translation.y+h},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var t=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;var n=this.body.selectionBox.position,o={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Ot(r=this.body.nodeIndices).call(r,function(v){var g=t.body.nodes[v];return g.x>=o.minX&&g.x<=o.maxX&&g.y>=o.minY&&g.y<=o.maxY});Ce(s).call(s,function(v){return t.selectionHandler.selectObject(t.body.nodes[v])});var u=this.getPointer(e.center);this.selectionHandler.commitAndEmit(u,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var h=this.drag.selection;h&&h.length?(Ce(h).call(h,function(v){v.node.options.fixed.x=v.xFixed,v.node.options.fixed.y=v.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var r=this.pinch.scale*e.scale;this.zoom(r,t)}},{key:"zoom",value:function(e,t){if(this.options.zoomView===!0){var r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var n=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,s=e/r,u=(1-s)*t.x+o.x*s,h=(1-s)*t.y+o.y*s;if(this.body.view.scale=e,this.body.view.translation={x:u,y:h},n!=null){var v=this.canvas.canvasToDOM(n);this.drag.pointer.x=v.x,this.drag.pointer.y=v.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){if(e.deltaY!==0){var t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,r=this.getPointer({x:e.clientX,y:e.clientY}),n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Nr(function(){return t._checkShowPopup(r)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),n={left:t,top:r,right:t,bottom:r},o=this.popupObj===void 0?void 0:this.popupObj.id,s=!1,u="node";if(this.popupObj===void 0){for(var h,v=this.body.nodeIndices,g=this.body.nodes,y=[],w=0;w<v.length;w++)(h=g[v[w]]).isOverlappingWith(n)===!0&&(s=!0,h.getTitle()!==void 0&&y.push(v[w]));y.length>0&&(this.popupObj=g[y[y.length-1]],s=!0)}if(this.popupObj===void 0&&s===!1){for(var k,E=this.body.edgeIndices,S=this.body.edges,$=[],D=0;D<E.length;D++)(k=S[E[D]]).isOverlappingWith(n)===!0&&k.connected===!0&&k.getTitle()!==void 0&&$.push(E[D]);$.length>0&&(this.popupObj=S[$[$.length-1]],u="edge")}this.popupObj!==void 0?this.popupObj.id!==o&&(this.popup===void 0&&(this.popup=new SS(this.canvas.frame)),this.popup.popupTargetType=u,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))===!0){var n=this.selectionHandler.getNodeAt(e);r=n!==void 0&&n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),i}();Dd("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},Um);var Li=K(be.Set),Qb=ke,Jb=Md,_u=ou.getWeakData,xT=su,TT=Ut,IT=si,ff=Pe,$T=Cd,vf=ot,PT=$r.set,CT=$r.getterFor,DT=Qr.find,MT=Qr.findIndex,AT=Qb([].splice),NT=0,ku=function(i){return i.frozen||(i.frozen=new Zb)},Zb=function(){this.entries=[]},Eu=function(i,e){return DT(i.entries,function(t){return t[0]===e})};Zb.prototype={get:function(i){var e=Eu(this,i);if(e)return e[1]},has:function(i){return!!Eu(this,i)},set:function(i,e){var t=Eu(this,i);t?t[1]=e:this.entries.push([i,e])},delete:function(i){var e=MT(this.entries,function(t){return t[0]===i});return~e&&AT(this.entries,e,1),!!~e}};var cs,RT={getConstructor:function(i,e,t,r){var n=i(function(h,v){xT(h,o),PT(h,{type:e,id:NT++,frozen:void 0}),IT(v)||$T(v,h[r],{that:h,AS_ENTRIES:t})}),o=n.prototype,s=CT(e),u=function(h,v,g){var y=s(h),w=_u(TT(v),!0);return w===!0?ku(y).set(v,g):w[y.id]=g,h};return Jb(o,{delete:function(h){var v=s(this);if(!ff(h))return!1;var g=_u(h);return g===!0?ku(v).delete(h):g&&vf(g,v.id)&&delete g[v.id]},has:function(h){var v=s(this);if(!ff(h))return!1;var g=_u(h);return g===!0?ku(v).has(h):g&&vf(g,v.id)}}),Jb(o,t?{get:function(h){var v=s(this);if(ff(h)){var g=_u(h);return g===!0?ku(v).get(h):g?g[v.id]:void 0}},set:function(h,v){return u(this,h,v)}}:{add:function(h){return u(this,h,!0)}}),n}},e0=$m,t0=he,Ou=ke,r0=Md,FT=ou,BT=Dd,i0=RT,Su=Pe,xu=$r.enforce,n0=Y,jT=ha,ds=Object,zT=Array.isArray,Tu=ds.isExtensible,o0=ds.isFrozen,LT=ds.isSealed,a0=ds.freeze,s0=ds.seal,l0={},u0={},h0=!t0.ActiveXObject&&"ActiveXObject"in t0,c0=function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},fs=BT("WeakMap",c0,i0),Nn=fs.prototype,Hr=Ou(Nn.set);if(jT)if(h0){cs=i0.getConstructor(c0,"WeakMap",!0),FT.enable();var d0=Ou(Nn.delete),Iu=Ou(Nn.has),f0=Ou(Nn.get);r0(Nn,{delete:function(i){if(Su(i)&&!Tu(i)){var e=xu(this);return e.frozen||(e.frozen=new cs),d0(this,i)||e.frozen.delete(i)}return d0(this,i)},has:function(i){if(Su(i)&&!Tu(i)){var e=xu(this);return e.frozen||(e.frozen=new cs),Iu(this,i)||e.frozen.has(i)}return Iu(this,i)},get:function(i){if(Su(i)&&!Tu(i)){var e=xu(this);return e.frozen||(e.frozen=new cs),Iu(this,i)?f0(this,i):e.frozen.get(i)}return f0(this,i)},set:function(i,e){if(Su(i)&&!Tu(i)){var t=xu(this);t.frozen||(t.frozen=new cs),Iu(this,i)?Hr(this,i,e):t.frozen.set(i,e)}else Hr(this,i,e);return this}})}else e0&&n0(function(){var i=a0([]);return Hr(new fs,i,1),!o0(i)})&&r0(Nn,{set:function(i,e){var t;return zT(i)&&(o0(i)?t=l0:LT(i)&&(t=u0)),Hr(this,i,e),t===l0&&a0(i),t===u0&&s0(i),this}});var Rn,ar,kr,Hi,vs,Fn=K(be.WeakMap);function Ie(i,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(i):r?r.value:e.get(i)}function pf(i,e,t,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(i,t):n?n.value=t:e.set(i,t),t}function gf(i,e){var t=ki!==void 0&&kt(i)||i["@@iterator"];if(!t){if(Se(i)||(t=function(h,v){var g;if(!!h){if(typeof h=="string")return v0(h,v);var y=vt(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return hn(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return v0(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function v0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function p0(i,e){var t,r=new Li,n=gf(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;i.has(o)||r.add(o)}}catch(s){n.e(s)}finally{n.f()}return r}typeof SuppressedError=="function"&&SuppressedError;var g0=function(){function i(){z(this,i),Rn.set(this,new Li),ar.set(this,new Li)}return L(i,[{key:"size",get:function(){return Ie(this,ar,"f").size}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,o=t;n<o.length;n++){var s=o[n];Ie(this,ar,"f").add(s)}}},{key:"delete",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,o=t;n<o.length;n++){var s=o[n];Ie(this,ar,"f").delete(s)}}},{key:"clear",value:function(){Ie(this,ar,"f").clear()}},{key:"getSelection",value:function(){return Mr(Ie(this,ar,"f"))}},{key:"getChanges",value:function(){return{added:Mr(p0(Ie(this,Rn,"f"),Ie(this,ar,"f"))),deleted:Mr(p0(Ie(this,ar,"f"),Ie(this,Rn,"f"))),previous:Mr(new Li(Ie(this,Rn,"f"))),current:Mr(new Li(Ie(this,ar,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();pf(this,Rn,Ie(this,ar,"f"),"f"),pf(this,ar,new Li(Ie(this,Rn,"f")),"f");var t,r=gf(e.added);try{for(r.s();!(t=r.n()).done;)t.value.select()}catch(s){r.e(s)}finally{r.f()}var n,o=gf(e.deleted);try{for(o.s();!(n=o.n()).done;)n.value.unselect()}catch(s){o.e(s)}finally{o.f()}return e}}]),i}();Rn=new Fn,ar=new Fn;var HT=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};z(this,i),kr.set(this,new g0),Hi.set(this,new g0),vs.set(this,void 0),pf(this,vs,e,"f")}return L(i,[{key:"sizeNodes",get:function(){return Ie(this,kr,"f").size}},{key:"sizeEdges",get:function(){return Ie(this,Hi,"f").size}},{key:"getNodes",value:function(){return Ie(this,kr,"f").getSelection()}},{key:"getEdges",value:function(){return Ie(this,Hi,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=Ie(this,kr,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=Ie(this,Hi,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){Ie(this,kr,"f").delete(e)}},{key:"deleteEdges",value:function(e){Ie(this,Hi,"f").delete(e)}},{key:"clear",value:function(){Ie(this,kr,"f").clear(),Ie(this,Hi,"f").clear()}},{key:"commit",value:function(){for(var e,t,r={nodes:Ie(this,kr,"f").commit(),edges:Ie(this,Hi,"f").commit()},n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=Ie(this,vs,"f")).call.apply(e,Aa(t=[this,r]).call(t,o)),r}}]),i}();function ps(i,e){var t=ki!==void 0&&kt(i)||i["@@iterator"];if(!t){if(Se(i)||(t=function(h,v){var g;if(!!h){if(typeof h=="string")return y0(h,v);var y=vt(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return hn(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return y0(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function y0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}kr=new Fn,Hi=new Fn,vs=new Fn;var Ko=function(){function i(e,t){var r=this;z(this,i),this.body=e,this.canvas=t,this._selectionAccumulator=new HT,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Xe(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){r.updateSelection()})}return L(i,[{key:"setOptions",value:function(e){e!==void 0&&Do(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}},{key:"generateClickEvent",value:function(e,t,r,n){var o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],s=this._initBaseEvent(t,r);if(o===!0)s.nodes=[],s.edges=[];else{var u=this.getSelection();s.nodes=u.nodes,s.edges=u.edges}n!==void 0&&(s.previousSelection=n),e=="click"&&(s.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(s.controlEdge=t.controlEdge),this.body.emitter.emit(e,s)}},{key:"selectObject",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(e!==void 0){if(e instanceof Zt){var r;t===!0&&(r=this._selectionAccumulator).addEdges.apply(r,Mr(e.edges)),this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],r=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodeIndices[n];r[o].isOverlappingWith(e)&&t.push(o)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(r);return n.length>0?t===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var r=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var o=this.body.edgeIndices[n];r[o].isOverlappingWith(e)&&t.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.canvas.DOMtoCanvas(e),n=10,o=null,s=this.body.edges,u=0;u<this.body.edgeIndices.length;u++){var h=this.body.edgeIndices[u],v=s[h];if(v.connected){var g=v.from.x,y=v.from.y,w=v.to.x,k=v.to.y,E=v.edgeType.getDistanceToEdge(g,y,w,k,r.x,r.y);E<n&&(o=h,n=E)}}return o!==null?t===!0?this.body.edges[o]:o:void 0}},{key:"_addToHover",value:function(e){e instanceof Zt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){var t;e instanceof Zt?(this._selectionAccumulator.deleteNodes(e),(t=this._selectionAccumulator).deleteEdges.apply(t,Mr(e.edges))):this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var r=e.edges[t];r.hover=!0,this._addToHover(r)}}},{key:"emitBlurEvent",value:function(e,t,r){var n=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof Zt?(n.node=r.id,this.body.emitter.emit("blurNode",n)):(n.edge=r.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(e,t,r){var n=this._initBaseEvent(e,t),o=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),o=!0,r instanceof Zt?(n.node=r.id,this.body.emitter.emit("hoverNode",n)):(n.edge=r.id,this.body.emitter.emit("hoverEdge",n))),o}},{key:"hoverObject",value:function(e,t){var r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));var n=!1;for(var o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(r===void 0||r instanceof Zt&&r.id!=o||r instanceof qo)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(var s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(n===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(r===void 0||r instanceof qo&&r.id!=s||r instanceof Zt&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));if(r!==void 0){var u=Ve(this.hoverObj.edges).length,h=Ve(this.hoverObj.nodes).length;(n||r instanceof qo&&u===0&&h===0||r instanceof Zt&&u===0&&h===0)&&(n=this.emitHoverEvent(e,t,r)),r instanceof Zt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}n===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,t){var r=!1,n=this._selectionAccumulator.commit(),o={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,o),r=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,o),r=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return Eo(e=this._selectionAccumulator.getNodes()).call(e,function(t){return t.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return Eo(e=this._selectionAccumulator.getEdges()).call(e,function(t){return t.id})}},{key:"setSelection",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes){var r,n=ps(e.nodes);try{for(n.s();!(r=n.n()).done;){var o=r.value,s=this.body.nodes[o];if(!s)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(s,t.highlightEdges)}}catch(y){n.e(y)}finally{n.f()}}if(e.edges){var u,h=ps(e.edges);try{for(h.s();!(u=h.n()).done;){var v=u.value,g=this.body.edges[v];if(!g)throw new RangeError('Edge with id "'+v+'" not found');this.selectObject(g)}}catch(y){h.e(y)}finally{h.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),r=[],n=this.body.nodeIndices,o=this.body.nodes,s=n.length-1;s>=0;s--){var u=o[n[s]].getItemsOnPoint(t);r.push.apply(r,u)}for(var h=this.body.edgeIndices,v=this.body.edges,g=h.length-1;g>=0;g--){var y=v[h[g]].getItemsOnPoint(t);r.push.apply(r,y)}return r}}]),i}(),$u=Yp,WT=Math.floor,yf=function(i,e){var t=i.length,r=WT(t/2);return t<8?UT(i,e):VT(i,yf($u(i,0,r),e),yf($u(i,r),e),e)},UT=function(i,e){for(var t,r,n=i.length,o=1;o<n;){for(r=o,t=i[o];r&&e(i[r-1],t)>0;)i[r]=i[--r];r!==o++&&(i[r]=t)}return i},VT=function(i,e,t,r){for(var n=e.length,o=t.length,s=0,u=0;s<n||u<o;)i[s+u]=s<n&&u<o?r(e[s],t[u])<=0?e[s++]:t[u++]:s<n?e[s++]:t[u++];return i},m0=yf,mf=ra.match(/firefox\/(\d+)/i),qT=!!mf&&+mf[1],GT=/MSIE|Trident/.test(ra),Pu=ra.match(/AppleWebKit\/(\d+)\./),b0=!!Pu&&+Pu[1],KT=te,w0=ke,YT=tn,XT=At,bf=Ye,QT=hy,wf=Tr,Pt=Y,JT=m0,ZT=Oo,_f=qT,eI=GT,kf=li,Ef=b0,Wi=[],Of=w0(Wi.sort),tI=w0(Wi.push),rI=Pt(function(){Wi.sort(void 0)}),iI=Pt(function(){Wi.sort(null)}),Sf=ZT("sort"),Cu=!Pt(function(){if(kf)return kf<70;if(!(_f&&_f>3)){if(eI)return!0;if(Ef)return Ef<603;var i,e,t,r,n="";for(i=65;i<76;i++){switch(e=String.fromCharCode(i),i){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)Wi.push({k:e+r,v:t})}for(Wi.sort(function(o,s){return s.v-o.v}),r=0;r<Wi.length;r++)e=Wi[r].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return n!=="DGBEFHACIJK"}});KT({target:"Array",proto:!0,forced:rI||!iI||!Sf||!Cu},{sort:function(i){i!==void 0&&YT(i);var e=XT(this);if(Cu)return i===void 0?Of(e):Of(e,i);var t,r,n=[],o=bf(e);for(r=0;r<o;r++)r in e&&tI(n,e[r]);for(JT(n,function(s){return function(u,h){return h===void 0?-1:u===void 0?1:s!==void 0?+s(u,h)||0:wf(u)>wf(h)?1:-1}}(i)),t=bf(n),r=0;r<t;)e[r]=n[r++];for(;r<o;)QT(e,r++);return e}});var nI=je("Array").sort,xf=Be,oI=nI,Du=Array.prototype,aI=function(i){var e=i.sort;return i===Du||xf(Du,i)&&e===Du.sort?oI:e},Bn=K(aI),gs=tn,_0=At,ys=Ts,jn=Ye,Tf=TypeError,Mu=function(i){return function(e,t,r,n){gs(t);var o=_0(e),s=ys(o),u=jn(o),h=i?u-1:0,v=i?-1:1;if(r<2)for(;;){if(h in s){n=s[h],h+=v;break}if(h+=v,i?h<0:u<=h)throw new Tf("Reduce of empty array with no initial value")}for(;i?h>=0:u>h;h+=v)h in s&&(n=t(n,s[h],h,o));return n}},If={left:Mu(!1),right:Mu(!0)},$f=qr(he.process)==="process",k0=If.left;te({target:"Array",proto:!0,forced:!$f&&li>79&&li<83||!Oo("reduce")},{reduce:function(i){var e=arguments.length;return k0(this,i,e,e>1?arguments[1]:void 0)}});var E0=je("Array").reduce,O0=Be,S0=E0,Au=Array.prototype,sI=function(i){var e=i.reduce;return i===Au||O0(Au,i)&&e===Au.reduce?S0:e},x0=K(sI);function T0(i){var e=function(){if(typeof Reflect>"u"||!M||M.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(M(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=q(i);if(e){var n=q(this).constructor;t=M(r,arguments,n)}else t=r.apply(this,arguments);return xe(this,t)}}var I0=function(){function i(){z(this,i)}return L(i,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),i}(),zn=function(i){_e(t,i);var e=T0(t);function t(r){var n;return z(this,t),(n=e.call(this)).layout=r,n}return L(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(r){return r.x}},{key:"setPosition",value:function(r,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;o!==void 0&&this.layout.hierarchical.addToOrdering(r,o),r.x=n}},{key:"getTreeSize",value:function(r){var n=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,r);return{min:n.min_x,max:n.max_x}}},{key:"sort",value:function(r){Bn(r).call(r,function(n,o){return n.x-o.x})}},{key:"fix",value:function(r,n){r.y=this.layout.options.hierarchical.levelSeparation*n,r.options.fixed.y=!0}},{key:"shift",value:function(r,n){this.layout.body.nodes[r].x+=n}}]),t}(I0),$0=function(i){_e(t,i);var e=T0(t);function t(r){var n;return z(this,t),(n=e.call(this)).layout=r,n}return L(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(r){return r.y}},{key:"setPosition",value:function(r,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;o!==void 0&&this.layout.hierarchical.addToOrdering(r,o),r.y=n}},{key:"getTreeSize",value:function(r){var n=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,r);return{min:n.min_y,max:n.max_y}}},{key:"sort",value:function(r){Bn(r).call(r,function(n,o){return n.y-o.y})}},{key:"fix",value:function(r,n){r.x=this.layout.options.hierarchical.levelSeparation*n,r.options.fixed.x=!0}},{key:"shift",value:function(r,n){this.layout.body.nodes[r].y+=n}}]),t}(I0),lI=Qr.every;te({target:"Array",proto:!0,forced:!Oo("every")},{every:function(i){return lI(this,i,arguments.length>1?arguments[1]:void 0)}});var Pf=je("Array").every,uI=Be,hI=Pf,Cf=Array.prototype,cI=function(i){var e=i.every;return i===Cf||uI(Cf,i)&&e===Cf.every?hI:e},Nu=K(cI);function P0(i,e){var t=ki!==void 0&&kt(i)||i["@@iterator"];if(!t){if(Se(i)||(t=function(h,v){var g;if(!!h){if(typeof h=="string")return Df(h,v);var y=vt(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return hn(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return Df(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function Df(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function C0(i,e){var t=new Li;return Ce(i).call(i,function(r){var n;Ce(n=r.edges).call(n,function(o){o.connected&&t.add(o)})}),Ce(t).call(t,function(r){var n=r.from.id,o=r.to.id;e[n]==null&&(e[n]=0),(e[o]==null||e[n]>=e[o])&&(e[o]=e[n]+1)}),e}function ms(i,e,t,r){var n,o,s=Ei(null),u=x0(n=Mr(Hd(r).call(r))).call(n,function(k,E){return k+1+E.edges.length},0),h=t+"Id",v=t==="to"?1:-1,g=P0(r);try{var y,w=function(){var k=Ue(o.value,2),E=k[0],S=k[1];if(!r.has(E)||!i(S))return 0;s[E]=0;for(var $,D,A=[S],B=0,H=function(){var J,de;if(!r.has(E))return 0;var ue=s[$.id]+v;if(Ce(J=Ot(de=$.edges).call(de,function(ae){return ae.connected&&ae.to!==ae.from&&ae[t]!==$&&r.has(ae.toId)&&r.has(ae.fromId)})).call(J,function(ae){var Q=ae[h],Te=s[Q];(Te==null||e(ue,Te))&&(s[Q]=ue,A.push(ae[t]))}),B>u)return{v:{v:C0(r,s)}};++B};$=A.pop();)if((D=H())!==0&&D)return D.v};for(g.s();!(o=g.n()).done;)if((y=w())!==0&&y)return y.v}catch(k){g.e(k)}finally{g.f()}return s}var D0=function(){function i(){z(this,i),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return L(i,[{key:"addRelation",value:function(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){this.levels[e]===void 0&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,r={};return function n(o){if(r[o]!==void 0)return r[o];var s=t.levels[o];if(t.childrenReference[o]){var u=t.childrenReference[o];if(u.length>0)for(var h=0;h<u.length;h++)s=Math.max(s,n(u[h]))}return r[o]=s,s}(e)}},{key:"levelDownstream",value:function(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.levels[r]!==void 0&&(t=Math.min(this.levels[r],t));for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.levels[n]!==void 0&&(this.levels[n]-=t)}},{key:"getTreeSize",value:function(e,t){var r=1e9,n=-1e9,o=1e9,s=-1e9;for(var u in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,u)&&this.trees[u]===t){var h=e[u];r=Math.min(h.x,r),n=Math.max(h.x,n),o=Math.min(h.y,o),s=Math.max(h.y,s)}return{min_x:r,max_x:n,min_y:o,max_y:s}}},{key:"hasSameParent",value:function(e,t){var r=this.parentReference[e.id],n=this.parentReference[t.id];if(r===void 0||n===void 0)return!1;for(var o=0;o<r.length;o++)for(var s=0;s<n.length;s++)if(r[o]==n[s])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return Ve(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);var r=!1,n=this.distributionOrdering[t];for(var o in n)if(n[o]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),i}(),Mf=function(){function i(e){z(this,i),this.body=e,this._resetRNG(Math.random()+":"+Na()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Xe(this.options,this.defaultOptions),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(e.options.hierarchical.enabled===!0){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(e,t){if(e!==void 0){var r=this.options.hierarchical,n=r.enabled;if(Do(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),or(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(n===!0)return this.body.emitter.emit("refresh"),Me(t,this.optionsBackup)}return t}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=Zl(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){var t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0||t.enabled,t.solver=t.solver||"barnesHut"):Ee(e.physics)==="object"?(t.enabled=e.physics.enabled===void 0||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{var n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(r=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0||n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection!==void 0&&n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0||n.enabled,type:r,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection!==void 0&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var t=e.length+50,r=0;r<e.length;r++){var n=e[r],o=2*Math.PI*this._rng();n.x===void 0&&(n.x=t*Math.cos(o)),n.y===void 0&&(n.y=t*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=this.body.nodeIndices,t=0,r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){var n=0,o=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){for(var u=e.length;e.length>o&&n<=10;){n+=1;var h=e.length;if(n%3==0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s),h==e.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var v=0;v<e.length;v++){var g=this.body.nodes[e[v]];g.predefinedPosition===!1&&(g.x+=70*(.5-this._rng()),g.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=$t.getRangeCore(this.body.nodes,this.body.nodeIndices),t=$t.findCenter(e),r=0;r<this.body.nodeIndices.length;r++){var n=this.body.nodes[this.body.nodeIndices[r]];n.x-=t.x,n.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e,t,r=!1,n=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new D0,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&((e=this.body.nodes[t]).options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):n=!0);if(n===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(n===!0){var o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.hierarchical.ensureLevel(s);var u=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(u),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,r={},n=function(y,w){var k=e.hierarchical.trees;for(var E in k)Object.prototype.hasOwnProperty.call(k,E)&&k[E]===y&&e.direction.shift(E,w)},o=function(){for(var y=[],w=0;w<e.hierarchical.numTrees();w++)y.push(e.direction.getTreeSize(w));return y},s=function y(w,k){if(!k[w.id]&&(k[w.id]=!0,e.hierarchical.childrenReference[w.id])){var E=e.hierarchical.childrenReference[w.id];if(E.length>0)for(var S=0;S<E.length;S++)y(e.body.nodes[E[S]],k)}},u=function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,k=1e9,E=1e9,S=1e9,$=-1e9;for(var D in y)if(Object.prototype.hasOwnProperty.call(y,D)){var A=e.body.nodes[D],B=e.hierarchical.levels[A.id],H=e.direction.getPosition(A),J=Ue(e._getSpaceAroundNode(A,y),2),de=J[0],ue=J[1];k=Math.min(de,k),E=Math.min(ue,E),B<=w&&(S=Math.min(H,S),$=Math.max(H,$))}return[S,$,k,E]},h=function(y,w,k){for(var E=e.hierarchical,S=0;S<w.length;S++){var $=w[S],D=E.distributionOrdering[$];if(D.length>1)for(var A=0;A<D.length-1;A++){var B=D[A],H=D[A+1];E.hasSameParent(B,H)&&E.inSameSubNetwork(B,H)&&y(B,H,k)}}},v=function(y,w){var k=arguments.length>2&&arguments[2]!==void 0&&arguments[2],E=e.direction.getPosition(y),S=e.direction.getPosition(w),$=Math.abs(S-E),D=e.options.hierarchical.nodeSpacing;if($>D){var A={},B={};s(y,A),s(w,B);var H=function(ye,$e){var Fe=e.hierarchical.getMaxLevel(ye.id),ze=e.hierarchical.getMaxLevel($e.id);return Math.min(Fe,ze)}(y,w),J=u(A,H),de=u(B,H),ue=J[1],ae=de[0],Q=de[2];if(Math.abs(ue-ae)>D){var Te=ue-ae+D;Te<-Q+D&&(Te=-Q+D),Te<0&&(e._shiftBlock(w.id,Te),t=!0,k===!0&&e._centerParent(w))}}},g=function(y,w){for(var k=w.id,E=w.edges,S=e.hierarchical.levels[w.id],$=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,D={},A=[],B=0;B<E.length;B++){var H=E[B];if(H.toId!=H.fromId){var J=H.toId==k?H.from:H.to;D[E[B].id]=J,e.hierarchical.levels[J.id]<S&&A.push(H)}}var de=function(Te,ye){for(var $e=0,Fe=0;Fe<ye.length;Fe++)if(D[ye[Fe].id]!==void 0){var ze=e.direction.getPosition(D[ye[Fe].id])-Te;$e+=ze/Math.sqrt(ze*ze+$)}return $e},ue=function(Te,ye){for(var $e=0,Fe=0;Fe<ye.length;Fe++)if(D[ye[Fe].id]!==void 0){var ze=e.direction.getPosition(D[ye[Fe].id])-Te;$e-=$*Math.pow(ze*ze+$,-1.5)}return $e},ae=function(Te,ye){for(var $e=e.direction.getPosition(w),Fe={},ze=0;ze<Te;ze++){var sr=de($e,ye),tt=ue($e,ye);if(Fe[$e-=Math.max(-40,Math.min(40,Math.round(sr/tt)))]!==void 0)break;Fe[$e]=ze}return $e},Q=ae(y,A);(function(Te){var ye=e.direction.getPosition(w);if(r[w.id]===void 0){var $e={};s(w,$e),r[w.id]=$e}var Fe=u(r[w.id]),ze=Fe[2],sr=Fe[3],tt=Te-ye,Fu=0;tt>0?Fu=Math.min(tt,sr-e.options.hierarchical.nodeSpacing):tt<0&&(Fu=-Math.min(-tt,ze-e.options.hierarchical.nodeSpacing)),Fu!=0&&(e._shiftBlock(w.id,Fu),t=!0)})(Q),function(Te){var ye=e.direction.getPosition(w),$e=Ue(e._getSpaceAroundNode(w),2),Fe=$e[0],ze=$e[1],sr=Te-ye,tt=ye;sr>0?tt=Math.min(ye+(ze-e.options.hierarchical.nodeSpacing),Te):sr<0&&(tt=Math.max(ye-(Fe-e.options.hierarchical.nodeSpacing),Te)),tt!==ye&&(e.direction.setPosition(w,tt),t=!0)}(Q=ae(y,E))};this.options.hierarchical.blockShifting===!0&&(function(y){var w=e.hierarchical.getLevels();w=vn(w).call(w);for(var k=0;k<y&&(t=!1,h(v,w,!0),t===!0);k++);}(5),function(){for(var y in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,y)&&e._centerParent(e.body.nodes[y])}()),this.options.hierarchical.edgeMinimization===!0&&function(y){var w=e.hierarchical.getLevels();w=vn(w).call(w);for(var k=0;k<y;k++){t=!1;for(var E=0;E<w.length;E++)for(var S=w[E],$=e.hierarchical.distributionOrdering[S],D=0;D<$.length;D++)g(1e3,$[D]);if(t!==!0)break}}(20),this.options.hierarchical.parentCentralization===!0&&function(){var y=e.hierarchical.getLevels();y=vn(y).call(y);for(var w=0;w<y.length;w++)for(var k=y[w],E=e.hierarchical.distributionOrdering[k],S=0;S<E.length;S++)e._centerParent(E[S])}(),function(){for(var y=o(),w=0,k=0;k<y.length-1;k++)w+=y[k].max-y[k+1].min+e.options.hierarchical.treeSpacing,n(k+1,w)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var r=!0;t===void 0&&(r=!1);var n=this.hierarchical.levels[e.id];if(n!==void 0){var o=this.hierarchical.distributionIndex[e.id],s=this.direction.getPosition(e),u=this.hierarchical.distributionOrdering[n],h=1e9,v=1e9;if(o!==0){var g=u[o-1];(r===!0&&t[g.id]===void 0||r===!1)&&(h=s-this.direction.getPosition(g))}if(o!=u.length-1){var y=u[o+1];if(r===!0&&t[y.id]===void 0||r===!1){var w=this.direction.getPosition(y);v=Math.min(v,w-s)}}return[h,v]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],r=0;r<t.length;r++){var n=t[r],o=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(s!==void 0){var u=this._getCenterPosition(s),h=this.direction.getPosition(o),v=Ue(this._getSpaceAroundNode(o),2),g=v[0],y=v[1],w=h-u;(w<0&&Math.abs(w)<y-this.options.hierarchical.nodeSpacing||w>0&&Math.abs(w)<g-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,u)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(Object.prototype.hasOwnProperty.call(e,t)){var r,n=Ve(e[t]);n=this._indexArrayToNodes(n),Bn(r=this.direction).call(r,n);for(var o=0,s=0;s<n.length;s++){var u=n[s];if(this.positionedNodes[u.id]===void 0){var h=this.options.hierarchical.nodeSpacing,v=h*o;o>0&&(v=this.direction.getPosition(n[s-1])+h),this.direction.setPosition(u,v,t),this._validatePositionAndContinue(u,t,v),o++}}}}},{key:"_placeBranchNodes",value:function(e,t){var r,n=this.hierarchical.childrenReference[e];if(n!==void 0){for(var o=[],s=0;s<n.length;s++)o.push(this.body.nodes[n[s]]);Bn(r=this.direction).call(r,o);for(var u=0;u<o.length;u++){var h=o[u],v=this.hierarchical.levels[h.id];if(!(v>t&&this.positionedNodes[h.id]===void 0))return;var g=this.options.hierarchical.nodeSpacing,y=void 0;y=u===0?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(o[u-1])+g,this.direction.setPosition(h,y,v),this._validatePositionAndContinue(h,v,y)}var w=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],w,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-n<this.options.hierarchical.nodeSpacing){var o=n+this.options.hierarchical.nodeSpacing-r,s=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}},{key:"_getDistribution",value:function(){var e,t,r={};for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){t=this.body.nodes[e];var n=this.hierarchical.levels[e]===void 0?0:this.hierarchical.levels[e];this.direction.fix(t,n),r[n]===void 0&&(r[n]={}),r[n][e]=t}return r}},{key:"_getActiveEdges",value:function(e){var t=this,r=[];return pe(e.edges,function(n){var o;we(o=t.body.edgeIndices).call(o,n.id)!==-1&&r.push(n)}),r}},{key:"_getHubSizes",value:function(){var e=this,t={};pe(this.body.nodeIndices,function(n){var o=e.body.nodes[n],s=e._getActiveEdges(o).length;t[s]=!0});var r=[];return pe(t,function(n){r.push(Number(n))}),Bn(r).call(r,function(n,o){return o-n}),r}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(s,u){e.hierarchical.levelDownstream(s,u)},r=this._getHubSizes(),n=function(){var s=r[o];if(s===0)return 1;pe(e.body.nodeIndices,function(u){var h=e.body.nodes[u];s===e._getActiveEdges(h).length&&e._crawlNetwork(t,u)})},o=0;o<r.length&&!n();++o);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork(function(t,r,n){var o=e.hierarchical.levels[t.id];o===void 0&&(o=e.hierarchical.levels[t.id]=1e5);var s=($t.cloneOptions(t,"node"),$t.cloneOptions(r,"node"),void $t.cloneOptions(n,"edge"));e.hierarchical.levels[r.id]=o+s}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,t=this,r=x0(e=this.body.nodeIndices).call(e,function(n,o){return n.set(o,t.body.nodes[o]),n},new Vm);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=function(n){return ms(function(o){var s,u;return Nu(s=Ot(u=o.edges).call(u,function(h){return n.has(h.toId)})).call(s,function(h){return h.from===o})},function(o,s){return s<o},"to",n)}(r):this.hierarchical.levels=function(n){return ms(function(o){var s,u;return Nu(s=Ot(u=o.edges).call(u,function(h){return n.has(h.toId)})).call(s,function(h){return h.to===o})},function(o,s){return s>o},"from",n)}(r),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork(function(t,r){e.hierarchical.levels[r.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,r.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0,n={},o=function g(y,w){if(n[y.id]===void 0){var k;e.hierarchical.setTreeIndex(y,w),n[y.id]=!0;for(var E=e._getActiveEdges(y),S=0;S<E.length;S++){var $=E[S];$.connected===!0&&(k=$.toId==y.id?$.from:$.to,y.id!=k.id&&(t(y,k,$),g(k,w)))}}};if(r===void 0)for(var s=0,u=0;u<this.body.nodeIndices.length;u++){var h=this.body.nodeIndices[u];n[h]===void 0&&(o(this.body.nodes[h],s),s+=1)}else{var v=this.body.nodes[r];if(v===void 0)return void console.error("Node not found:",r);o(v)}}},{key:"_shiftBlock",value:function(e,t){var r=this,n={};(function o(s){if(!n[s]){n[s]=!0,r.direction.shift(s,t);var u=r.hierarchical.childrenReference[s];if(u!==void 0)for(var h=0;h<u.length;h++)o(u[h])}})(e)}},{key:"_findCommonParent",value:function(e,t){var r=this,n={};return function o(s,u){var h=r.hierarchical.parentReference[u];if(h!==void 0)for(var v=0;v<h.length;v++){var g=h[v];s[g]=!0,o(s,g)}}(n,e),function o(s,u){var h=r.hierarchical.parentReference[u];if(h!==void 0)for(var v=0;v<h.length;v++){var g=h[v];if(s[g]!==void 0)return{foundParent:g,withChild:u};var y=o(s,g);if(y.foundParent!==null)return y}return{foundParent:null,withChild:u}}(n,t)}},{key:"setDirectionStrategy",value:function(){var e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";this.direction=e?new zn(this):new $0(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,r=-1e9,n=0;n<e.length;n++){var o=void 0;if(e[n].id!==void 0)o=e[n];else{var s=e[n];o=this.body.nodes[s]}var u=this.direction.getPosition(o);t=Math.min(t,u),r=Math.max(r,u)}return .5*(t+r)}}]),i}();function Yo(i,e){var t=ki!==void 0&&kt(i)||i["@@iterator"];if(!t){if(Se(i)||(t=function(h,v){var g;if(!!h){if(typeof h=="string")return Ru(h,v);var y=vt(g=Object.prototype.toString.call(h)).call(g,8,-1);if(y==="Object"&&h.constructor&&(y=h.constructor.name),y==="Map"||y==="Set")return hn(h);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return Ru(h,v)}}(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,u=!1;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return s=h.done,h},e:function(h){u=!0,o=h},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw o}}}}function Ru(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}var Af=function(){function i(e,t,r,n){var o,s,u=this;z(this,i),this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Xe(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){u._clean()}),this.body.emitter.on("_dataChanged",N(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",N(s=this._restore).call(s,this))}return L(i,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Me(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var r=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),o=r+n,s=this.options.locales[this.options.locale],u=!1;this.options.addNode!==!1&&(this._createAddNodeButton(s),u=!0),this.options.addEdge!==!1&&(u===!0?this._createSeperator(1):u=!0,this._createAddEdgeButton(s)),r===1&&typeof this.options.editNode=="function"?(u===!0?this._createSeperator(2):u=!0,this._createEditNodeButton(s)):n===1&&r===0&&this.options.editEdge!==!1&&(u===!0?this._createSeperator(3):u=!0,this._createEditEdgeButton(s)),o!==0&&(r>0&&this.options.deleteNode!==!1||r===0&&this.options.deleteEdge!==!1)&&(u===!0&&this._createSeperator(4),this._createDeleteButton(s)),this._bindElementEvents(this.closeDiv,N(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",N(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t,r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,N(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",N(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var t=this.selectionHandler.getSelectedNodes()[0];if(t!==void 0){if(this.inMode="editNode",typeof this.options.editNode!="function")throw new Error("No function has been configured to handle the editing of nodes.");if(t.isCluster!==!0){var r=Me({},t.options,!1);if(r.x=t.x,r.y=t.y,this.options.editNode.length!==2)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(r,function(n){n!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(n),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,t,r,n,o;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var s,u=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(u),this._createSeperator(),this._createDescription(u.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,N(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",N(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",N(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",N(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",N(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",N(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",Ee(this.options.editEdge)!=="object"||typeof this.options.editEdge.editWithoutDrag!="function"||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId===void 0)){if(this.guiEnabled===!0){var e,t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,N(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,o,s,u=this.body.edges[this.edgeBeingEditedId],h=this._getNewTargetNode(u.from.x,u.from.y),v=this._getNewTargetNode(u.to.x,u.to.y);this.temporaryIds.nodes.push(h.id),this.temporaryIds.nodes.push(v.id),this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id),this.body.nodes[v.id]=v,this.body.nodeIndices.push(v.id),this._temporaryBindUI("onTouch",N(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",N(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",N(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",N(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(y){var w=u.edgeType.findBorderPositions(y);h.selected===!1&&(h.x=w.from.x,h.y=w.from.y),v.selected===!1&&(v.x=w.to.x,v.y=w.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var g=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(g.from.id,g.to.id)}}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds(),n=void 0;if(t.length>0){for(var o=0;o<t.length;o++)if(this.body.nodes[t[o]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){var s={nodes:t,edges:r};if(n.length!==2)throw new Error("The function for delete does not support two arguments (data, callback)");n(s,function(u){u!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(u.edges),e.body.data.nodes.getDataSet().remove(u.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var e,t;this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var r=Me({},this.options.controlNodeStyle);r.id="targetNode"+us(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;var n=this.body.functions.createNode(r);return n.shape.boundingBox={left:e,right:e,top:t,bottom:t},n}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},Ti(this.editModeDiv);var t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,N(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(Ti(this.editModeDiv),Ti(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,t,r=Yo(pr(e=this._domEventListenerCleanupQueue).call(e,0));try{for(r.s();!(t=r.n()).done;)(0,t.value)()}catch(n){r.e(n)}finally{r.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Ti(this.manipulationDiv),Ti(this.editModeDiv),Ti(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t,r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,N(t=this.addNodeMode).call(t,this))}},{key:"_createAddEdgeButton",value:function(e){var t,r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,N(t=this.addEdgeMode).call(t,this))}},{key:"_createEditNodeButton",value:function(e){var t,r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,N(t=this.editNode).call(t,this))}},{key:"_createEditEdgeButton",value:function(e){var t,r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,N(t=this.editEdgeMode).call(t,this))}},{key:"_createDeleteButton",value:function(e){var t,r;r=this.options.rtl?"vis-delete-rtl":"vis-delete";var n=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,N(t=this.deleteSelected).call(t,this))}},{key:"_createBackButton",value:function(e){var t,r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,N(t=this.showManipulatorToolbar).call(t,this))}},{key:"_createButton",value:function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(this.body.eventListeners[e]===void 0)throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+So(Ve(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,t){var r=new Mo(e,{});hs(r,t),this._domEventListenerCleanupQueue.push(function(){r.destroy()});var n=function(o){var s=o.keyCode,u=o.key;u!=="Enter"&&u!==" "&&s!==13&&s!==32||t()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",n,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var t;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var r,n=we(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[e]);n!==-1&&pr(r=this.body.edgeIndices).call(r,n,1)}for(var o=0;o<this.temporaryIds.nodes.length;o++){var s;delete this.body.nodes[this.temporaryIds.nodes[o]];var u,h=we(s=this.body.nodeIndices).call(s,this.temporaryIds.nodes[o]);h!==-1&&pr(u=this.body.nodeIndices).call(u,h,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Xe({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=r.isOverlappingWith(t),u=n.isOverlappingWith(t);s===!0?(this.selectedControlNode=r,o.edgeType.from=r):u===!0&&(this.selectedControlNode=n,o.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),s=void 0,u=o.length-1;u>=0;u--)if(o[u]!==this.selectedControlNode.id){s=this.body.nodes[o[u]];break}if(s!==void 0&&this.selectedControlNode!==void 0)if(s.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var h=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===h.id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Xe({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(r.x,r.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var o=this.body.functions.createEdge({id:"connectionEdge"+us(),from:r.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=void 0;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),s=void 0,u=o.length-1;u>=0;u--){var h;if(we(h=this.temporaryIds.nodes).call(h,o[u])===-1){s=this.body.nodes[o[u]];break}}if(e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){var v=this.body.nodes[this.temporaryIds.nodes[0]];v.x=this.canvas._XconvertDOMtoCanvas(t.x),v.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=void 0;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),s=void 0,u=o.length-1;u>=0;u--){var h;if(we(h=this.temporaryIds.nodes).call(h,o[u])===-1){s=this.body.nodes[o[u]];break}}this._cleanupTemporaryNodesAndEdges(),s!==void 0&&(s.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[s.id]!==void 0&&this._performAddEdge(n,s.id)),e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,r={id:us(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function"){if(this.options.addNode.length!==2)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(r,function(n){n!=null&&t.inMode==="addNode"&&t.body.data.nodes.getDataSet().add(n),t.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var r=this,n={from:e,to:t};if(typeof this.options.addEdge=="function"){if(this.options.addEdge.length!==2)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(o){o!=null&&r.inMode==="addEdge"&&(r.body.data.edges.getDataSet().add(o),r.selectionHandler.unselectAll(),r.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var r=this,n={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label},o=this.options.editEdge;if(Ee(o)==="object"&&(o=o.editWithoutDrag),typeof o=="function"){if(o.length!==2)throw new Error("The function for edit does not support two arguments (data, callback)");o(n,function(s){s==null||r.inMode!=="editEdge"?(r.body.edges[n.id].updateEdgeType(),r.body.emitter.emit("_redraw"),r.showManipulatorToolbar()):(r.body.data.edges.getDataSet().update(s),r.selectionHandler.unselectAll(),r.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),i}(),j="string",R="boolean",P="number",Ui="array",X="object",Nf=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Vi={borderWidth:{number:P},borderWidthSelected:{number:P,undefined:"undefined"},brokenImage:{string:j,undefined:"undefined"},chosen:{label:{boolean:R,function:"function"},node:{boolean:R,function:"function"},__type__:{object:X,boolean:R}},color:{border:{string:j},background:{string:j},highlight:{border:{string:j},background:{string:j},__type__:{object:X,string:j}},hover:{border:{string:j},background:{string:j},__type__:{object:X,string:j}},__type__:{object:X,string:j}},opacity:{number:P,undefined:"undefined"},fixed:{x:{boolean:R},y:{boolean:R},__type__:{object:X,boolean:R}},font:{align:{string:j},color:{string:j},size:{number:P},face:{string:j},background:{string:j},strokeWidth:{number:P},strokeColor:{string:j},vadjust:{number:P},multi:{boolean:R,string:j},bold:{color:{string:j},size:{number:P},face:{string:j},mod:{string:j},vadjust:{number:P},__type__:{object:X,string:j}},boldital:{color:{string:j},size:{number:P},face:{string:j},mod:{string:j},vadjust:{number:P},__type__:{object:X,string:j}},ital:{color:{string:j},size:{number:P},face:{string:j},mod:{string:j},vadjust:{number:P},__type__:{object:X,string:j}},mono:{color:{string:j},size:{number:P},face:{string:j},mod:{string:j},vadjust:{number:P},__type__:{object:X,string:j}},__type__:{object:X,string:j}},group:{string:j,number:P,undefined:"undefined"},heightConstraint:{minimum:{number:P},valign:{string:j},__type__:{object:X,boolean:R,number:P}},hidden:{boolean:R},icon:{face:{string:j},code:{string:j},size:{number:P},color:{string:j},weight:{string:j,number:P},__type__:{object:X}},id:{string:j,number:P},image:{selected:{string:j,undefined:"undefined"},unselected:{string:j,undefined:"undefined"},__type__:{object:X,string:j}},imagePadding:{top:{number:P},right:{number:P},bottom:{number:P},left:{number:P},__type__:{object:X,number:P}},label:{string:j,undefined:"undefined"},labelHighlightBold:{boolean:R},level:{number:P,undefined:"undefined"},margin:{top:{number:P},right:{number:P},bottom:{number:P},left:{number:P},__type__:{object:X,number:P}},mass:{number:P},physics:{boolean:R},scaling:{min:{number:P},max:{number:P},label:{enabled:{boolean:R},min:{number:P},max:{number:P},maxVisible:{number:P},drawThreshold:{number:P},__type__:{object:X,boolean:R}},customScalingFunction:{function:"function"},__type__:{object:X}},shadow:{enabled:{boolean:R},color:{string:j},size:{number:P},x:{number:P},y:{number:P},__type__:{object:X,boolean:R}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:R,array:Ui},borderRadius:{number:P},interpolation:{boolean:R},useImageSize:{boolean:R},useBorderWithImage:{boolean:R},coordinateOrigin:{string:["center","top-left"]},__type__:{object:X}},size:{number:P},title:{string:j,dom:"dom",undefined:"undefined"},value:{number:P,undefined:"undefined"},widthConstraint:{minimum:{number:P},maximum:{number:P},__type__:{object:X,boolean:R,number:P}},x:{number:P},y:{number:P},__type__:{object:X}},M0={configure:{enabled:{boolean:R},filter:{boolean:R,string:j,array:Ui,function:"function"},container:{dom:"dom"},showButton:{boolean:R},__type__:{object:X,boolean:R,string:j,array:Ui,function:"function"}},edges:{arrows:{to:{enabled:{boolean:R},scaleFactor:{number:P},type:{string:Nf},imageHeight:{number:P},imageWidth:{number:P},src:{string:j},__type__:{object:X,boolean:R}},middle:{enabled:{boolean:R},scaleFactor:{number:P},type:{string:Nf},imageWidth:{number:P},imageHeight:{number:P},src:{string:j},__type__:{object:X,boolean:R}},from:{enabled:{boolean:R},scaleFactor:{number:P},type:{string:Nf},imageWidth:{number:P},imageHeight:{number:P},src:{string:j},__type__:{object:X,boolean:R}},__type__:{string:["from","to","middle"],object:X}},endPointOffset:{from:{number:P},to:{number:P},__type__:{object:X,number:P}},arrowStrikethrough:{boolean:R},background:{enabled:{boolean:R},color:{string:j},size:{number:P},dashes:{boolean:R,array:Ui},__type__:{object:X,boolean:R}},chosen:{label:{boolean:R,function:"function"},edge:{boolean:R,function:"function"},__type__:{object:X,boolean:R}},color:{color:{string:j},highlight:{string:j},hover:{string:j},inherit:{string:["from","to","both"],boolean:R},opacity:{number:P},__type__:{object:X,string:j}},dashes:{boolean:R,array:Ui},font:{color:{string:j},size:{number:P},face:{string:j},background:{string:j},strokeWidth:{number:P},strokeColor:{string:j},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:P},multi:{boolean:R,string:j},bold:{color:{string:j},size:{number:P},face:{string:j},mod:{string:j},vadjust:{number:P},__type__:{object:X,string:j}},boldital:{color:{string:j},size:{number:P},face:{string:j},mod:{string:j},vadjust:{number:P},__type__:{object:X,string:j}},ital:{color:{string:j},size:{number:P},face:{string:j},mod:{string:j},vadjust:{number:P},__type__:{object:X,string:j}},mono:{color:{string:j},size:{number:P},face:{string:j},mod:{string:j},vadjust:{number:P},__type__:{object:X,string:j}},__type__:{object:X,string:j}},hidden:{boolean:R},hoverWidth:{function:"function",number:P},label:{string:j,undefined:"undefined"},labelHighlightBold:{boolean:R},length:{number:P,undefined:"undefined"},physics:{boolean:R},scaling:{min:{number:P},max:{number:P},label:{enabled:{boolean:R},min:{number:P},max:{number:P},maxVisible:{number:P},drawThreshold:{number:P},__type__:{object:X,boolean:R}},customScalingFunction:{function:"function"},__type__:{object:X}},selectionWidth:{function:"function",number:P},selfReferenceSize:{number:P},selfReference:{size:{number:P},angle:{number:P},renderBehindTheNode:{boolean:R},__type__:{object:X}},shadow:{enabled:{boolean:R},color:{string:j},size:{number:P},x:{number:P},y:{number:P},__type__:{object:X,boolean:R}},smooth:{enabled:{boolean:R},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:P},forceDirection:{string:["horizontal","vertical","none"],boolean:R},__type__:{object:X,boolean:R}},title:{string:j,undefined:"undefined"},width:{number:P},widthConstraint:{maximum:{number:P},__type__:{object:X,boolean:R,number:P}},value:{number:P,undefined:"undefined"},__type__:{object:X}},groups:{useDefaultGroups:{boolean:R},__any__:Vi,__type__:{object:X}},interaction:{dragNodes:{boolean:R},dragView:{boolean:R},hideEdgesOnDrag:{boolean:R},hideEdgesOnZoom:{boolean:R},hideNodesOnDrag:{boolean:R},hover:{boolean:R},keyboard:{enabled:{boolean:R},speed:{x:{number:P},y:{number:P},zoom:{number:P},__type__:{object:X}},bindToWindow:{boolean:R},autoFocus:{boolean:R},__type__:{object:X,boolean:R}},multiselect:{boolean:R},navigationButtons:{boolean:R},selectable:{boolean:R},selectConnectedEdges:{boolean:R},hoverConnectedEdges:{boolean:R},tooltipDelay:{number:P},zoomView:{boolean:R},zoomSpeed:{number:P},__type__:{object:X}},layout:{randomSeed:{undefined:"undefined",number:P,string:j},improvedLayout:{boolean:R},clusterThreshold:{number:P},hierarchical:{enabled:{boolean:R},levelSeparation:{number:P},nodeSpacing:{number:P},treeSpacing:{number:P},blockShifting:{boolean:R},edgeMinimization:{boolean:R},parentCentralization:{boolean:R},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:X,boolean:R}},__type__:{object:X}},manipulation:{enabled:{boolean:R},initiallyActive:{boolean:R},addNode:{boolean:R,function:"function"},addEdge:{boolean:R,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:X,boolean:R,function:"function"}},deleteNode:{boolean:R,function:"function"},deleteEdge:{boolean:R,function:"function"},controlNodeStyle:Vi,__type__:{object:X,boolean:R}},nodes:Vi,physics:{enabled:{boolean:R},barnesHut:{theta:{number:P},gravitationalConstant:{number:P},centralGravity:{number:P},springLength:{number:P},springConstant:{number:P},damping:{number:P},avoidOverlap:{number:P},__type__:{object:X}},forceAtlas2Based:{theta:{number:P},gravitationalConstant:{number:P},centralGravity:{number:P},springLength:{number:P},springConstant:{number:P},damping:{number:P},avoidOverlap:{number:P},__type__:{object:X}},repulsion:{centralGravity:{number:P},springLength:{number:P},springConstant:{number:P},nodeDistance:{number:P},damping:{number:P},__type__:{object:X}},hierarchicalRepulsion:{centralGravity:{number:P},springLength:{number:P},springConstant:{number:P},nodeDistance:{number:P},damping:{number:P},avoidOverlap:{number:P},__type__:{object:X}},maxVelocity:{number:P},minVelocity:{number:P},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:R},iterations:{number:P},updateInterval:{number:P},onlyDynamicEdges:{boolean:R},fit:{boolean:R},__type__:{object:X,boolean:R}},timestep:{number:P},adaptiveTimestep:{boolean:R},wind:{x:{number:P},y:{number:P},__type__:{object:X}},__type__:{object:X,boolean:R}},autoResize:{boolean:R},clickToUse:{boolean:R},locale:{string:j},locales:{__any__:{any:"any"},__type__:{object:X}},height:{string:j},width:{string:j},__type__:{object:X}},qi={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},Rf=function(i,e,t){var r;return!(!Ar(i).call(i,"physics")||!Ar(r=qi.physics.solver).call(r,e)||t.physics.solver===e||e==="wind")},dI=Object.freeze({__proto__:null,allOptions:M0,configuratorHideOption:Rf,configureOptions:qi}),fI=function(){function i(){z(this,i)}return L(i,[{key:"getDistances",value:function(e,t,r){for(var n={},o=e.edges,s=0;s<t.length;s++){var u={};n[t[s]]=u;for(var h=0;h<t.length;h++)u[t[h]]=s==h?0:1e9}for(var v=0;v<r.length;v++){var g=o[r[v]];g.connected===!0&&n[g.fromId]!==void 0&&n[g.toId]!==void 0&&(n[g.fromId][g.toId]=1,n[g.toId][g.fromId]=1)}for(var y=t.length,w=0;w<y;w++)for(var k=t[w],E=n[k],S=0;S<y-1;S++)for(var $=t[S],D=n[$],A=S+1;A<y;A++){var B=t[A],H=n[B],J=Math.min(D[B],D[k]+E[B]);D[B]=J,H[$]=J}return n}}]),i}(),vI=function(){function i(e,t,r){z(this,i),this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new fI}return L(i,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var o=0,s=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=1e9,h=0,v=0,g=0,y=0,w=0;u>.01&&o<s;){o+=1;var k=Ue(this._getHighestEnergyNode(r),4);for(h=k[0],u=k[1],v=k[2],g=k[3],y=u,w=0;y>1&&w<5;){w+=1,this._moveNode(h,v,g);var E=Ue(this._getEnergy(h),3);y=E[0],v=E[1],g=E[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,r=this.body.nodes,n=0,o=t[0],s=0,u=0,h=0;h<t.length;h++){var v=t[h];if(r[v].predefinedPosition!==!0||r[v].isCluster===!0&&e===!0||r[v].options.fixed.x!==!0||r[v].options.fixed.y!==!0){var g=Ue(this._getEnergy(v),3),y=g[0],w=g[1],k=g[2];n<y&&(n=y,o=v,s=w,u=k)}}return[o,n,s,u]}},{key:"_getEnergy",value:function(e){var t=Ue(this.E_sums[e],2),r=t[0],n=t[1];return[Math.sqrt(Math.pow(r,2)+Math.pow(n,2)),r,n]}},{key:"_moveNode",value:function(e,t,r){for(var n=this.body.nodeIndices,o=this.body.nodes,s=0,u=0,h=0,v=o[e].x,g=o[e].y,y=this.K_matrix[e],w=this.L_matrix[e],k=0;k<n.length;k++){var E=n[k];if(E!==e){var S=o[E].x,$=o[E].y,D=y[E],A=w[E],B=1/Math.pow(Math.pow(v-S,2)+Math.pow(g-$,2),1.5);s+=D*(1-A*Math.pow(g-$,2)*B),u+=D*(A*(v-S)*(g-$)*B),h+=D*(1-A*Math.pow(v-S,2)*B)}}var H=(t/s+r/u)/(u/s-h/u),J=-(u*H+t)/s;o[e].x+=J,o[e].y+=H,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(var n=0;n<t.length;n++){this.L_matrix[t[n]]={};for(var o=0;o<t.length;o++)this.L_matrix[t[n]][t[o]]=r*e[t[n]][t[o]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(var n=0;n<t.length;n++){this.K_matrix[t[n]]={};for(var o=0;o<t.length;o++)this.K_matrix[t[n]][t[o]]=r*Math.pow(e[t[n]][t[o]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(var n=0;n<e.length;n++){for(var o=e[n],s=t[o].x,u=t[o].y,h=0,v=0,g=n;g<e.length;g++){var y=e[g];if(y!==o){var w=t[y].x,k=t[y].y,E=1/Math.sqrt(Math.pow(s-w,2)+Math.pow(u-k,2));this.E_matrix[o][g]=[this.K_matrix[o][y]*(s-w-this.L_matrix[o][y]*(s-w)*E),this.K_matrix[o][y]*(u-k-this.L_matrix[o][y]*(u-k)*E)],this.E_matrix[y][n]=this.E_matrix[o][g],h+=this.E_matrix[o][g][0],v+=this.E_matrix[o][g][1]}}this.E_sums[o]=[h,v]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,r=this.body.nodes,n=this.E_matrix[e],o=this.K_matrix[e],s=this.L_matrix[e],u=r[e].x,h=r[e].y,v=0,g=0,y=0;y<t.length;y++){var w=t[y];if(w!==e){var k=n[y],E=k[0],S=k[1],$=r[w].x,D=r[w].y,A=1/Math.sqrt(Math.pow(u-$,2)+Math.pow(h-D,2)),B=o[w]*(u-$-s[w]*(u-$)*A),H=o[w]*(h-D-s[w]*(h-D)*A);n[y]=[B,H],v+=B,g+=H;var J=this.E_sums[w];J[0]+=B-E,J[1]+=H-S}}this.E_sums[e]=[v,g]}}]),i}();function G(i,e,t){var r,n,o,s,u=this;if(!(this instanceof G))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:$S,clickToUse:!1},Xe(this.options,this.defaultOptions),this.body={container:i,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:N(r=this.on).call(r,this),off:N(n=this.off).call(n,this),emit:N(o=this.emit).call(o,this),once:N(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new xm(function(){return u.body.emitter.emit("_requestRedraw")}),this.groups=new qm,this.canvas=new ET(this.body),this.selectionHandler=new Ko(this.body,this.canvas),this.interactionHandler=new Go(this.body,this.canvas,this.selectionHandler),this.view=new OT(this.body,this.canvas),this.renderer=new cf(this.body,this.canvas),this.physics=new wT(this.body),this.layoutEngine=new Mf(this.body),this.clustering=new qb(this.body),this.manipulation=new Af(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Kx(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Hb(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new vI(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}$v(G.prototype),G.prototype.setOptions=function(i){var e=this;if(i===null&&(i=void 0),i!==void 0){if(xS.validate(i,M0)===!0&&console.error("%cErrors have been found in the supplied options object.",dm),Do(["locale","locales","clickToUse"],this.options,i),i.locale!==void 0&&(i.locale=function(r,n){try{var o=Ue(n.split(/[-_ /]/,2),2),s=o[0],u=o[1],h=s!=null?s.toLowerCase():null,v=u!=null?u.toUpperCase():null;if(h&&v){var g,y=h+"-"+v;if(Object.prototype.hasOwnProperty.call(r,y))return y;console.warn(Aa(g="Unknown variant ".concat(v," of language ")).call(g,h,"."))}if(h){var w=h;if(Object.prototype.hasOwnProperty.call(r,w))return w;console.warn("Unknown language ".concat(h))}return console.warn("Unknown locale ".concat(n,", falling back to English.")),"en"}catch(k){return console.error(k),console.warn("Unexpected error while normalizing locale ".concat(n,", falling back to English.")),"en"}}(i.locales||this.options.locales,i.locale)),i=this.layoutEngine.setOptions(i.layout,i),this.canvas.setOptions(i),this.groups.setOptions(i.groups),this.nodesHandler.setOptions(i.nodes),this.edgesHandler.setOptions(i.edges),this.physics.setOptions(i.physics),this.manipulation.setOptions(i.manipulation,i,this.options),this.interactionHandler.setOptions(i.interaction),this.renderer.setOptions(i.interaction),this.selectionHandler.setOptions(i.interaction),i.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in i&&(this.configurator||(this.configurator=new OS(this,this.body.container,qi,this.canvas.pixelRatio,Rf)),this.configurator.setOptions(i.configure)),this.configurator&&this.configurator.options.enabled===!0){var t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Me(t.nodes,this.nodesHandler.options),Me(t.edges,this.edgesHandler.options),Me(t.layout,this.layoutEngine.options),Me(t.interaction,this.selectionHandler.options),Me(t.interaction,this.renderer.options),Me(t.interaction,this.interactionHandler.options),Me(t.manipulation,this.manipulation.options),Me(t.physics,this.physics.options),Me(t.global,this.canvas.options),Me(t.global,this.options),this.configurator.setModuleOptions(t)}i.clickToUse!==void 0?i.clickToUse===!0?this.activator===void 0&&(this.activator=new cm(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},G.prototype._updateVisibleIndices=function(){var i=this.body.nodes,e=this.body.edges;for(var t in this.body.nodeIndices=[],this.body.edgeIndices=[],i)Object.prototype.hasOwnProperty.call(i,t)&&(this.clustering._isClusteredNode(t)||i[t].options.hidden!==!1||this.body.nodeIndices.push(i[t].id));for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r],o=i[n.fromId],s=i[n.toId],u=o!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&u&&o.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}},G.prototype.bindEventListeners=function(){var i=this;this.body.emitter.on("_dataChanged",function(){i.edgesHandler._updateState(),i.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){i.clustering._updateState(),i._updateVisibleIndices(),i._updateValueRange(i.body.nodes),i._updateValueRange(i.body.edges),i.body.emitter.emit("startSimulation"),i.body.emitter.emit("_requestRedraw")})},G.prototype.setData=function(i){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),i&&i.dot&&(i.nodes||i.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(i&&i.options),i&&i.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Od(i.dot);this.setData(e)}else if(i&&i.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var t=Sd(i.gephi);this.setData(t)}else this.nodesHandler.setData(i&&i.nodes,!0),this.edgesHandler.setData(i&&i.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},G.prototype.destroy=function(){for(var i in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&delete this.body.nodes[i];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];Ti(this.body.container)},G.prototype._updateValueRange=function(i){var e,t=void 0,r=void 0,n=0;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var o=i[e].getValue();o!==void 0&&(t=t===void 0?o:Math.min(o,t),r=r===void 0?o:Math.max(o,r),n+=o)}if(t!==void 0&&r!==void 0)for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&i[e].setValueRange(t,r,n)},G.prototype.isActive=function(){return!this.activator||this.activator.active},G.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},G.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},G.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},G.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},G.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},G.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},G.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},G.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},G.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},G.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},G.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},G.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},G.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},G.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},G.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},G.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},G.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},G.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},G.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},G.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},G.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},G.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},G.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},G.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},G.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},G.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},G.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},G.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},G.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},G.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},G.prototype.getConnectedNodes=function(i){return this.body.nodes[i]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},G.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},G.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},G.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},G.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},G.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},G.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},G.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},G.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},G.prototype.getNodeAt=function(){var i=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i},G.prototype.getEdgeAt=function(){var i=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i},G.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},G.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},G.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},G.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},G.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},G.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},G.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},G.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},G.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},G.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},G.prototype.getOptionsFromConfigurator=function(){var i={};return this.configurator&&(i=this.configurator.getOptions.apply(this.configurator)),i};var bs=Od;yt.Network=G,yt.NetworkImages=xm,yt.networkDOTParser=Om,yt.networkGephiParser=Sm,yt.networkOptions=dI,yt.parseDOTNetwork=bs,yt.parseGephiNetwork=Sd})}}]);
