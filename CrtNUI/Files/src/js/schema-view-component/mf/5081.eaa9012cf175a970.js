(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[5081,8239,5036,6118,7344,8160,1034,8056,1906,4501,1216,9256,9795,1006,7571,6025,9424,885,7709],{55081:(W,P,e)=>{e.r(P);var M=e(54514),w=e(63653),n=e(75378),E=e(16464),g=e(8239),r=e(74742),m=e(31134),i=e(2876),o=e(94450),p=e(71006),d=e(77207),N=e(99965),R=e(33177),Z=e(31234),v=e(41307),U=e(65181),V=e(98746),x=e(3327),y=e(51273),O=e(97778),H=e(21793),f=e(66093),j=e(57387),u=e(2792),K=e(93001),D=e(96923),z=e(34038),_=e(78094),l=e(49475),T=e(24709),C=e(34617),A=e(21322),k=e(27049);let B=class extends n.BaseRequestHandler{constructor(t){super(),this._maskService=t,this._tasks=new Set}_addTask(t){this._tasks.add(t),this._tasks.size===1&&this._maskService.showBodyMask()}_removeTask(t){this._tasks.delete(t),this._tasks.size===0&&this._maskService.hideBodyMask()}handle(t){var a=this;return(0,g.Z)(function*(){t.action===n.SchemaViewMaskRequestAction.AddTask?a._addTask(t.taskName):a._removeTask(t.taskName)})()}};B=(0,r.__decorate)([(0,n.CrtRequestHandler)({requestType:"crt.SchemaViewMaskRequest",type:"crt.SchemaViewMaskRequestHandler"}),(0,r.__param)(0,(0,n.CrtInject)(l.DEVKIT_MASK_SERVICE)),(0,r.__metadata)("design:paramtypes",[n.MaskService])],B);let L=class extends n.BaseRequestHandler{constructor(t){super(),this._schemaModalService=t}handle(t){return this?._schemaModalService.closeModals(),this.next?.handle(t)}};L=(0,r.__decorate)([(0,n.CrtRequestHandler)({requestType:"crt.HandleViewModelDestroyRequest",type:"crt.SchemaModalNavigationRequestHandler"}),(0,r.__metadata)("design:paramtypes",[u.SchemaModalService])],L);class h{constructor(t){this._window=t}wait(t){const a=this._window.Terrasoft?.Router;return a?.enableBuffering?a.enableBuffering(t):t()}}h.\u0275fac=function(t){return new(t||h)(o.\u0275\u0275inject(R.WINDOW_TOKEN))},h.\u0275prov=o.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac});class S extends C.CrtNavigationService{constructor(t){super(),this.injector=t}subscribeForNavigationEndStrategy(){return A.Subscription.EMPTY}navigate(){throw new Error("Navigation with this service is not implemented in schema-view")}}S.\u0275fac=function(t){return new(t||S)(o.\u0275\u0275inject(o.Injector))},S.\u0275prov=o.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac});var F;function X(s,t){return(0,g.Z)(function*(){yield(0,A.lastValueFrom)(s.loadCurrentUserInfo().pipe((0,k.switchMap)(a=>t.use(a?.userInfo?.cultureInfo?.sysCultureName).pipe((0,k.catchError)(()=>(0,A.of)(null))))),{defaultValue:null})})}let c=F=class{constructor(t,a,I){this._customElementsBootstrapService=t,this._injector=a,this._crtInjectionContextService=I,this._obsoleteProcessExecutionDataCollectorService=this._injector.get(f.ObsoleteProcessExecutionDataCollectorService)}_defineBaseViewModuleElement(t,a){this._customElementsBootstrapService.defineComponent(t,a);const I=o.Injector.create({parent:this._injector,providers:[...u.NAVIGATION_PREPROCESSOR_PROVIDERS,{provide:l.CRT_NAVIGATION_LOCK_TOKEN,useClass:h}]});this._customElementsBootstrapService.defineComponent(`${t}-navigation`,a,I)}ngDoBootstrap(){(0,n.bootstrapCrtModule)(F,{moduleType:"host",resolveDependency:(I,G)=>G?.id?this._crtInjectionContextService.injectFromContext(G.id,I):this._injector.get(I)}),this._obsoleteProcessExecutionDataCollectorService.init();const t=z.CrtTabPanelContainerComponent,a=(0,n.getViewElementMetadata)(t);(0,n.registerAngularViewElement)(a,t),this._defineBaseViewModuleElement("crt-home-page-component",u.HomePageComponent),this._defineBaseViewModuleElement("crt-card-component",u.CardComponent),this._defineBaseViewModuleElement("crt-section-component",u.SectionComponent),this._defineBaseViewModuleElement("crt-page-component",u.PageComponent),this._customElementsBootstrapService.defineComponent("crt-chart-widget-component",_.CrtChartWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-indicator-widget-component",_.CrtIndicatorWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-gauge-widget-component",_.GaugeWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-funnel-widget-component",_.CrtFunnelWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-full-pipeline-widget-component",_.FullPipelineWidgetComponent)}};c.\u0275fac=function(t){return new(t||c)(o.\u0275\u0275inject(R.CustomElementsBootstrapService),o.\u0275\u0275inject(o.Injector),o.\u0275\u0275inject(l.CrtInjectionContextsService))},c.\u0275mod=o.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=o.\u0275\u0275defineInjector({providers:[{provide:m.APP_BASE_HREF,useValue:"/"},{provide:i.HTTP_INTERCEPTORS,useClass:l.WebComponentHttpInterceptor,multi:!0},{provide:o.APP_INITIALIZER,useFactory:X,deps:[l.UserInfoService,d.TranslateService],multi:!0},v.REMOTE_ENTRY_PROVIDER,{provide:l.DEFAULT_THEME,useValue:l.THEMES.DEFAULT},{provide:l.AbstractThemeProvider,useClass:v.ThemeProvider},(0,l.PROVIDE_THEMING_ICONS_RESOLVER_APP_INITIALIZER)("ClientApp/assets/themes"),v.FEATURE_VALUES_APP_INITIALIZER_PROVIDER,v.FEATURE_VALUES_PROVIDER,{provide:C.CrtNavigationService,useClass:S},{provide:C.SHELL_MODULE_ALIASES_FACTORY,useValue:()=>Promise.resolve(!1)},{provide:C.DONT_USE_CHILD_ROUTING,useFactory:s=>(0,A.lastValueFrom)(s.getFeatureState("DontUseChildRouting")),deps:[v.FeatureService]},n.SysSettingsService,f.EXECUTION_DATA_INTERCEPTOR_PROVIDER,f.ObsoleteProcessExecutionDataCollectorService,{provide:T.CRT_METADATA_NAVIGATION_PREPROCESSOR,useClass:f.ExecutionDataPreprocessor,multi:!0},{provide:T.AbstractModelLifecycleHookNotificationService,useClass:T.HandlerChainModelLifecycleHookNotificationService},v.LICENSE_RESTRICTION_OPERATION_VALUES_APP_INITIALIZER_PROVIDER,v.LICENSE_RESTRICTION_OPERATION_VALUES_PROVIDER,R.CURRENT_TAB_ID_PROVIDER,R.TAB_ID_APP_INITIALIZER],imports:[p.BrowserAnimationsModule,M.BrowserModule,m.CommonModule,D.CdkModule,U.ComponentsPreprocessorsModule,u.SchemaViewModule,i.HttpClientModule,V.FolderTreeModule,i.HttpClientXsrfModule.withOptions({cookieName:"BPMCSRF",headerName:"BPMCSRF"}),d.TranslateModule.forRoot({defaultLanguage:"en-US",loader:{provide:d.TranslateLoader,useFactory:(s,t)=>new N.TranslateHttpLoader(s,t+"ClientApp/assets/i18n/"),deps:[i.HttpClient,m.APP_BASE_HREF]}}),C.CrtNavigationModule,j.RelationshipDesignerModule,x.MarketingCampaignModule,y.MarketingEmailModule,O.MarketingEngagementToolsModule,H.MarketingEventModule]}),c=F=(0,r.__decorate)([(0,n.CrtModule)({includes:[Z.AcademyHelpApiModule,u.SchemaViewModule,D.CdkModule,V.FolderTreeModule,K.SsoSettingsModule,C.CrtNavigationModule,j.RelationshipDesignerModule,{load:()=>e.e(2634).then(e.t.bind(e,72634,23)).then(s=>s.DigitalAdsModule),...window.creatio._lazyModulesMetadata.host.DigitalAdsModule},x.MarketingCampaignModule,y.MarketingEmailModule,O.MarketingEngagementToolsModule,H.MarketingEventModule],requestHandlers:[B,T.ClearContextedHandlersCacheHandler,L,v.GetApiKeyRequestHandler,l.CopyClipboardRequestHandler,f.CompleteProcessElementHandler]}),(0,r.__metadata)("design:paramtypes",[R.CustomElementsBootstrapService,o.Injector,l.CrtInjectionContextsService])],c),function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(c,{imports:[p.BrowserAnimationsModule,M.BrowserModule,m.CommonModule,D.CdkModule,U.ComponentsPreprocessorsModule,u.SchemaViewModule,i.HttpClientModule,V.FolderTreeModule,i.HttpClientXsrfModule,d.TranslateModule,C.CrtNavigationModule,j.RelationshipDesignerModule,x.MarketingCampaignModule,y.MarketingEmailModule,O.MarketingEngagementToolsModule,H.MarketingEventModule]})}(),(0,E.getGlobalRemoteEntryLoader)()||(0,E.createGlobalRemoteEntryLoader)({initSharing:e.I,shareScopes:e.S}),(0,n.bootstrapCrtModuleHandlerChainServices)(c),M.platformBrowser().bootstrapModule(c).catch(s=>console.error(s))},8239:(W,P,e)=>{e.d(P,{Z:()=>w});function M(n,E,g,r,m,i,o){try{var p=n[i](o),d=p.value}catch(N){g(N);return}p.done?E(d):Promise.resolve(d).then(r,m)}function w(n){return function(){var E=this,g=arguments;return new Promise(function(r,m){var i=n.apply(E,g);function o(d){M(i,r,m,o,p,"next",d)}function p(d){M(i,r,m,o,p,"throw",d)}o(void 0)})}}}}]);
