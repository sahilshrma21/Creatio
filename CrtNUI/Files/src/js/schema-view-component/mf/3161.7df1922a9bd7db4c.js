(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[3161],{84092:(le,E,r)=>{var k={"./page-template-lookup/page-template-item/page-template-item.component":54172,"./page-template-lookup/page-template-lookup.component":62377};function _(d){return Promise.resolve().then(()=>{if(!r.o(k,d)){var s=new Error("Cannot find module '"+d+"'");throw s.code="MODULE_NOT_FOUND",s}var f=k[d];return r(f)})}_.keys=()=>Object.keys(k),_.id=84092,le.exports=_},43161:(le,E,r)=>{r.r(E),r.d(E,{ActivatePackageCommandService:()=>X,AllPackageElementsMoveData:()=>ht,BaseDeletePackageCommandService:()=>ye,BasePackageCommandService:()=>ke,BasePackageStructureSortingService:()=>At,BaseWorkspaceSectionComponent:()=>Ht,COMPILATION_COMPLETED:()=>qt,CreatePackageDialogComponent:()=>Z,CreatePackageExecutorService:()=>Q,DeactivatePackageCommandService:()=>Y,DeletePackageCommandService:()=>J,DialogComponentsModule:()=>R,InstallBehavior:()=>N,PACKAGE_STRUCTURE_CHANGED:()=>Yt,PackageAction:()=>I,PackageElementsMoveData:()=>ft,PackageHotfixState:()=>_e,PackageService:()=>b,PackageStorageObjectState:()=>xe,PackageStorageObjectType:()=>ve,PackageStorageValidationMessagesDialogService:()=>F,Repository:()=>Ee,RepositoryAuthorizeService:()=>j,RepositoryPageComponent:()=>q,RepositoryPageMode:()=>w,RepositoryService:()=>W,StatusWeight:()=>A,WorkspaceExplorerBlankSlateComponent:()=>ie,WorkspaceExplorerCdkModule:()=>ne,WorkspaceExplorerService:()=>$,WorkspaceItemAction:()=>c,WorkspaceItemActionsService:()=>V,WorkspaceItemDetailsDialogComponent:()=>z,WorkspaceItemMenuComponent:()=>ee,WorkspaceItemMoveHttpExecutorService:()=>U,WorkspaceItemMoveService:()=>K,WorkspaceItemNameCellComponent:()=>te,WorkspaceItemStateFilterValue:()=>m,WorkspaceItemStatusCellComponent:()=>ae,WorkspaceItemTypeCellComponent:()=>oe,WorkspaceItemTypeResourceGenerator:()=>T,WorkspaceOpenCreateDialogService:()=>L,WorkspaceSectionProfileData:()=>kt,WorkspaceSyncChangeFlattener:()=>se,applyCustomDataSourceComparator:()=>ce});var k=r(8239),_=r(75378),d=r(99293),s=r(83232),f=r(96923),x=r(49475),y=r(21322),p=r(27049),S=r(8785),c;(function(o){o.EditEntityProcess="editEntityProcess",o.Edit="edit",o.Delete="delete",o.UpdateDBStructure="updateDBStructure",o.GenerateSchemasSources="generateSchemasSources",o.InstallSqlScripts="installSqlScripts",o.Export="export",o.InstallData="installData",o.ShowDetails="showDetails",o.RevertChanges="revertChangess",o.OpenMetaData="openMetaData",o.OpenSourceCode="openSourceCode",o.LockPackageElement="lockPackageElement",o.UnLockPackageElement="unLockPackageElement",o.Move="move"})(c||(c={}));var I;(function(o){o.Create="create",o.Move="move",o.Delete="delete",o.Export="export",o.Update="update",o.Commit="commit",o.Properties="properties",o.Lock="lock",o.Unlock="unlock",o.Compile="compile",o.Deactivate="deactivate",o.Activate="activate",o.StartHotfix="start-hotfix",o.FinishHotfix="finish-hotfix"})(I||(I={}));var m;(function(o){o[o.Locked=0]="Locked",o[o.NeedActualization=1]="NeedActualization",o[o.WithError=2]="WithError"})(m||(m={}));var N;(function(o){o[o.Required=0]="Required",o[o.Optional=1]="Optional"})(N||(N={}));var A;(function(o){o[o.NeedInstall=2]="NeedInstall",o[o.NeedUpdateSourceCode=3]="NeedUpdateSourceCode",o[o.NeedUpdateStructure=4]="NeedUpdateStructure",o[o.LastError=10]="LastError"})(A||(A={}));function Ce(o,t){let a=0;return o!=null&&t!=null?o>t?a=1:o<t&&(a=-1):o!=null?a=1:t!=null&&(a=-1),a}function H(o,t){return(a,i)=>{const n=o.sortingDataAccessor(a,t.active),l=o.sortingDataAccessor(i,t.active);return Ce(n,l)*(t.direction==="asc"?1:-1)}}function ce(o,t){o.sortData=function(a,i){if(!i.active||i.direction==="")return a;const n=H(o,i);return a.sort((l,h)=>t(l,h,n))}}var u=r(75903),e=r(94450),v=r(31134),M=r(14535),pe=r(33569),P=r(66868),me=r(30738),g=r(34560),C=r(77207);function Oe(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",30)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.Title")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.title)}}function Ne(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",32)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.Name")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.name)}}function Fe(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",33)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.FullQualifiedName")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.fullQualifiedName)}}function Ue(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",34)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.DataObjectName")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.dataObjectName)}}function Ve(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",35)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.PackageName")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.packageName)}}function je(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",36)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31)(5,"ts-info-tooltip-icon",37),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"WorkspaceExplorer.Section.Items.DetailsDialog.UId")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.uId),e.\u0275\u0275advance(1),e.\u0275\u0275property("message",e.\u0275\u0275pipeBind1(6,5,"WorkspaceExplorer.Section.Items.DetailsDialog.UIdTooltip"))}}function Ge(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",38)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31)(5,"ts-info-tooltip-icon",37),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"WorkspaceExplorer.Section.Items.DetailsDialog.Id")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("message",e.\u0275\u0275pipeBind1(6,5,"WorkspaceExplorer.Section.Items.DetailsDialog.IdTooltip"))}}function He(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",39)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.ManagerName")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.managerName)}}function ze(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",40)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.ParentCaption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.parentCaption)}}function Ke(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-checkbox",44),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",a.model.replaceParent),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,"WorkspaceExplorer.Section.Items.DetailsDialog.ReplaceParent"))}}function $e(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-checkbox",45),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",a.model.status==null?null:a.model.status.needUpdateStructure),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,"WorkspaceExplorer.Section.Items.DetailsDialog.NeedUpdateDBStructure"))}}function Je(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",41),e.\u0275\u0275template(1,Ke,3,4,"mat-checkbox",42),e.\u0275\u0275template(2,$e,3,4,"mat-checkbox",43),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("replaceParent")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("status.needUpdateStructure"))}}function Ye(o,t){if(o&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",48),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(n.showTextDetails(n.model.description))}),e.\u0275\u0275elementEnd()}}function qe(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",46)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"textarea",31),e.\u0275\u0275text(5," "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,Ye,1,0,"div",47),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"WorkspaceExplorer.Section.Items.DetailsDialog.Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.description),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.model.description)}}function Ze(o,t){if(o&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",48),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(n.showTextDetails(n.model.status==null?null:n.model.status.lastError))}),e.\u0275\u0275elementEnd()}}function Qe(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",49)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"textarea",31),e.\u0275\u0275template(5,Ze,1,0,"div",47),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"WorkspaceExplorer.Section.Items.DetailsDialog.LastErrorText")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.status==null?null:a.model.status.lastError),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.model.status==null?null:a.model.status.lastError)}}function Xe(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",50)(1,"mat-checkbox",51),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",a.model.status==null?null:a.model.status.needInstall),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.NeedInstall"))}}function et(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",52)(1,"mat-checkbox",51),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",a.model.loadOnAppStart),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.LoadOnAppStart"))}}function tt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",53)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.CreatedBy")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.createdBy)}}function at(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",54)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",55),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.CreatedOn")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",a.getFormattedDate(a.model.createdOn))}}function ot(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",56)(1,"mat-checkbox",51),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",a.model.isChanged),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.IsChanged"))}}function it(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",57)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.ModifiedBy")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.modifiedBy)}}function nt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",58)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",55),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.ModifiedOn")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",a.getFormattedDate(a.model.modifiedOn))}}function st(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",59)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",55),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.MetaDataModifiedOn")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",a.getFormattedDate(a.model.metaDataModifiedOn))}}function rt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",60)(1,"mat-checkbox",51),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",a.model.isLocked),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.IsLocked"))}}function lt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",61)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",31),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.LockedBy")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",a.model.lockedBy)}}function ct(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",62)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",55),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.DbStructureModifiedOn")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",a.getFormattedDate(a.model.dbStructureModifiedOn))}}function pt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",63)(1,"mat-checkbox",51),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",a.model.isNetStandard),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"WorkspaceExplorer.Section.Items.DetailsDialog.IsNetStandard"))}}class z{constructor(t,a,i){this._dialogService=t,this._generalFields=["id","uId","name","createdBy","createdOn","modifiedBy","modifiedOn","packageName","lockedBy","isChanged","isLocked"],this._customFieldConfigs=[{name:"title",types:[s.WorkspaceItemType.CampaignSchema,s.WorkspaceItemType.ClientUnitSchema,s.WorkspaceItemType.DcmSchema,s.WorkspaceItemType.EntitySchema,s.WorkspaceItemType.ProcessSchema,s.WorkspaceItemType.ProcessUserTaskSchema,s.WorkspaceItemType.SourceCodeSchema,s.WorkspaceItemType.ServiceSchema]},{name:"fullQualifiedName",types:[s.WorkspaceItemType.Assembly]},{name:"loadOnAppStart",types:[s.WorkspaceItemType.Assembly]},{name:"dbStructureModifiedOn",types:[s.WorkspaceItemType.EntitySchema]},{name:"replaceParent",types:[s.WorkspaceItemType.EntitySchema,s.WorkspaceItemType.ClientUnitSchema]},{name:"parentCaption",types:[s.WorkspaceItemType.EntitySchema,s.WorkspaceItemType.ClientUnitSchema]},{name:"description",types:[s.WorkspaceItemType.CampaignSchema,s.WorkspaceItemType.ClientUnitSchema,s.WorkspaceItemType.DcmSchema,s.WorkspaceItemType.EntitySchema,s.WorkspaceItemType.ProcessSchema,s.WorkspaceItemType.ProcessUserTaskSchema,s.WorkspaceItemType.SourceCodeSchema,s.WorkspaceItemType.ServiceSchema]},{name:"dataObjectName",types:[s.WorkspaceItemType.SchemaData]},{name:"managerName",types:[s.WorkspaceItemType.CampaignSchema,s.WorkspaceItemType.ClientUnitSchema,s.WorkspaceItemType.DcmSchema,s.WorkspaceItemType.EntitySchema,s.WorkspaceItemType.ProcessSchema,s.WorkspaceItemType.ProcessUserTaskSchema,s.WorkspaceItemType.SourceCodeSchema,s.WorkspaceItemType.ServiceSchema]},{name:"metaDataModifiedOn",types:[s.WorkspaceItemType.CampaignSchema,s.WorkspaceItemType.ClientUnitSchema,s.WorkspaceItemType.DcmSchema,s.WorkspaceItemType.EntitySchema,s.WorkspaceItemType.ProcessSchema,s.WorkspaceItemType.ProcessUserTaskSchema,s.WorkspaceItemType.SourceCodeSchema,s.WorkspaceItemType.ServiceSchema]},{name:"status.needInstall",types:[s.WorkspaceItemType.SchemaData,s.WorkspaceItemType.SqlScript]},{name:"status.needUpdateStructure",types:[s.WorkspaceItemType.EntitySchema]},{name:"status.lastError",types:[s.WorkspaceItemType.SchemaData,s.WorkspaceItemType.CampaignSchema,s.WorkspaceItemType.ClientUnitSchema,s.WorkspaceItemType.DcmSchema,s.WorkspaceItemType.EntitySchema,s.WorkspaceItemType.ProcessSchema,s.WorkspaceItemType.ProcessUserTaskSchema,s.WorkspaceItemType.SourceCodeSchema,s.WorkspaceItemType.SqlScript,s.WorkspaceItemType.ServiceSchema]},{name:"isNetStandard",types:[s.WorkspaceItemType.CampaignSchema,s.WorkspaceItemType.ClientUnitSchema,s.WorkspaceItemType.DcmSchema,s.WorkspaceItemType.EntitySchema,s.WorkspaceItemType.ProcessSchema,s.WorkspaceItemType.ProcessUserTaskSchema,s.WorkspaceItemType.SourceCodeSchema,s.WorkspaceItemType.Assembly,s.WorkspaceItemType.ServiceSchema]}],this.model=a.item,this._userCulture=i.cultureInfo.sysCultureName}getFormattedDate(t){return t?t.toLocaleString(this._userCulture):""}isPropertyVisible(t){if(this._generalFields.includes(t))return!0;const a=this.model.type;return this._customFieldConfigs.find(n=>n.name===t).types.includes(a)}showTextDetails(t){this._dialogService.openInfoDialog(t)}}z.\u0275fac=function(t){return new(t||z)(e.\u0275\u0275directiveInject(d.DialogService),e.\u0275\u0275directiveInject(u.MAT_LEGACY_DIALOG_DATA),e.\u0275\u0275directiveInject(x.UserInfo))},z.\u0275cmp=e.\u0275\u0275defineComponent({type:z,selectors:[["ts-workspace-item-details-dialog"]],decls:35,vars:30,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"left-column"],["floatLabel","always","class","input-field title-field",4,"ngIf"],["floatLabel","always","class","input-field name-field",4,"ngIf"],["floatLabel","always","class","input-field full-qualified-name-field",4,"ngIf"],["floatLabel","always","class","input-field data-object-name-field",4,"ngIf"],["floatLabel","always","class","input-field package-name-field",4,"ngIf"],["floatLabel","always","class","input-field-with-tooltip uId-field",4,"ngIf"],["floatLabel","always","class","input-field-with-tooltip id-field",4,"ngIf"],["floatLabel","always","class","input-field manager-name-field",4,"ngIf"],["floatLabel","always","class","input-field parent-caption-field",4,"ngIf"],["class","checkbox-fields-wrap",4,"ngIf"],["floatLabel","always","class","textarea-field description-field",4,"ngIf"],["floatLabel","always","class","textarea-field last-error-field",4,"ngIf"],["class","checkbox-field need-install-field",4,"ngIf"],["class","checkbox-field load-on-app-start-field",4,"ngIf"],[1,"right-column"],["floatLabel","always","class","input-field created-by-field",4,"ngIf"],["floatLabel","always","class","input-field created-on-field",4,"ngIf"],["class","checkbox-field is-changed-field",4,"ngIf"],["floatLabel","always","class","input-field modified-by-field",4,"ngIf"],["floatLabel","always","class","input-field modified-on-field",4,"ngIf"],["floatLabel","always","class","input-field metadata-modified-on-field",4,"ngIf"],["class","checkbox-field is-locked-field",4,"ngIf"],["floatLabel","always","class","input-field locked-by-field",4,"ngIf"],["floatLabel","always","class","input-field db-structure-modified-on-field",4,"ngIf"],["class","checkbox-field is-net-standard-field",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","","color","primary",3,"mat-dialog-close"],["floatLabel","always",1,"input-field","title-field"],["matInput","","disabled","",3,"ngModel"],["floatLabel","always",1,"input-field","name-field"],["floatLabel","always",1,"input-field","full-qualified-name-field"],["floatLabel","always",1,"input-field","data-object-name-field"],["floatLabel","always",1,"input-field","package-name-field"],["floatLabel","always",1,"input-field-with-tooltip","uId-field"],[1,"field-tooltip",3,"message"],["floatLabel","always",1,"input-field-with-tooltip","id-field"],["floatLabel","always",1,"input-field","manager-name-field"],["floatLabel","always",1,"input-field","parent-caption-field"],[1,"checkbox-fields-wrap"],["class","replace-parent-field","disabled","",3,"checked",4,"ngIf"],["class","need-update-structure-field","disabled","",3,"checked",4,"ngIf"],["disabled","",1,"replace-parent-field",3,"checked"],["disabled","",1,"need-update-structure-field",3,"checked"],["floatLabel","always",1,"textarea-field","description-field"],["class","show-more-icon",3,"click",4,"ngIf"],[1,"show-more-icon",3,"click"],["floatLabel","always",1,"textarea-field","last-error-field"],[1,"checkbox-field","need-install-field"],["disabled","",3,"checked"],[1,"checkbox-field","load-on-app-start-field"],["floatLabel","always",1,"input-field","created-by-field"],["floatLabel","always",1,"input-field","created-on-field"],["matInput","","disabled","",3,"value"],[1,"checkbox-field","is-changed-field"],["floatLabel","always",1,"input-field","modified-by-field"],["floatLabel","always",1,"input-field","modified-on-field"],["floatLabel","always",1,"input-field","metadata-modified-on-field"],[1,"checkbox-field","is-locked-field"],["floatLabel","always",1,"input-field","locked-by-field"],["floatLabel","always",1,"input-field","db-structure-modified-on-field"],[1,"checkbox-field","is-net-standard-field"]],template:function(t,a){t&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,Oe,5,4,"mat-form-field",3),e.\u0275\u0275template(7,Ne,5,4,"mat-form-field",4),e.\u0275\u0275template(8,Fe,5,4,"mat-form-field",5),e.\u0275\u0275template(9,Ue,5,4,"mat-form-field",6),e.\u0275\u0275template(10,Ve,5,4,"mat-form-field",7),e.\u0275\u0275template(11,je,7,7,"mat-form-field",8),e.\u0275\u0275template(12,Ge,7,7,"mat-form-field",9),e.\u0275\u0275template(13,He,5,4,"mat-form-field",10),e.\u0275\u0275template(14,ze,5,4,"mat-form-field",11),e.\u0275\u0275template(15,Je,3,2,"div",12),e.\u0275\u0275template(16,qe,7,5,"mat-form-field",13),e.\u0275\u0275template(17,Qe,6,5,"mat-form-field",14),e.\u0275\u0275template(18,Xe,4,4,"div",15),e.\u0275\u0275template(19,et,4,4,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",17),e.\u0275\u0275template(21,tt,5,4,"mat-form-field",18),e.\u0275\u0275template(22,at,5,4,"mat-form-field",19),e.\u0275\u0275template(23,ot,4,4,"div",20),e.\u0275\u0275template(24,it,5,4,"mat-form-field",21),e.\u0275\u0275template(25,nt,5,4,"mat-form-field",22),e.\u0275\u0275template(26,st,5,4,"mat-form-field",23),e.\u0275\u0275template(27,rt,4,4,"div",24),e.\u0275\u0275template(28,lt,5,4,"mat-form-field",25),e.\u0275\u0275template(29,ct,5,4,"mat-form-field",26),e.\u0275\u0275template(30,pt,4,4,"div",27),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",28)(32,"button",29),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"translate"),e.\u0275\u0275elementEnd()()),t&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,26,"WorkspaceExplorer.Section.Items.DetailsDialog.PageTitle")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",a.isPropertyVisible("title")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("name")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("fullQualifiedName")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("dataObjectName")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("packageName")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("uId")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("id")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("managerName")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("parentCaption")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("replaceParent")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("description")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("status.lastError")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("status.needInstall")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("loadOnAppStart")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.isPropertyVisible("createdBy")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("createdOn")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("isChanged")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("modifiedBy")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("modifiedOn")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("metaDataModifiedOn")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("isLocked")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("lockedBy")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("dbStructureModifiedOn")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPropertyVisible("isNetStandard")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(34,28,"WorkspaceExplorer.Section.Items.DetailsDialog.Close")," "))},dependencies:[v.NgIf,M.MatLegacyButton,pe.MatLegacyCheckbox,u.MatLegacyDialogClose,u.MatLegacyDialogTitle,u.MatLegacyDialogContent,u.MatLegacyDialogActions,P.MatLegacyFormField,P.MatLegacyLabel,me.MatLegacyInput,g.DefaultValueAccessor,g.NgControlStatus,g.NgModel,d.InfoTooltipIconComponent,C.TranslatePipe],styles:[`ts-workspace-item-details-dialog{margin:0!important;padding:0 6px 0 8px;width:748px}ts-workspace-item-details-dialog .mat-dialog-title{font-size:22px!important}ts-workspace-item-details-dialog .mat-dialog-actions{float:right}ts-workspace-item-details-dialog [mat-dialog-content]{overflow-y:auto!important;display:flex;flex-direction:row;max-height:490px}ts-workspace-item-details-dialog [mat-dialog-content] .input-field input[disabled],ts-workspace-item-details-dialog [mat-dialog-content] .input-field-with-tooltip input[disabled]{color:#999!important}ts-workspace-item-details-dialog [mat-dialog-content] .input-field-with-tooltip{height:52px}ts-workspace-item-details-dialog [mat-dialog-content] .input-field-with-tooltip .mat-input-element{width:90%;float:left}ts-workspace-item-details-dialog [mat-dialog-content] .input-field-with-tooltip .field-tooltip{width:6%;height:0px;float:right;position:relative;bottom:2px}ts-workspace-item-details-dialog [mat-dialog-content] .left-column{margin-right:14px}ts-workspace-item-details-dialog [mat-dialog-content] .mat-checkbox{font-size:13px;align-self:flex-end;padding-bottom:16px}ts-workspace-item-details-dialog [mat-dialog-content] .checkbox-field{display:flex}ts-workspace-item-details-dialog [mat-dialog-content] .input-field,ts-workspace-item-details-dialog [mat-dialog-content] .textarea-field,ts-workspace-item-details-dialog [mat-dialog-content] .checkbox-field,ts-workspace-item-details-dialog [mat-dialog-content] .input-field-with-tooltip{width:356px}ts-workspace-item-details-dialog [mat-dialog-content] .checkbox-field,ts-workspace-item-details-dialog [mat-dialog-content] .input-field{height:52px}ts-workspace-item-details-dialog [mat-dialog-content] .label,ts-workspace-item-details-dialog [mat-dialog-content] .checkbox-field .mat-checkbox-label,ts-workspace-item-details-dialog [mat-dialog-content] textarea{color:#999;display:block;text-align:left;font-size:13px;letter-spacing:0;opacity:1}ts-workspace-item-details-dialog [mat-dialog-content] .checkbox-fields-wrap{display:flex;flex-direction:row;height:52px}ts-workspace-item-details-dialog [mat-dialog-content] .checkbox-fields-wrap .mat-checkbox{width:50%}ts-workspace-item-details-dialog [mat-dialog-content] .textarea-field{height:70px}ts-workspace-item-details-dialog [mat-dialog-content] .textarea-field .mat-input-element{width:90%;float:left}ts-workspace-item-details-dialog [mat-dialog-content] .textarea-field textarea{resize:none;height:34px}ts-workspace-item-details-dialog [mat-dialog-content] .textarea-field textarea[disabled]{color:#999!important}ts-workspace-item-details-dialog [mat-dialog-content] .textarea-field .show-more-icon{background:url(show-more.svg) no-repeat;width:16px;height:16px;cursor:pointer;float:right;position:relative;bottom:2px}
`],encapsulation:2});var de=r(2876),mt=r(42378),dt=r.n(mt);class b{constructor(t,a){this._httpClient=t,this._fileDownloaderService=a,this._appInstallerServiceUrl="ServiceModel/AppInstallerService.svc/",this._packageInstallerServiceUrl="/ServiceModel/PackageInstallerService.svc/",this._packageServiceUrl="/ServiceModel/PackageService.svc/",this._headers=new de.HttpHeaders().set("Content-Type","application/json")}_getFileName(t){const a=dt()(new Date).format("YYYY-MM-DD_HH.mm.ss");return[t,a].join("_")+".zip"}_downloadPackageFile(t,a){const i=this._getFileName(a);this._fileDownloaderService.download(t,i)}export(t){const a=this._httpClient.post(this._packageInstallerServiceUrl+"GetZipPackages",JSON.stringify([t]),{headers:this._headers,responseType:"blob"}).pipe((0,p.share)());return a.subscribe(i=>this._downloadPackageFile(i,t)),a}create(t){return this._httpClient.post(this._packageServiceUrl+"CreatePackage",t)}delete(t){return this._httpClient.post(this._appInstallerServiceUrl+"DeletePackage",JSON.stringify(t),{headers:this._headers})}deactivate(t){const a=this._packageServiceUrl+"DeactivatePackage";return this._httpClient.post(a,JSON.stringify(t),{headers:this._headers})}activate(t){const a=this._packageServiceUrl+"ActivatePackage";return this._httpClient.post(a,JSON.stringify(t),{headers:this._headers})}getItems(){return this._httpClient.post(this._packageServiceUrl+"GetPackages",null)}getPackageProperties(t){return this._httpClient.post(this._packageServiceUrl+"GetPackageProperties",JSON.stringify(t),{headers:this._headers}).pipe((0,p.map)(a=>(a.package.isReadOnly=!!a.package.isReadOnly,{success:a.success,errorInfo:a.errorInfo,package:{...(0,x.parseJsonObject)(a.package,{createdOn:_.DataValueType.DateTime,modifiedOn:_.DataValueType.DateTime,isReadOnly:_.DataValueType.Boolean}),beforePackageInstall:a.package.beforePackageInstall?.map(i=>(0,x.parseJsonObject)(i,{modifiedOn:_.DataValueType.DateTime})),afterPackageInstall:a.package.afterPackageInstall?.map(i=>(0,x.parseJsonObject)(i,{modifiedOn:_.DataValueType.DateTime})),beforePackageUninstall:a.package.beforePackageUninstall?.map(i=>(0,x.parseJsonObject)(i,{modifiedOn:_.DataValueType.DateTime}))}})))}savePackageProperties(t){return this._httpClient.post(this._packageServiceUrl+"SavePackageProperties",t)}getAppNamesByPackageUId(t){return this._httpClient.post(this._appInstallerServiceUrl+"GetAppNamesByPackageUId",JSON.stringify(t),{headers:this._headers})}startHotfix(t){const a=this._packageServiceUrl+"StartPackageHotfix";return this._httpClient.post(a,{uId:t})}finishHotfix(t){const a=this._packageServiceUrl+"FinishPackageHotfix";return this._httpClient.post(a,{uId:t})}getPackagesForAddingDependencies(){return this._httpClient.post(this._packageServiceUrl+"GetPackagesForAddingDependencies",null)}}b.\u0275fac=function(t){return new(t||b)(e.\u0275\u0275inject(de.HttpClient),e.\u0275\u0275inject(x.FileDownloaderService))},b.\u0275prov=e.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"});class se{mapSourceControlChange(t,a){return{id:t.uId,parentId:a?a.uId:null,name:t.name,stateCaption:t.stateCaption,state:t.state,type:t.typeCaption}}flattenChanges(t){_.ValidationUtilities.checkArgumentEmpty("syncChanges",t);const a=[];return t.forEach(i=>{a.push(this.mapSourceControlChange(i)),i.items&&a.push(...i.items.map(n=>this.mapSourceControlChange(n,i)))}),a}}se.\u0275fac=function(t){return new(t||se)},se.\u0275prov=e.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:"root"});class T{constructor(t){this._translateService=t}getItemTypeTitle(t){const a=s.WorkspaceItemType[t];return this._translateService.instant(`WorkspaceExplorer.Section.Items.Types.${a}`)}getSvgIconName(t){const[,a]=T._svgIconNames.find(([i])=>i===t)??[];return a}}T._svgIconNames=[[s.WorkspaceItemType.SqlScript,"workspace-item-sql-script"],[s.WorkspaceItemType.SchemaData,"workspace-item-schema-data"],[s.WorkspaceItemType.Assembly,"workspace-item-assembly"],[s.WorkspaceItemType.EntitySchema,"workspace-item-entity-schema"],[s.WorkspaceItemType.ClientUnitSchema,"workspace-item-client-unit-schema"],[s.WorkspaceItemType.SourceCodeSchema,"workspace-item-source-code-schema"],[s.WorkspaceItemType.ProcessSchema,"workspace-item-process-schema"],[s.WorkspaceItemType.DcmSchema,"workspace-item-dcm-schema"],[s.WorkspaceItemType.ProcessUserTaskSchema,"workspace-item-user-task-schema"],[s.WorkspaceItemType.CampaignSchema,"workspace-item-campaign-schema"],[s.WorkspaceItemType.ServiceSchema,"workspace-item-service-schema"],[s.WorkspaceItemType.AddonSchema,"workspace-item-addon-schema"]],T.\u0275fac=function(t){return new(t||T)(e.\u0275\u0275inject(C.TranslateService))},T.\u0275prov=e.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"});var De=r(57186);class F{constructor(t,a,i){this._dialogService=t,this._translateService=a,this._router=i,this._validationMessageDataSchema={columns:[new f.ErrorTypeIconColumnSchema({name:"messageType",span:1}),{name:"message",caption:this._translateService.instant("WorkspaceExplorer.Section.PackageStorageValidationMessageDialog.MessageColumn"),valueType:_.DataValueType.Text,span:10},{name:"itemName",caption:this._translateService.instant("WorkspaceExplorer.Section.PackageStorageValidationMessageDialog.ItemNameColumn"),valueType:_.DataValueType.Text,span:5},{name:"itemTypeCaption",caption:this._translateService.instant("WorkspaceExplorer.Section.PackageStorageValidationMessageDialog.ItemTypeColumn"),valueType:_.DataValueType.Text,span:3},{name:"packageName",caption:this._translateService.instant("WorkspaceExplorer.Section.PackageStorageValidationMessageDialog.PackageNameColumn"),valueType:_.DataValueType.Text,span:5,linkGenerator:n=>({url:`${this._router.url}/Package/${n.packageUId}`,useRouterLink:!0,target:"_blank"})}]}}_getDialogData(t){return{dataSchema:this._validationMessageDataSchema,data:t,title:this._translateService.instant("WorkspaceExplorer.Section.PackageStorageValidationMessageDialog.Title")}}_getMoveElementsConfirmationDialogData(t){return{...this._getDialogData(t),title:this._translateService.instant("WorkspaceExplorer.Section.PackageStorageValidationMessageDialog.ConfirmationTitle"),additionalText:this._translateService.instant("WorkspaceExplorer.Section.PackageStorageValidationMessageDialog.WithoutValidationConfirmationMessage"),continueButtonCaption:this._translateService.instant("WorkspaceExplorer.Section.PackageStorageValidationMessageDialog.MoveButtonCaption")}}_openTableDialog(t){return this._dialogService.open(f.TableDialogComponent,{data:t,disableClose:!0})}showWithMoveElementsConfirmation(t){return this._openTableDialog(this._getMoveElementsConfirmationDialogData(t))}show(t){return this._openTableDialog(this._getDialogData(t))}}F.\u0275fac=function(t){return new(t||F)(e.\u0275\u0275inject(d.DialogService),e.\u0275\u0275inject(C.TranslateService),e.\u0275\u0275inject(De.Router))},F.\u0275prov=e.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac});class U{constructor(t){this._httpClient=t,this._serviceUrl="ServiceModel/WorkspaceExplorerService.svc/"}movePackageElements(t){return this._httpClient.post(this._serviceUrl+"MovePackageElements",t)}moveAllPackageElements(t){return this._httpClient.post(this._serviceUrl+"MoveAllPackageElements",t)}getAllowPackageElementsMoveEnabled(){return this._allowPackageElementsMoveEnabled$||(this._allowPackageElementsMoveEnabled$=this._httpClient.post(this._serviceUrl+"GetAllowPackageElementsMoveEnabled",null).pipe((0,p.shareReplay)(1)),this._allowPackageElementsMoveEnabled$.subscribe()),this._allowPackageElementsMoveEnabled$}}U.\u0275fac=function(t){return new(t||U)(e.\u0275\u0275inject(de.HttpClient))},U.\u0275prov=e.\u0275\u0275defineInjectable({token:U,factory:U.\u0275fac,providedIn:"root"});class K{constructor(t,a,i,n,l,h){this._packageService=t,this._workspaceItemMoveHttpExecutorService=a,this._dialogService=i,this._packageStorageValidationMessagesDialogService=n,this._translateService=l,this._restHandler=h,this._packageDialogDataSchema={columns:[{name:"name",caption:this._translateService.instant("WorkspaceExplorer.Section.WorkspaceItemMoveService.NameColumn"),valueType:_.DataValueType.Text,cellComponentClass:f.NamedFolderTableCellComponent}]}}_getDialogTitle(t){return t.length>1?S.String.Format(this._translateService.instant("WorkspaceExplorer.Section.WorkspaceItemMoveService.MultiselectElementsPackageDialogTitle"),t.length):S.String.Format(this._translateService.instant("WorkspaceExplorer.Section.WorkspaceItemMoveService.SelectPackageDialogTitle"),t[0].name)}_getMoveAllPackageElementsDialogTitle(t){return S.String.Format(this._translateService.instant("WorkspaceExplorer.Section.WorkspaceItemMoveService.MoveAllPackageElementsDialogTitle"),t.name)}_getFilteredPackages(t,a){return t.filter(i=>!i.isReadOnly&&a!==i.uId)}_getPackageDialogData(t,a){return{title:t,selectMode:"single",dataSchema:this._packageDialogDataSchema,data:a,sortColumn:"name",sortDirection:"asc",showSelectAllButton:!1,searchColumns:["name"]}}_showNoPackagesWarningMessage(){return this._dialogService.openInfoDialog(this._translateService.instant("WorkspaceExplorer.Section.WorkspaceItemMoveService.NoPackagesMessage"))}_openPackageSelectDialog(t,a){const i=this._getPackageDialogData(t,a);return i.data.length===0?this._showNoPackagesWarningMessage():this._dialogService.open(f.MultiselectDialogComponent,{data:i,width:"540px"}).pipe((0,p.map)(n=>n&&n[0]))}_callMoveElementsWebService(t,a,i){const n={workspaceItemUIds:t.map(h=>h.uId),sourcePackageUId:t[0].packageUId,targetPackageUId:a,validatePackages:i},l=this._translateService.instant("WorkspaceExplorer.Section.WorkspaceItemMoveService.MoveElementsWebServiceSuccessMessage");return this._restHandler.handleRequest(this._workspaceItemMoveHttpExecutorService.movePackageElements(n),{successMessage:l})}_moveElementsToPackage(t,a){return this._callMoveElementsWebService(t,a,!0).pipe((0,p.mergeMap)(i=>this._checkNeedElementsMoveRetry(i).pipe((0,p.map)(n=>({needRetry:n,elementsMoveResponse:i})))),(0,p.mergeMap)(({needRetry:i,elementsMoveResponse:n})=>i?this._callMoveElementsWebService(t,a,!1).pipe((0,p.tap)(l=>{l?.validationError&&this._dialogService.openInfoDialog(l?.validationError)}),(0,p.map)(l=>l.success)):(0,y.of)(n.success)))}_callMoveAllPackageElementsWebService(t,a,i,n){const l=this._translateService.instant("WorkspaceExplorer.Section.WorkspaceItemMoveService.MoveAllPackageElementsWebServiceSuccessMessage");return this._restHandler.handleRequest(this._workspaceItemMoveHttpExecutorService.moveAllPackageElements({sourcePackageUId:t.uId,targetPackageUId:a.uId,specifyDependencies:i,validatePackages:n}),{successMessage:l})}_checkNeedElementsMoveRetry({success:t,validationMessages:a}){const i=a||[];return!t&&i.length>0?this._packageStorageValidationMessagesDialogService.showWithMoveElementsConfirmation(i):(0,y.of)(!1)}_checkNeedSpecifyPackageDependencies(t){return this._restHandler.handleRequest(this._packageService.getPackageProperties(t.uId)).pipe((0,p.mergeMap)(a=>a.package.dependsOnPackages?.length===0?this._showSpecifyDependenciesConfirmationDialog(t).pipe((0,p.map)(i=>i===d.YesButton.result)):(0,y.of)(!1)))}_moveAllPackageElements(t,a){return this._checkNeedSpecifyPackageDependencies(a).pipe((0,p.mergeMap)(i=>this._callMoveAllPackageElementsWebService(t,a,i,!0)),(0,p.mergeMap)(i=>this._checkNeedElementsMoveRetry(i).pipe((0,p.map)(n=>({needRetry:n,elementsMoveResponse:i})))),(0,p.mergeMap)(({needRetry:i,elementsMoveResponse:n})=>i?this._callMoveAllPackageElementsWebService(t,a,!1,!1).pipe((0,p.tap)(l=>{l?.validationError&&this._dialogService.openInfoDialog(l?.validationError)}),(0,p.map)(l=>l.success)):(0,y.of)(n.success)))}_showSpecifyDependenciesConfirmationDialog(t){return this._dialogService.openConfirmationDialog(S.String.Format(this._translateService.instant("WorkspaceExplorer.Section.WorkspaceItemMoveService.SpecifyDependenciesConfirmationDialog"),t.name))}_selectTargetPackage(t,a){return this._restHandler.handleRequest(this._packageService.getItems()).pipe((0,p.mergeMap)(i=>i.packages.length>0?this._openPackageSelectDialog(t,this._getFilteredPackages(i.packages,a)):this._showNoPackagesWarningMessage()))}moveElements(t){const a=this._getDialogTitle(t);return this._selectTargetPackage(a,t[0].packageUId).pipe((0,p.mergeMap)(i=>i?this._moveElementsToPackage(t,i.uId):(0,y.of)(!1)))}moveAllPackageElements(t){const a=this._getMoveAllPackageElementsDialogTitle(t);return this._selectTargetPackage(a,t.uId).pipe((0,p.mergeMap)(i=>i?this._moveAllPackageElements(t,i):(0,y.of)(!1)))}}K.\u0275fac=function(t){return new(t||K)(e.\u0275\u0275inject(b),e.\u0275\u0275inject(U),e.\u0275\u0275inject(d.DialogService),e.\u0275\u0275inject(F),e.\u0275\u0275inject(C.TranslateService),e.\u0275\u0275inject(x.RestHandler))},K.\u0275prov=e.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"});class V{constructor(t,a,i){this._translateService=t,this._restErrorHandler=a,this._workspaceItemMoveHttpExecutorService=i,this._refreshMenuNotifier=new y.Subject,this._commonActionDescriptors=[{action:c.Delete,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.Delete"),svgIconName:"trash",disabledSvgIconName:"trash-disabled",disabled:n=>n.isReadOnly},{action:c.Move,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.Move"),svgIconName:"workspace-item-move",disabledSvgIconName:"workspace-item-move-disabled",disabled:(n,l)=>n.isReadOnly||!l.samePackageItems,hidden:(n,l)=>!l.allowPackageElementsMove},{action:c.Export,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.Export"),svgIconName:"export-action"},{action:c.GenerateSchemasSources,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.GenerateSchemasSources"),svgIconName:"generate-source-code"},{action:c.RevertChanges,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.RevertChanges"),disabled:n=>!n.isChanged||!n.packageRepository},{action:c.LockPackageElement,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.LockPackageElement"),svgIconName:"workspace-item-status-locked",disabledSvgIconName:"workspace-item-status-locked-disabled",disabled:n=>n.isReadOnly||!n.packageRepository||n.isLocked},{action:c.UnLockPackageElement,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.UnLockPackageElement"),svgIconName:"workspace-item-status-unlocked",disabledSvgIconName:"workspace-item-status-unlocked-disabled",disabled:n=>n.isReadOnly||!n.packageRepository||!n.isLocked}],this._singleActionDescriptors=[...this._commonActionDescriptors,{action:c.UpdateDBStructure,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.UpdateDBStructure")},{action:c.InstallSqlScripts,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.InstallSqlScripts")},{action:c.InstallData,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.InstallData")},{action:c.EditEntityProcess,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.EditProcess")},{action:c.ShowDetails,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.Properties")},{action:c.OpenMetaData,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.OpenMetaData"),svgIconName:"open-meta-data"},{action:c.OpenSourceCode,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.OpenSourceCode"),svgIconName:"open-source-code"}],this._multiActionDescriptors=[...this._commonActionDescriptors,{action:c.UpdateDBStructure,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.MultiUpdateDBStructure"),svgIconName:"workspace-item-entity-schema"},{action:c.InstallSqlScripts,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.MultiInstallSqlScripts"),svgIconName:"workspace-item-sql-script"},{action:c.InstallData,caption:this._translateService.instant("WorkspaceExplorer.Section.Actions.MultiInstallData"),svgIconName:"workspace-item-schema-data"}]}get refreshMenuNotifier(){return this._refreshMenuNotifier.asObservable()}_getActionSupportedItemTypes(t){const a=Object.keys(s.WorkspaceItemType).map(n=>s.WorkspaceItemType[n]),i=[s.WorkspaceItemType.EntitySchema,s.WorkspaceItemType.ClientUnitSchema,s.WorkspaceItemType.SourceCodeSchema,s.WorkspaceItemType.ProcessSchema,s.WorkspaceItemType.DcmSchema,s.WorkspaceItemType.ProcessUserTaskSchema,s.WorkspaceItemType.CampaignSchema,s.WorkspaceItemType.ServiceSchema,s.WorkspaceItemType.AddonSchema];switch(t){case c.EditEntityProcess:return[s.WorkspaceItemType.EntitySchema];case c.Delete:case c.Move:case c.RevertChanges:case c.ShowDetails:case c.LockPackageElement:case c.UnLockPackageElement:return a;case c.OpenMetaData:case c.Export:return i;case c.OpenSourceCode:return[s.WorkspaceItemType.ProcessSchema,s.WorkspaceItemType.ProcessUserTaskSchema,s.WorkspaceItemType.EntitySchema,s.WorkspaceItemType.ClientUnitSchema];case c.UpdateDBStructure:return[s.WorkspaceItemType.EntitySchema];case c.GenerateSchemasSources:return[s.WorkspaceItemType.EntitySchema,s.WorkspaceItemType.ProcessSchema,s.WorkspaceItemType.ProcessUserTaskSchema];case c.InstallSqlScripts:return[s.WorkspaceItemType.SqlScript];case c.InstallData:return[s.WorkspaceItemType.SchemaData]}}_getMultiActionsGroups(){return[[c.Export,c.Move,c.Delete],[c.GenerateSchemasSources],[c.UpdateDBStructure],[c.InstallSqlScripts,c.InstallData]]}_getSingleActionsGroups(){return[[c.EditEntityProcess,c.Export,c.Move,c.Delete],[c.InstallData,c.UpdateDBStructure,c.GenerateSchemasSources,c.InstallSqlScripts],[c.OpenMetaData,c.OpenSourceCode],[c.LockPackageElement,c.UnLockPackageElement],[c.RevertChanges],[c.ShowDetails]]}_getActionDescriptorSinglePropertyValue(t,a,i){return t instanceof Function?t(a,i):t}_createMultiActionsMenuItem(t,a,i){const n=this._filterRecordsByActionDescriptor(a,t,i),l=a.every(h=>this._getActionDescriptorSinglePropertyValue(t.disabled,h,i));return{code:t.action,caption:n.length===0?t.caption:`${t.caption} (${n.length})`,svgIconName:l?t.disabledSvgIconName??t.svgIconName:t.svgIconName,disabled:l,hidden:a.every(h=>this._getActionDescriptorSinglePropertyValue(t.hidden,h,i))}}_createSingleActionsMenuItem(t,a,i){const n=this._getActionDescriptorSinglePropertyValue(t.disabled,a,i)??!1;return{caption:t.caption,code:t.action,svgIconName:n?t.disabledSvgIconName??t.svgIconName:t.svgIconName,disabled:n,hidden:this._getActionDescriptorSinglePropertyValue(t.hidden,a,i)??!1}}_groupMenuItemDescriptors(t,a){return t.map(i=>i.map(n=>a.find(l=>l.action===n)))}_filterActionsGroups(t,a){const i=[...new Set(a.map(n=>n.type))];return t.map(n=>n.filter(l=>{const h=this._getActionSupportedItemTypes(l);return i.some(D=>h.includes(D))})).filter(n=>n.length>0)}_flattenActions(t){const a=[];return t.forEach(i=>{a.length>0&&a.push(f.ActionsMenuDivider),a.push(...i)}),a}_getCommonActionsOptions(){return this._restErrorHandler.handleRequest(this._workspaceItemMoveHttpExecutorService.getAllowPackageElementsMoveEnabled()).pipe((0,p.map)(t=>({allowPackageElementsMove:t.value})))}_getSingleActionOptions(t){return this._getCommonActionsOptions().pipe((0,p.map)(a=>({...a,samePackageItems:!0})))}_getMultiActionOptions(t){return this._getCommonActionsOptions().pipe((0,p.map)(a=>({...a,samePackageItems:new Set(t.map(i=>i.packageUId)).size===1})))}_filterRecordsByActionDescriptor(t,a,i){const n=this._getActionSupportedItemTypes(a.action);return t.filter(l=>n.includes(l.type)&&!this._getActionDescriptorSinglePropertyValue(a.hidden,l,i)&&!this._getActionDescriptorSinglePropertyValue(a.disabled,l,i))}getMultiActionSupportedRecords(t,a){const i=this._multiActionDescriptors.find(n=>n.action===a);return this._getMultiActionOptions(t).pipe((0,p.map)(n=>this._filterRecordsByActionDescriptor(t,i,n)))}getSingleActions(t){return this._getSingleActionOptions(t).pipe((0,p.map)(a=>{const i=this._getSingleActionsGroups(),n=this._filterActionsGroups(i,[t]),h=this._groupMenuItemDescriptors(n,this._singleActionDescriptors).map(D=>D.map(G=>this._createSingleActionsMenuItem(G,t,a)));return this._flattenActions(h)}))}getMultiActions(t){return this._getMultiActionOptions(t).pipe((0,p.map)(a=>{const i=this._getMultiActionsGroups(),n=this._filterActionsGroups(i,t),h=this._groupMenuItemDescriptors(n,this._multiActionDescriptors).map(D=>D.map(G=>this._createMultiActionsMenuItem(G,t,a)));return this._flattenActions(h)}))}refreshMenuForItem(t){this._refreshMenuNotifier.next(t)}}V.\u0275fac=function(t){return new(t||V)(e.\u0275\u0275inject(C.TranslateService),e.\u0275\u0275inject(x.RestErrorHandler),e.\u0275\u0275inject(U))},V.\u0275prov=e.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"});class ${constructor(t,a){this._httpClient=t,this._fileDownloaderService=a,this._serviceUrl="ServiceModel/WorkspaceExplorerService.svc/",this._appInstallerServiceUrl="ServiceModel/AppInstallerService.svc/"}getItems(){return this._httpClient.post(this._serviceUrl+"GetWorkspaceItems",null).pipe((0,p.map)(t=>({success:t.success,errorInfo:t.errorInfo,items:(0,x.parseJsonObjects)(t.items,{modifiedOn:_.DataValueType.Date})})))}getPackageSourceCodeSchemas(t){const a=this._serviceUrl+"GetPackageSourceCodeSchemas",i=JSON.stringify(t),n={"content-type":"application/json"};return this._httpClient.post(a,i,{headers:n}).pipe((0,p.map)(l=>({success:l.success,errorInfo:l.errorInfo,items:(0,x.parseJsonObjects)(l.items,{modifiedOn:_.DataValueType.Date})})))}importWorkspaceItem(t){const a=this._serviceUrl+"ImportWorkspaceItem";return this._httpClient.post(a,t)}generateSchemasSources(t){const a=this._serviceUrl+"GenerateSchemasSources";return this._httpClient.post(a,t)}installSqlScripts(t){const a=this._serviceUrl+"InstallSqlScripts";return this._httpClient.post(a,t)}executeInstallScript(t){const a=this._serviceUrl+"ExecuteInstallScript",i=JSON.stringify(t),n={"content-type":"application/json"};return this._httpClient.post(a,i,{headers:n})}installRequiredSqlScripts(){const t=this._serviceUrl+"InstallRequiredSqlScripts";return this._httpClient.post(t,null)}installData(t){const a=this._serviceUrl+"InstallData";return this._httpClient.post(a,t)}installRequiredData(){const t=this._serviceUrl+"InstallRequiredData";return this._httpClient.post(t,null)}installRequiredSchemasDBStructure(){const t=this._serviceUrl+"InstallRequiredSchemasDBStructure";return this._httpClient.post(t,null)}delete(t){const a=this._serviceUrl+"Delete";return this._httpClient.post(a,t)}loadPackagesToFileSystem(){const t=this._appInstallerServiceUrl+"LoadPackagesToFileSystem";return this._httpClient.post(t,null)}loadPackagesToDB(){const t=this._appInstallerServiceUrl+"LoadPackagesToDB";return this._httpClient.post(t,null)}exportItems(t){const a=this._httpClient.post(this._serviceUrl+"ExportSchema",t,{responseType:"blob",observe:"response"}).pipe((0,p.share)());return a.subscribe(i=>{this._fileDownloaderService.downloadFromResponse(i)}),a}generateModifiedSchemasSources(){return this._httpClient.post(this._serviceUrl+"GenerateModifiedSchemasSources",null)}generateRequiredSchemasSources(){return this._httpClient.post(this._serviceUrl+"GenerateRequiredSchemasSources",null)}generateAllSchemasSourcesInBackground(){return this._httpClient.post(this._serviceUrl+"GenerateAllSchemasSourcesInBackground",null)}validateWorkspace(){return this._httpClient.post(this._serviceUrl+"ValidateWorkspace",null)}getIsFileDesignMode(){return this._getIsFileDesignMode$?this._getIsFileDesignMode$:(this._getIsFileDesignMode$=this._httpClient.post(this._serviceUrl+"GetIsFileDesignMode",null).pipe((0,p.share)()),this._getIsFileDesignMode$)}getWorkspaceItemDetails(t,a){return this._httpClient.post(this._serviceUrl+"GetWorkspaceItemDetails",{workspaceItemUId:t,itemType:a}).pipe((0,p.map)(i=>({success:i.success,errorInfo:i.errorInfo,item:(0,x.parseJsonObject)(i.item,{createdOn:_.DataValueType.Date,modifiedOn:_.DataValueType.Date,dbStructureModifiedOn:_.DataValueType.Date,metaDataModifiedOn:_.DataValueType.Date})})))}getIsSourceControlEnabled(){return this._httpClient.post(this._serviceUrl+"GetIsSourceControlEnabled",null)}}$.\u0275fac=function(t){return new(t||$)(e.\u0275\u0275inject(de.HttpClient),e.\u0275\u0275inject(x.FileDownloaderService))},$.\u0275prov=e.\u0275\u0275defineInjectable({token:$,factory:$.\u0275fac,providedIn:"root"});var ut=r(41307);class L{constructor(t,a,i){this._dialogService=t,this._appInfoService=a,this._navigationHandler=i}static _getDialogComponent(t){return(0,k.Z)(function*(){let a;try{const i=yield r(84092)(`./${t}/${t}.component`);a=Object.values(i)[0]}catch{console.error(`Can't find component "${t}"`);return}return a})()}dialogConfig(){return{panelClass:["create-dialog","dialog-top-border","bright-theme"],width:"949px",maxWidth:"97vw",height:"min(803px, 97vh)"}}selectTemplateDialog(t,a={}){var i=this;return(0,k.Z)(function*(){const n=yield L._getDialogComponent(t),l={...i.dialogConfig(),...a};return i._dialogService.open(n,l)})()}createSchema(t,a,i={},n){var l=this;return(0,k.Z)(function*(){const h=yield l.selectTemplateDialog(t.createDialogComponentName);return new Promise(D=>{h.subscribe(G=>{const ge=G?.selectedItemUId;if(ge){let he=S.String.Format(t.createTemplate,...a);he+=`&parentSchemaUId=${ge}`,Object.entries(i).forEach(([Se,Ie])=>{he+=`&${Se}=${Ie}`}),l._navigationHandler.navigate(he,null,n)}return D(Boolean(ge))})})})()}selectTemplate(t="angular-schema"){var a=this;return(0,k.Z)(function*(){const i=yield(0,y.lastValueFrom)(a._appInfoService.getAppsInfo().pipe((0,p.filter)(h=>h.success),(0,p.map)(h=>h?.appsInfo.find(D=>D.name===t)))),n=yield a.selectTemplateDialog(i.createDialogComponentName);return(yield(0,y.lastValueFrom)(n))?.selectedItemUId})()}}L.\u0275fac=function(t){return new(t||L)(e.\u0275\u0275inject(d.DialogService),e.\u0275\u0275inject(ut.AppInfoService),e.\u0275\u0275inject(x.NAVIGATION_HANDLER_TOKEN))},L.\u0275prov=e.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac});class ke{constructor(t,a){this._restHandler=t,this._notifyService=a,this.dialogPanelClass="connected-apps-dialog-content"}_doAfterSuccessAction(t,a){const i=this.getSuccessMessage(t,a);this._notifyService.info({message:i,duration:5e3})}_doPackageAction(t,a){return this._restHandler.handleRequest(this.doActionPackageRequest(t,a)).pipe((0,p.mergeMap)(i=>(i.success&&this._doAfterSuccessAction(i,t),(0,y.of)(i.success))))}execute(t,a,i){return this.showConfirmationDialog(a,i).pipe((0,p.mergeMap)(n=>n!==d.YesButton.result?(0,y.of)(!1):this._doPackageAction(t,a)))}}class ye extends ke{constructor(t,a,i,n,l){super(l,t),this._packageService=a,this._translateService=i,this._dialogService=n,this.restHandler=l}_getDialogMessage(t){if(t.length===0)return this._translateService.instant(this.confirmationDialogNoAppTemplateKey);const a=this._translateService.instant(this.confirmationDialogWithAppsTemplateKey);return S.String.format(a,t.join(", "))}getSuccessMessage(t,a){const i=this._translateService.instant(this.snackBarMessageTemplateKey);return S.String.format(i,a)}showConfirmationDialog(t,a){return this.restHandler.handleRequest(this._packageService.getAppNamesByPackageUId(t)).pipe((0,p.filter)(i=>i.success),(0,p.switchMap)(i=>{const n=i.appNames||[];return a&&n.includes(a)&&n.splice(n.indexOf(a),1),this._dialogService.openConfirmationDialog({message:this._getDialogMessage(n),panelClass:[this.dialogPanelClass]})}))}}class J extends ye{constructor(t,a,i,n,l){super(a,l,i,n,t),this.packageService=l,this.snackBarMessageTemplateKey="WorkspaceExplorer.Section.Packages.PackageDeleted",this.confirmationDialogNoAppTemplateKey="WorkspaceExplorer.Section.Packages.DeleteConfirmation",this.confirmationDialogWithAppsTemplateKey="WorkspaceExplorer.Section.Packages.ConnectedApplications.DeleteConfirmation"}doActionPackageRequest(t,a){return this.packageService.delete(t)}}J.\u0275fac=function(t){return new(t||J)(e.\u0275\u0275inject(x.RestHandler),e.\u0275\u0275inject(d.NotifyService),e.\u0275\u0275inject(C.TranslateService),e.\u0275\u0275inject(d.DialogService),e.\u0275\u0275inject(b))},J.\u0275prov=e.\u0275\u0275defineInjectable({token:J,factory:J.\u0275fac});class Y extends ye{constructor(t,a,i,n,l){super(a,l,i,n,t),this.packageService=l,this.snackBarMessageTemplateKey="WorkspaceExplorer.Section.Packages.PackageDeactivated",this.confirmationDialogNoAppTemplateKey="WorkspaceExplorer.Section.Packages.DeactivateConfirmation",this.confirmationDialogWithAppsTemplateKey="WorkspaceExplorer.Section.Packages.ConnectedApplications.DeactivateConfirmation"}doActionPackageRequest(t,a){return this.packageService.deactivate(a)}}Y.\u0275fac=function(t){return new(t||Y)(e.\u0275\u0275inject(x.RestHandler),e.\u0275\u0275inject(d.NotifyService),e.\u0275\u0275inject(C.TranslateService),e.\u0275\u0275inject(d.DialogService),e.\u0275\u0275inject(b))},Y.\u0275prov=e.\u0275\u0275defineInjectable({token:Y,factory:Y.\u0275fac});class W{constructor(t){this._httpClient=t,this._repositoryServiceUrl="/ServiceModel/SourceControlService.svc",this._getRepositoriesMethod="GetRepositories",this._getRepositoryAuthorized="CheckAuthentication",this._createRepositoryMethod="CreateRepository",this._updateRepositoryMethod="ModifyRepository",this._deleteRepositoryMethod="DeleteRepository",this._authorizeRepositoryMethod="Login"}_getEndpointURL(t){return`${this._repositoryServiceUrl}/${t}`}_parseRepositories(t){return t.map(a=>({name:a.repositoryName,url:a.repositoryUri,isActive:a.active}))}_getRepositoryDto(t){return{repositoryName:t.name,repositoryUri:t.url,active:t.isActive}}isRepositoryAuthorized(t){const a=this._getEndpointURL(this._getRepositoryAuthorized);return this._httpClient.post(a,{repositoryName:t}).pipe((0,p.catchError)(()=>(0,y.of)({})),(0,p.map)(i=>i.isAuthenticated))}getByName(t){return this.getItems().pipe((0,p.map)(a=>a.repositories.find(i=>i.name===t)))}getItems(){const t=this._getEndpointURL(this._getRepositoriesMethod);return this._httpClient.post(t,null).pipe((0,p.map)(a=>({success:a.success,errorInfo:a.errorInfo,repositories:this._parseRepositories(a.repositories)})))}authorizeRepository(t,a,i){const n=this._getEndpointURL(this._authorizeRepositoryMethod),l={repositoryName:t,username:a,password:i};return this._httpClient.post(n,l)}create(t){const a=this._getEndpointURL(this._createRepositoryMethod),i=this._getRepositoryDto(t);return this._httpClient.post(a,i)}update(t,a){const i=this._getEndpointURL(this._updateRepositoryMethod),n=this._getRepositoryDto(a);return n.originalRepositoryName=t,this._httpClient.post(i,n)}delete(t){const a=this._getEndpointURL(this._deleteRepositoryMethod),i=this._getRepositoryDto(t);return this._httpClient.post(a,i)}}W.\u0275fac=function(t){return new(t||W)(e.\u0275\u0275inject(de.HttpClient))},W.\u0275prov=e.\u0275\u0275defineInjectable({token:W,factory:W.\u0275fac,providedIn:"root"});var gt=r(97600),_e;(function(o){o[o.NotHotfixed=0]="NotHotfixed",o[o.UnderHotfix=1]="UnderHotfix",o[o.WasHotfixed=2]="WasHotfixed"})(_e||(_e={}));var xe;(function(o){o[o.NotChanged=0]="NotChanged",o[o.New=1]="New",o[o.Changed=2]="Changed",o[o.Deleted=3]="Deleted",o[o.Reverted=4]="Reverted",o[o.Conflicted=5]="Conflicted"})(xe||(xe={}));var ve;(function(o){o[o.Package=0]="Package",o[o.Schema=1]="Schema",o[o.Assembly=2]="Assembly",o[o.SqlScript=3]="SqlScript",o[o.SchemaData=4]="SchemaData",o[o.CoreResource=5]="CoreResource",o[o.SchemaResource=6]="SchemaResource",o[o.FileContent=7]="FileContent"})(ve||(ve={}));class ht{}class ft{}class kt extends f.BaseSectionProfileData{}class Ee{constructor(){this.isActive=!0}}function yt(o,t){o&1&&e.\u0275\u0275element(0,"ts-mask")}function _t(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,a.getNameControlErrorMessage())," ")}}function xt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,a.getUrlControlErrorMessage())," ")}}function vt(o,t){if(o&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onAddClick())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",a.repositoryForm.invalid),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"RepositorySection.Page.Actions.Add")," ")}}function St(o,t){if(o&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onApplyClick())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",a.repositoryForm.invalid),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"RepositorySection.Page.Actions.Apply")," ")}}var w;(function(o){o.ADD="Add",o.EDIT="Edit",o.AUTHORIZE="Authorize"})(w||(w={}));class q{get _needAuthorize(){return this._repository.isActive&&this._userLogin&&this._userPassword}get addButtonVisible(){return this._mode===w.ADD}get applyButtonVisible(){return this._mode===w.EDIT}get authorizeButtonDisabled(){return this._repository.isActive===!1||this.isAuthorizeMode&&this.repositoryForm.invalid}get isAuthorizeMode(){return this._mode===w.AUTHORIZE}get nameControl(){return this.repositoryForm.get("name")}get urlControl(){return this.repositoryForm.get("url")}constructor(t,a,i,n,l,h){this._repositoryService=t,this._dialogRef=a,this._dialogService=i,this._formBuilder=n,this._translateService=l,this._repositoryNameValidationPattern="^[a-z_]{1}[0-9a-z._]*$",this._repositoryNameMaxLength=250,this._repositoryUrlMaxLength=249,this._mode=w.ADD,this.isLoading=!1,this._mode=h.mode,this._repository=(0,gt.cloneDeep)(h.item)||new Ee,this._originalRepositoryName=this._repository.name}_applyAuthorizeMode(){this.isAuthorizeMode&&(this.repositoryForm.get("name").disable(),this.repositoryForm.get("url").disable(),this.repositoryForm.get("isActive").disable(),this.repositoryForm.get("login").setValidators([g.Validators.required]),this.repositoryForm.get("password").setValidators([g.Validators.required]))}_buildFormGroup(){return this._formBuilder.group({name:["",[g.Validators.required,g.Validators.pattern(new RegExp(this._repositoryNameValidationPattern,"i")),g.Validators.maxLength(this._repositoryNameMaxLength)]],url:["",[g.Validators.required,g.Validators.maxLength(this._repositoryUrlMaxLength)]],isActive:[!0,[]],login:["",[]],password:["",[]]})}_initFormGroup(){this.repositoryForm.patchValue({name:this._repository.name,url:this._repository.url,isActive:this._repository.isActive}),this.repositoryForm.get("name").valueChanges.subscribe(t=>{this._repository.name=t}),this.repositoryForm.get("url").valueChanges.subscribe(t=>{this._repository.url=t}),this.repositoryForm.get("isActive").valueChanges.subscribe(t=>{this._repository.isActive=t}),this.repositoryForm.get("login").valueChanges.subscribe(t=>{this._userLogin=t}),this.repositoryForm.get("password").valueChanges.subscribe(t=>{this._userPassword=t})}_showErrorMessage(t){const a=t&&t.errorInfo&&t.errorInfo.message;this._dialogService.openInfoDialog(a)}_saveRepository(t){let a;this._mode===w.ADD?a=this._repositoryService.create(t):a=this._repositoryService.update(this._originalRepositoryName,t),this.isLoading=!0,a.pipe((0,p.mergeMap)(i=>i.success===!0?(0,y.of)(i):(0,y.throwError)(i)),(0,p.mergeMap)(i=>this._needAuthorize?this._authorizeRepository():(0,y.of)(i))).subscribe(i=>{this.isLoading=!1,this._dialogRef.close(i)},i=>{this.isLoading=!1,this._showErrorMessage(i)})}_authorizeRepository(){return this._repositoryService.authorizeRepository(this._repository.name,this._userLogin,this._userPassword)}_getInvalidLengthMessage(t,a,i){return this._translateService.get(t).pipe((0,p.map)(n=>S.String.Format(n,a,i)))}ngOnInit(){this.repositoryForm=this._buildFormGroup(),this._initFormGroup(),this._applyAuthorizeMode()}onAuthorizeClick(){if(this._mode===w.AUTHORIZE)return this._authorizeRepository().subscribe(t=>{t.success?this._dialogRef.close(t):this._dialogService.openInfoDialog(this._translateService.instant("WorkspaceExplorer.PackagePage.RepositoryAuthorizationRequired"))});this._saveRepository(this._repository)}onAddClick(){this._saveRepository(this._repository)}onApplyClick(){this._saveRepository(this._repository)}getNameControlErrorMessage(){if(this.nameControl.hasError("required"))return this._translateService.get("RepositorySection.Page.Validation.Required");if(this.nameControl.hasError("pattern"))return this._translateService.get("RepositorySection.Page.Validation.NameField.Pattern");if(this.nameControl.hasError("maxlength"))return this._getInvalidLengthMessage("RepositorySection.Page.Validation.MaxLength",this.nameControl.value.length,this._repositoryNameMaxLength)}getUrlControlErrorMessage(){if(this.urlControl.hasError("required"))return this._translateService.get("RepositorySection.Page.Validation.Required");if(this.urlControl.hasError("maxlength"))return this._getInvalidLengthMessage("RepositorySection.Page.Validation.MaxLength",this.urlControl.value.length,this._repositoryUrlMaxLength)}}q.\u0275fac=function(t){return new(t||q)(e.\u0275\u0275directiveInject(W),e.\u0275\u0275directiveInject(u.MatLegacyDialogRef),e.\u0275\u0275directiveInject(d.DialogService),e.\u0275\u0275directiveInject(g.FormBuilder),e.\u0275\u0275directiveInject(C.TranslateService),e.\u0275\u0275directiveInject(u.MAT_LEGACY_DIALOG_DATA))},q.\u0275cmp=e.\u0275\u0275defineComponent({type:q,selectors:[["ts-repository-page"]],decls:41,vars:33,consts:[[4,"ngIf"],[1,"repository-page",3,"formGroup"],["mat-dialog-title","",1,"tilte"],["mat-dialog-content","",1,"content"],["floatLabel","always",1,"repository-field","name"],["formControlName","name","matInput","","required","","autocomplete","off","type","text","spellcheck","false"],["floatLabel","always",1,"repository-field","url"],["formControlName","url","matInput","","required","","autocomplete","off","type","text","spellcheck","false"],["floatLabel","always",1,"repository-field","login"],["formControlName","login","matInput","","autocomplete","off","type","text","spellcheck","false",3,"required"],["floatLabel","always",1,"repository-field","password"],["formControlName","password","matInput","","autocomplete","off","type","password","spellcheck","false",3,"required"],["formControlName","isActive",1,"repository-field","is-active"],["mat-dialog-actions","",1,"actions"],["mat-button","",1,"action-button","close",3,"mat-dialog-close"],["mat-button","",1,"action-button","authorize",3,"disabled","click"],["mat-flat-button","","color","accent","class","action-button add",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","primary","class","action-button apply",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","accent",1,"action-button","add",3,"disabled","click"],["mat-flat-button","","color","primary",1,"action-button","apply",3,"disabled","click"]],template:function(t,a){t&1&&(e.\u0275\u0275template(0,yt,1,0,"ts-mask",0),e.\u0275\u0275elementStart(1,"form",1)(2,"div",2)(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"input",5),e.\u0275\u0275template(12,_t,3,3,"mat-error",0),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"mat-form-field",6)(14,"mat-label"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(17,"input",7),e.\u0275\u0275template(18,xt,3,3,"mat-error",0),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"mat-form-field",8)(20,"mat-label"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(23,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"mat-form-field",10)(25,"mat-label"),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"mat-checkbox",12),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div",13)(33,"button",14),e.\u0275\u0275text(34),e.\u0275\u0275pipe(35,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"button",15),e.\u0275\u0275listener("click",function(){return a.onAuthorizeClick()}),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(39,vt,3,4,"button",16),e.\u0275\u0275template(40,St,3,4,"button",17),e.\u0275\u0275elementEnd()()),t&2&&(e.\u0275\u0275property("ngIf",a.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",a.repositoryForm),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,17,"RepositorySection.Page.Title")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,19,"RepositorySection.Columns.Name")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",a.nameControl.invalid&&(a.nameControl.dirty||a.nameControl.touched)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,21,"RepositorySection.Columns.Address")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",a.urlControl.invalid&&(a.urlControl.dirty||a.urlControl.touched)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,23,"RepositorySection.Columns.Login")),e.\u0275\u0275advance(2),e.\u0275\u0275property("required",a.isAuthorizeMode),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,25,"RepositorySection.Columns.Password")),e.\u0275\u0275advance(2),e.\u0275\u0275property("required",a.isAuthorizeMode),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(31,27,"RepositorySection.Columns.IsActive")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(35,29,"RepositorySection.Page.Actions.Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",a.authorizeButtonDisabled),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(38,31,"RepositorySection.Page.Actions.Authorize")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.addButtonVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.applyButtonVisible))},dependencies:[v.NgIf,M.MatLegacyButton,pe.MatLegacyCheckbox,u.MatLegacyDialogClose,u.MatLegacyDialogTitle,u.MatLegacyDialogContent,u.MatLegacyDialogActions,P.MatLegacyError,P.MatLegacyFormField,P.MatLegacyLabel,me.MatLegacyInput,g.\u0275NgNoValidate,g.DefaultValueAccessor,g.NgControlStatus,g.NgControlStatusGroup,g.RequiredValidator,d.MaskComponent,g.FormGroupDirective,g.FormControlName,v.AsyncPipe,C.TranslatePipe],styles:["[_nghost-%COMP%]{width:540px}.repository-page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.repository-page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .repository-field.is-active[_ngcontent-%COMP%]{color:#999;font-size:13px}.repository-page[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{justify-content:flex-end}"]});class j{constructor(t,a,i,n){this._repository=t,this._dialogService=a,this._translateService=i,this._restHandler=n}_authorizeInRepository(t){return this._dialogService.openConfirmationDialog(this._translateService.instant("WorkspaceExplorer.PackagePage.RepositoryAuthorizationRequired")).pipe((0,p.mergeMap)(a=>a===d.YesButton.result?this.authorizeInRepositoryDialog(t):(0,y.of)(!1)))}authorize(t){return t?this._restHandler.handleRequest(this._repository.isRepositoryAuthorized(t)).pipe((0,p.mergeMap)(a=>a?(0,y.of)(!0):this._authorizeInRepository(t))):(0,y.of)(!0)}authorizeInRepositoryDialog(t){return this._repository.getByName(t).pipe((0,p.mergeMap)(a=>this._dialogService.open(q,{data:{mode:w.AUTHORIZE,item:a}})))}}j.\u0275fac=function(t){return new(t||j)(e.\u0275\u0275inject(W),e.\u0275\u0275inject(d.DialogService),e.\u0275\u0275inject(C.TranslateService),e.\u0275\u0275inject(x.RestHandler))},j.\u0275prov=e.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac});var fe=r(59837),It=r(73539);function Ct(o,t){o&1&&e.\u0275\u0275element(0,"ts-mask")}function Dt(o,t){o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"WorkspaceExplorer.Section.Packages.CreatePackageDialog.Validation.PackageNameNotSpecified")))}function Et(o,t){o&1&&(e.\u0275\u0275elementStart(0,"div")(1,"mat-checkbox",25),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),o&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"WorkspaceExplorer.PackagePage.PackageType")," "))}function Mt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-option",26),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const a=t.$implicit;e.\u0275\u0275property("value",a.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.name," ")}}function Pt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,a.getPackageVersionErrorCode()))}}function Tt(o,t){if(o&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.createAndOpenPackagePage())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}o&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"WorkspaceExplorer.Section.Packages.CreatePackageDialog.OpenPackagePage")," "))}class Z{constructor(t,a,i,n,l,h){this._dialogService=a,this._dialogRef=i,this._repositoryService=n,this._repositoryAuthorizeService=l,this._router=h,this.createPackageForm=new g.FormGroup({packageName:new g.UntypedFormControl("",[g.Validators.required]),packageDescription:new g.UntypedFormControl(""),repositoryName:new g.UntypedFormControl(""),packageVersion:new g.UntypedFormControl({value:"",disabled:!0},[g.Validators.pattern(/^[0-9]+[a-zA-Z0-9_.]*$/),g.Validators.maxLength(250)]),isStandaloneAssembly:new g.UntypedFormControl(!1),isInstallOptional:new g.UntypedFormControl(!1)}),this.isLoading=!1,this.package={name:"",isChanged:!0,isLocked:!1,isReadOnly:!1,uId:(0,_.generateGuid)(),position:0,description:"",repositoryName:null,version:null,type:s.PackageType.General,installBehavior:N.Required},this.tooltipPanelClass=t.tooltipPanelClass,this.allowStandaloneAssembly=t.allowStandaloneAssembly,this.canAddDependencies=t.canAddDependencies,this.createPackageForm.controls.isStandaloneAssembly.setValue(t.allowStandaloneAssembly&&t.useStandaloneAssemblyByDefault),this.createPackageForm.controls.isInstallOptional.setValue(!1),this._createPackageExecutor=t.executor}_showErrorMessage(t){const a=t?.errorInfo?.message;this._dialogService.openInfoDialog(a)}_prepareRepositoryFilter(){this.filteredRepositories=(0,y.combineLatest)([this._repositoryService.getItems(),this.createPackageForm.get("repositoryName").valueChanges.pipe((0,p.startWith)(""))]).pipe((0,p.tap)(([t,a])=>{const i=this.createPackageForm.get("packageVersion");t.repositories.map(n=>n.name).includes(a)?(i.enable(),this.package.repositoryName=t.repositories.find(n=>n.name===a).name):(i.setValue(null),i.disable(),this.package.repositoryName=null,this.package.version=null)}),(0,p.map)(([t,a])=>t.repositories.filter(i=>i.isActive&&i.name.includes(a))))}_updateModel(){this.package.name=this.createPackageForm.get("packageName").value,this.package.version=this.createPackageForm.get("packageVersion").value,this.package.description=this.createPackageForm.get("packageDescription").value,this.package.type=this.createPackageForm.get("isStandaloneAssembly").value?s.PackageType.Assembly:s.PackageType.General,this.package.installBehavior=this.createPackageForm.get("isInstallOptional").value?N.Optional:N.Required}createNewPackage(){this._updateModel();const a=this._repositoryAuthorizeService.authorize(this.package.repositoryName).pipe((0,y.switchMap)(i=>i?(this.isLoading=!0,this._createPackageExecutor.call(this,this.package)):(0,y.of)()),(0,p.tap)(i=>{i?.success?this._dialogRef.close(this.package):this._showErrorMessage(i)}),(0,p.share)());return a.subscribe(()=>{this.isLoading=!1}),a}createAndOpenPackagePage(){this.createNewPackage().subscribe(t=>{t&&t.success&&this._router.navigate(["WorkspaceExplorer/Package/"+this.package.uId])})}ngOnInit(){this._prepareRepositoryFilter()}isInvalid(t){const a=this.createPackageForm.get(t);return a.invalid&&a.touched}getPackageVersionErrorCode(){const t=this.createPackageForm.get("packageVersion");if(t.hasError("required"))return"WorkspaceExplorer.Section.Packages.CreatePackageDialog.Validation.PackageVersionNotSpecified";if(t.hasError("pattern"))return"WorkspaceExplorer.Section.Packages.CreatePackageDialog.Validation.NotAllowedFormat";if(t.hasError("maxlength"))return"WorkspaceExplorer.Section.Packages.CreatePackageDialog.Validation.MaximumLengthExeeded"}}Z.\u0275fac=function(t){return new(t||Z)(e.\u0275\u0275directiveInject(u.MAT_LEGACY_DIALOG_DATA),e.\u0275\u0275directiveInject(d.DialogService),e.\u0275\u0275directiveInject(u.MatLegacyDialogRef),e.\u0275\u0275directiveInject(W),e.\u0275\u0275directiveInject(j),e.\u0275\u0275directiveInject(De.Router))},Z.\u0275cmp=e.\u0275\u0275defineComponent({type:Z,selectors:[["ts-create-package-dialog"]],decls:55,vars:40,consts:[[4,"ngIf"],[1,"new-package-dialog",3,"formGroup"],["mat-dialog-title",""],["mat-dialog-content",""],["floatLabel","always",1,"field-name"],["formControlName","packageName","matInput","","type","text","cdkFocusInitial",""],[1,"install-type-wrapper"],["formControlName","isInstallOptional",1,"install-type",3,"tsDataItemMarker"],[1,"install-type-info-title-icon",3,"infoTooltipClass","message"],["floatLabel","always",1,"field-description"],["matInput","","formControlName","packageDescription"],[1,"repository-inputs"],["floatLabel","always",1,"repository-address"],["type","text","matInput","","formControlName","repositoryName",3,"matAutocomplete"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"package-version"],["floatLabel","always"],["required","","formControlName","packageVersion","matInput","","type","text","placeholder","1.0.0"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","",3,"click",4,"ngIf"],["mat-flat-button","","color","accent",1,"action-button",3,"disabled","click"],["formControlName","isStandaloneAssembly",1,"package-type"],[3,"value"],["mat-button","",3,"click"]],template:function(t,a){if(t&1&&(e.\u0275\u0275template(0,Ct,1,0,"ts-mask",0),e.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",3)(7,"div")(8,"mat-form-field",4)(9,"mat-label"),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"input",5),e.\u0275\u0275template(13,Dt,3,3,"mat-error",0),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(14,Et,4,3,"div",0),e.\u0275\u0275elementStart(15,"div",6)(16,"mat-checkbox",7),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"ts-info-tooltip-icon",8),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div")(22,"mat-form-field",9)(23,"mat-label"),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"textarea",10),e.\u0275\u0275text(27," "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(28,"div",11)(29,"mat-form-field",12)(30,"mat-label"),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"input",13),e.\u0275\u0275elementStart(34,"div",14),e.\u0275\u0275element(35,"div",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"mat-autocomplete",null,16),e.\u0275\u0275template(38,Mt,2,2,"mat-option",17),e.\u0275\u0275pipe(39,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"div",18)(41,"mat-form-field",19)(42,"mat-label"),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(45,"input",20),e.\u0275\u0275template(46,Pt,3,3,"mat-error",0),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(47,"div",21)(48,"button",22),e.\u0275\u0275text(49),e.\u0275\u0275pipe(50,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(51,Tt,3,3,"button",23),e.\u0275\u0275elementStart(52,"button",24),e.\u0275\u0275listener("click",function(){return a.createNewPackage()}),e.\u0275\u0275text(53),e.\u0275\u0275pipe(54,"translate"),e.\u0275\u0275elementEnd()()()),t&2){const i=e.\u0275\u0275reference(37);e.\u0275\u0275property("ngIf",a.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",a.createPackageForm),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,20,"WorkspaceExplorer.Section.Packages.CreatePackageDialog.Title")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,22,"WorkspaceExplorer.Section.Packages.CreatePackageDialog.InputFieldName")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",a.isInvalid("packageName")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.allowStandaloneAssembly),e.\u0275\u0275advance(2),e.\u0275\u0275property("tsDataItemMarker","optional-install-type"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(18,24,"WorkspaceExplorer.PackagePage.InstallBehavior")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("infoTooltipClass",a.tooltipPanelClass)("message",e.\u0275\u0275pipeBind1(20,26,"WorkspaceExplorer.PackagePage.InstallBehaviorInfo")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(25,28,"WorkspaceExplorer.Section.Packages.CreatePackageDialog.InputFieldDescription")," "),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,30,"WorkspaceExplorer.Section.Packages.CreatePackageDialog.InputFieldRepositoryAddress")),e.\u0275\u0275advance(2),e.\u0275\u0275property("matAutocomplete",i),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(39,32,a.filteredRepositories)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(44,34,"WorkspaceExplorer.Section.Packages.CreatePackageDialog.InputFieldVersion")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",a.isInvalid("packageVersion")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(50,36,"WorkspaceExplorer.Section.Packages.CreatePackageDialog.Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.canAddDependencies),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!a.createPackageForm.valid),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(54,38,"WorkspaceExplorer.Section.Packages.CreatePackageDialog.SaveButtonCaption")," ")}},dependencies:[v.NgForOf,v.NgIf,M.MatLegacyButton,pe.MatLegacyCheckbox,u.MatLegacyDialogClose,u.MatLegacyDialogTitle,u.MatLegacyDialogContent,u.MatLegacyDialogActions,P.MatLegacyError,P.MatLegacyFormField,P.MatLegacyLabel,P.MatLegacySuffix,me.MatLegacyInput,fe.MatLegacyAutocomplete,fe.MatLegacyAutocompleteTrigger,It.MatLegacyOption,g.DefaultValueAccessor,g.NgControlStatus,g.NgControlStatusGroup,g.RequiredValidator,d.MaskComponent,g.FormGroupDirective,g.FormControlName,f.DataItemMarkerDirective,d.InfoTooltipIconComponent,v.AsyncPipe,C.TranslatePipe],styles:["[_nghost-%COMP%]{padding:4px 10px;height:140px;width:520px}.new-package-dialog[_ngcontent-%COMP%]   [mat-dialog-actions][_ngcontent-%COMP%]{float:right;margin-bottom:6px}.new-package-dialog[_ngcontent-%COMP%]   [mat-dialog-content][_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{width:100%}.new-package-dialog[_ngcontent-%COMP%]   [mat-dialog-content][_ngcontent-%COMP%]   .field-description[_ngcontent-%COMP%]{width:100%;height:70px}.new-package-dialog[_ngcontent-%COMP%]   [mat-dialog-content][_ngcontent-%COMP%]   .field-description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.new-package-dialog[_ngcontent-%COMP%]   [mat-dialog-content][_ngcontent-%COMP%]   .package-type[_ngcontent-%COMP%], .new-package-dialog[_ngcontent-%COMP%]   [mat-dialog-content][_ngcontent-%COMP%]   .install-type[_ngcontent-%COMP%]{color:#181818;font-family:Open Sans,serif;font-size:13px;padding-bottom:17.5px}.new-package-dialog[_ngcontent-%COMP%]   [mat-dialog-content][_ngcontent-%COMP%]   .install-type-wrapper[_ngcontent-%COMP%]{display:flex}.new-package-dialog[_ngcontent-%COMP%]   [mat-dialog-content][_ngcontent-%COMP%]   .install-type-wrapper[_ngcontent-%COMP%]   .install-type-info-title-icon[_ngcontent-%COMP%]{padding:5px 0 0 5px}.repository-inputs[_ngcontent-%COMP%]{margin-top:.5em;display:flex;justify-content:space-between}.repository-inputs[_ngcontent-%COMP%]   .repository-address[_ngcontent-%COMP%]{width:60%}.repository-inputs[_ngcontent-%COMP%]   .package-version[_ngcontent-%COMP%]{max-width:34.5%}"]});class Q{constructor(t,a,i,n){this._dialogService=t,this._restErrorHandler=a,this._workspaceFeatureService=i,this._featureService=n}createPackage(t){return(0,y.forkJoin)([this._restErrorHandler.handleRequest(this._workspaceFeatureService.getAllowStandaloneAssembly().pipe((0,p.map)(a=>a.value))),this._featureService.getFeatureState("UseStandalonePackageByDefault")]).pipe((0,p.switchMap)(([a,i])=>this._dialogService.open(Z,{data:{canAddDependencies:t.canAddDependencies,allowStandaloneAssembly:a,useStandaloneAssemblyByDefault:i,executor:t.executor,tooltipPanelClass:t.tooltipPanelClass},panelClass:t.dialogPanelClass})))}}Q.\u0275fac=function(t){return new(t||Q)(e.\u0275\u0275inject(d.DialogService),e.\u0275\u0275inject(x.RestErrorHandler),e.\u0275\u0275inject(s.WorkspaceFeatureService),e.\u0275\u0275inject(_.FeatureService))},Q.\u0275prov=e.\u0275\u0275defineInjectable({token:Q,factory:Q.\u0275fac});class At{get _packagesComparator(){return(t,a)=>{const i=this.getPackageSortingWeight(t),n=this.getPackageSortingWeight(a);if(i<n)return 1;if(i>n)return-1;const l=t.name.toLowerCase(),h=a.name.toLowerCase();return l>h?1:l<h?-1:0}}sort(t){return t.sort(this._packagesComparator)}}class X extends ke{constructor(t,a,i,n,l){super(t,a),this._translateService=i,this._dialogService=n,this._packageService=l}getSuccessMessage(t,a){return t.packagesActivationResults.find(n=>n.packageName===a).message}showConfirmationDialog(t,a){return this._dialogService.openConfirmationDialog({message:this._translateService.instant("WorkspaceExplorer.Section.Packages.ActivateConfirmation"),panelClass:[this.dialogPanelClass]})}doActionPackageRequest(t,a){return this._packageService.activate(t)}}X.\u0275fac=function(t){return new(t||X)(e.\u0275\u0275inject(x.RestHandler),e.\u0275\u0275inject(d.NotifyService),e.\u0275\u0275inject(C.TranslateService),e.\u0275\u0275inject(d.DialogService),e.\u0275\u0275inject(b))},X.\u0275prov=e.\u0275\u0275defineInjectable({token:X,factory:X.\u0275fac});class ee extends f.BaseTableCellComponent{constructor(t){super(),this._workspaceItemActionsService=t,this._destroyed=new y.Subject,this.menuItems=(0,y.of)([]),this.getRegisteredEvents=()=>[{name:"actionClick",dataType:String}]}ngOnInit(){super.ngOnInit(),this._workspaceItemActionsService.refreshMenuNotifier.pipe((0,p.takeUntil)(this._destroyed),(0,p.filter)(t=>t.id===this.record.id)).subscribe(()=>{this.menuItems=this.getActions()}),this.menuItems=this.getActions()}onActionClick(t){this.fireEvent("actionClick",t)}getActions(){return this._workspaceItemActionsService.getSingleActions(this.record)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}}ee.\u0275fac=function(t){return new(t||ee)(e.\u0275\u0275directiveInject(V))},ee.\u0275cmp=e.\u0275\u0275defineComponent({type:ee,selectors:[["ts-workspace-item-menu"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:3,consts:[[1,"actions-container"],[3,"menuItems","menuItemClick"]],template:function(t,a){t&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"ts-compact-actions-menu",1),e.\u0275\u0275listener("menuItemClick",function(n){return a.onActionClick(n)}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()()),t&2&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("menuItems",e.\u0275\u0275pipeBind1(2,1,a.menuItems)))},dependencies:[f.CompactActionsMenuComponent,v.AsyncPipe],encapsulation:2});const Me=function(o){return{"item-changed":o}};function bt(o,t){if(o&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",3),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(n.onLinkClick())}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(o&2){const a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,Me,a.record.isChanged)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(a.record.name)}}function Wt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"span",4),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,Me,a.record.isChanged)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(a.record.name)}}function wt(o,t){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,bt,2,4,"a",1),e.\u0275\u0275template(2,Wt,2,4,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),o&2){const a=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.link)("ngIfElse",a)}}class te extends f.BaseTableCellComponent{constructor(t){super(),this._navigationHandler=t,this.link=""}onLinkClick(){this._navigationHandler.navigate(this.link,this.record.uId)}ngOnInit(){super.ngOnInit();const t=this.columnDataSchema?.linkGenerator||null;this.link=t!==null?t(this.record):""}}te.\u0275fac=function(t){return new(t||te)(e.\u0275\u0275directiveInject(x.NAVIGATION_HANDLER_TOKEN))},te.\u0275cmp=e.\u0275\u0275defineComponent({type:te,selectors:[["ts-workspace-item-name-cell"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass","click",4,"ngIf","ngIfElse"],["elseBlock",""],[3,"ngClass","click"],[3,"ngClass"]],template:function(t,a){t&1&&e.\u0275\u0275template(0,wt,4,2,"ng-container",0),t&2&&e.\u0275\u0275property("ngIf",!a.isEmpty())},dependencies:[v.NgClass,v.NgIf],styles:['.item-changed[_ngcontent-%COMP%]:after{content:" *";color:#4e7bd8;font-weight:700}']});var re=r(72856),ue=r(7950);function Lt(o,t){o&1&&e.\u0275\u0275element(0,"mat-icon",8)}function Bt(o,t){o&1&&e.\u0275\u0275element(0,"mat-icon",9)}function Rt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275template(1,Lt,1,0,"mat-icon",6),e.\u0275\u0275template(2,Bt,1,0,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("matTooltip",i.getWorkspaceItemLockedTooltip()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.record.isLocked)("ngIfElse",a)}}function Ot(o,t){o&1&&e.\u0275\u0275element(0,"mat-icon",13)}function Nt(o,t){o&1&&e.\u0275\u0275element(0,"mat-icon",15)}function Ft(o,t){if(o&1&&e.\u0275\u0275template(0,Nt,1,0,"mat-icon",14),o&2){const a=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngIf",a.checkWorkspaceItemActionRequired())}}function Ut(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275template(1,Ot,1,0,"mat-icon",11),e.\u0275\u0275template(2,Ft,1,1,"ng-template",null,12,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("matTooltip",i.getWorkspaceItemStatusTooltip()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.checkWorkspaceItemHasError())("ngIfElse",a)}}function Vt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",1)(1,"div",2),e.\u0275\u0275template(2,Rt,4,3,"div",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,Ut,4,3,"div",4),e.\u0275\u0275elementEnd()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.record.packageRepository),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.record.status)}}class ae extends f.BaseTableCellComponent{constructor(t){super(),this._translateService=t}checkWorkspaceItemActionRequired(){const t=this.record.status;return Boolean(t&&(t.needInstall||t.needUpdateSourceCode||t.needUpdateStructure))}checkWorkspaceItemHasError(){return Boolean(this.record.status?.lastError)}getWorkspaceItemLockedTooltip(){const t="WorkspaceExplorer.Section.Items.Status",a=this.record.isLocked?`${t}.LockedInSVN`:`${t}.UnlockedInSVN`;return this._translateService.instant(a)}getWorkspaceItemStatusTooltip(){const t=this.record.status;if(!t)return null;const a=[];t.needUpdateStructure&&a.push("NeedUpdateStructure"),t.needUpdateSourceCode&&a.push("NeedUpdateSourceCode"),t.needInstall&&!t.needUpdateStructure&&!t.needUpdateSourceCode&&a.push("NeedInstall");const i=a.map(n=>this._translateService.instant(`WorkspaceExplorer.Section.Items.Status.${n}`)).join(`
`);return[t.lastError,i].filter(n=>Boolean(n)).join(`

`)}}ae.\u0275fac=function(t){return new(t||ae)(e.\u0275\u0275directiveInject(C.TranslateService))},ae.\u0275cmp=e.\u0275\u0275defineComponent({type:ae,selectors:[["ts-workspace-item-status-cell"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","status-block",4,"ngIf"],[1,"status-block"],[1,"source-control-status-icon"],[3,"matTooltip",4,"ngIf"],["class","status-icon",3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["class","workspace-item-status-icon","svgIcon","workspace-item-status-locked",4,"ngIf","ngIfElse"],["unlockBlock",""],["svgIcon","workspace-item-status-locked",1,"workspace-item-status-icon"],["svgIcon","workspace-item-status-unlocked",1,"workspace-item-status-icon"],[1,"status-icon",3,"matTooltip"],["class","workspace-item-status-icon","svgIcon","workspace-item-status-error",4,"ngIf","ngIfElse"],["elseBlock",""],["svgIcon","workspace-item-status-error",1,"workspace-item-status-icon"],["class","workspace-item-status-icon","svgIcon","workspace-item-status-required",4,"ngIf"],["svgIcon","workspace-item-status-required",1,"workspace-item-status-icon"]],template:function(t,a){t&1&&e.\u0275\u0275template(0,Vt,4,2,"div",0),t&2&&e.\u0275\u0275property("ngIf",!a.isEmpty())},dependencies:[v.NgIf,re.MatIcon,ue.MatLegacyTooltip],styles:[".workspace-item-status-icon[_ngcontent-%COMP%]{width:16px;height:16px;background-size:16px;margin:auto}.status-block[_ngcontent-%COMP%]{display:flex;padding-left:21px}.status-block[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{padding-left:4px;width:16px}.status-block[_ngcontent-%COMP%]   .source-control-status-icon[_ngcontent-%COMP%]{padding-right:4px;width:16px}"]});function jt(o,t){if(o&1&&e.\u0275\u0275element(0,"mat-icon",3),o&2){const a=t.$implicit;e.\u0275\u0275property("svgIcon",a)}}function Gt(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",1),e.\u0275\u0275template(1,jt,1,1,"mat-icon",2),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()),o&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.getSvgIconName()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a.getItemTypeTitle())}}class oe extends f.BaseTableCellComponent{constructor(t){super(),this._itemTypeResourceGenerator=t}getSvgIconName(){return this._itemTypeResourceGenerator.getSvgIconName(this.record.type)}getItemTypeTitle(){return this._itemTypeResourceGenerator.getItemTypeTitle(this.record.type)}}oe.\u0275fac=function(t){return new(t||oe)(e.\u0275\u0275directiveInject(T))},oe.\u0275cmp=e.\u0275\u0275defineComponent({type:oe,selectors:[["ts-workspace-item-type-cell"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","workspace-item-type-wrapper",4,"ngIf"],[1,"workspace-item-type-wrapper"],[3,"svgIcon",4,"ngIf"],[3,"svgIcon"]],template:function(t,a){t&1&&e.\u0275\u0275template(0,Gt,4,2,"div",0),t&2&&e.\u0275\u0275property("ngIf",!a.isEmpty())},dependencies:[v.NgIf,re.MatIcon],styles:[".workspace-item-type-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.workspace-item-type-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:16px!important;width:16px;height:16px;margin:0 8px 0 0!important;flex-shrink:0;-webkit-user-select:none;user-select:none}"]});class Ht extends f.BaseSectionComponent{get _linkGenerator(){return t=>this._getItemOpenPageLink(t)}get _statusSortingAccessor(){return t=>{const a=t.status;if(!a)return 0;let i=0;return a.lastError&&(i+=A.LastError),a.needUpdateStructure&&(i+=A.NeedUpdateStructure),a.needUpdateSourceCode&&(i+=A.NeedUpdateSourceCode),a.needInstall&&(i+=A.NeedInstall),i}}get _workspaceItemsChangedComparator(){return(t,a,i)=>!t.isChanged&&a.isChanged?1:t.isChanged&&!a.isChanged?-1:i(t,a)}get itemsBlankSlateWithFilterDisplayed(){return this.isEmpty()&&!this.areFiltersEmpty()}get addLinksInfo(){return this.appsInfo.filter(t=>t.createTemplate)}get addItemMenuConfig(){return this._addItemMenuConfig}get multiItemsActionsMenuConfig$(){return this._multiItemsActionsMenuConfig$}constructor(t,a,i,n,l,h,D,G,ge,he,Se,Ie,Zt,Qt,Xt,ea){super(G),this._appInfoService=t,this._snackBar=a,this._workspaceItemMoveService=i,this._workspaceItemActionsService=n,this._workspaceStructureService=l,this._itemTypeResourceGenerator=h,this._broadcastChannelFactory=D,this._activateRoute=ge,this._router=he,this._schemaMetaDataService=Se,this._schemaSourceCodeService=Ie,this._explorerHandler=Zt,this._navigationHandler=Qt,this._workspaceOpenCreateDialogService=Xt,this.maskService=ea,this.allItems=[],this.appsInfo=[],this.isPackageListLoading=!1,this.selectedPackage=null,this.selectedType=null,this.selectedState=null,this._getStateFilterPredicates=()=>[{stateFilterValue:m.Locked,predicate:O=>O.isLocked},{stateFilterValue:m.NeedActualization,predicate:O=>Boolean(O.status?.needInstall||O.status?.needUpdateSourceCode||O.status?.needUpdateStructure)},{stateFilterValue:m.WithError,predicate:O=>Boolean(O.status?.lastError)}],this.getStaticSearchColumns=()=>["name"],this.getGtmSchemaName=()=>"WorkspaceSection",this.onDeleteItemAction=O=>{this._deleteItems([O])},this._subscribeOnReloadChannel(),this.initAddItemMenuConfig(),this._initMultiItemsActionsMenuConfigChange(),this._featureValues=G.get(x.FEATURE_VALUES,{optional:!0})}_subscribeOnReloadChannel(){this._broadcastChannelFactory.createInstance(s.WORKSPACE_EXPLORER_RELOAD_CHANNEL_NAME).messages$.pipe((0,p.takeUntil)(this.destroyed$)).subscribe(this.reloadPageData.bind(this))}_rowCssClassGenerator(t){return t.isReadOnly?"disabled-trash-icon":""}_getBase64StringValue(t){return t.replace(/^data:(.*,)?/,"")}_showImportCompleteMessage(t,a,i){if(t&&t.success){let n=t.message;if(!n){const l=this.translateInstant("WorkspaceExplorer.Section.Items.ImportSuccessMessage");n=S.String.format(l,a,i?.name)}this.showSuccessMessage(n)}else{const n=t&&t.errorInfo&&t.errorInfo.message||"";this.openInfoDialog(n)}}_onWorkspaceItemImported(t,a,i){this.importNativeElement.value="",this.reloadPageData().subscribe(n=>{this._showImportCompleteMessage(t,a,i)})}_processDefaultWorkspaceActionResponse(t){if(t&&t.success){const a=this.translateInstant("WorkspaceExplorer.Section.Actions.OperationSuccessMessage");this.showSuccessMessage(a)}}_doActionWithRequest(t){this.isLoading=!0;const a=t().pipe((0,p.share)());return a.subscribe(()=>this.isLoading=!1),a}_deleteItems(t){this.doActionWithConfirmation("WorkspaceExplorer.Section.Items.DeleteConfirmMessage",()=>this._explorerHandler.delete(t),a=>this.doReloadAfterItemAction(a,!0))}_moveElements(t){this._workspaceItemMoveService.moveElements(t).pipe((0,p.filter)(Boolean)).subscribe(()=>this.reloadPageData())}_showWorkspaceItemDetails(t){this.handleRequest(this._explorerHandler.getWorkspaceItemDetails(t.uId,t.type)).subscribe(a=>{!a||!a.success||this.openDialog(z,{data:{item:a.item}})})}_openMetaData(t){this._schemaMetaDataService.openMetaData(t)}_openSourceCode(t){t.type===s.WorkspaceItemType.ClientUnitSchema?this._schemaSourceCodeService.openClientUnitSourceCode(t.uId):this._schemaSourceCodeService.openSourceCode(t.uId)}_exportItems(t){if(t.length<100){this._doActionWithRequest(()=>this._explorerHandler.exportItems(t));return}const i=this.translateInstant("WorkspaceExplorer.Section.Actions.Confirmation.ExportItems");this.openConfirmationDialog(i).pipe((0,p.filter)(n=>n===d.YesButton.result)).subscribe(()=>this._doActionWithRequest(()=>this._explorerHandler.exportItems(t)))}_editEntityProcess(t){const a=(0,x.getAppUrl)()+"/Nui/ViewModule.aspx?vm=SchemaDesigner#entityProcess/"+t.uId;if(!t.isReadOnly){this.window.open(a,"_blank");return}const i=S.String.format(this.translateInstant("WorkspaceExplorer.Section.Actions.Confirmation.ThirdPartyPublisher"),t.title);this.openConfirmationDialog(i).subscribe(n=>{n===d.YesButton.result&&this.window.open(a,"_blank")})}_getItemOpenPageLink(t){const a=this._getItemAppInfo(t.type);if(!a)return;let i=a.openTemplate;const n=[t.uId];return t.type===s.WorkspaceItemType.ClientUnitSchema?n.push(t.packageUId,!1):t.type===s.WorkspaceItemType.AddonSchema?n.push(t.packageUId):i=a.openTemplate.replace(/\{[1-9]\}/g,""),S.String.format(i,...n)}_getItemCreateLink(t){const a=this.currentPackage;return S.String.format(t.createTemplate,a?.uId,a?.name)}_getItemAppInfo(t){if(!!this.appsInfo)return this.appsInfo.find(a=>a.itemTypes.indexOf(t)>-1)}_getFilteredItems(){if(!this.allItems)return[];const t=this.getFilters().filter(a=>a.condition()).map(a=>a.predicate);return t.length>0?this.allItems.filter(a=>t.every(i=>i?.(a))):this.allItems}_resetSelected(){this.selected=[]}_getAllWorkspaceItemTypes(){let t=Object.values(s.WorkspaceItemType).filter(Number.isInteger);const a=this.appsInfo;return a&&(t=t.sort((i,n)=>{const l=a.findIndex(D=>D.itemTypes.includes(i)),h=a.findIndex(D=>D.itemTypes.includes(n));return l===-1?h===-1?0:1:h===-1?-1:l-h})),t}_createMultiItemsActionsMenuConfig(t,a){let i=this.translateInstant("WorkspaceExplorer.Section.Items.MultiItemActionButton");return t?.length>0&&(i+=` (${t.length})`),{menuItems:a,trigger:{caption:i,svgIconName:"actions-icon",disabled:!t||t.length===0||!a||a.length===0}}}_initMultiItemsActionsMenuConfigChange(){this._multiItemsActionsMenuConfig$=this.selected$.pipe((0,p.startWith)(null),(0,p.mergeMap)(t=>(t?this._workspaceItemActionsService.getMultiActions(t):(0,y.of)([])).pipe((0,p.map)(a=>this._createMultiItemsActionsMenuConfig(t,a)))))}_updateDBStructure(t){this.doActionWithConfirmation("WorkspaceExplorer.Section.Items.UpdateDBStructureConfirmMessage",()=>this._workspaceStructureService.updateDBStructure(t),a=>this.doReloadAfterItemAction(a))}_installSqlScripts(t){this.doActionWithConfirmation("WorkspaceExplorer.Section.Items.InstallSqlScriptsConfirmMessage",()=>this._explorerHandler.installSqlScripts(t),a=>this.doReloadAfterItemAction(a))}_installData(t){this.doActionWithConfirmation("WorkspaceExplorer.Section.Items.InstallDataConfirmMessage",()=>this._explorerHandler.installData(t),a=>this.doReloadAfterItemAction(a))}_generateSchemasSources(t){this.doActionWithConfirmation("WorkspaceExplorer.Section.Items.GenerateSchemasSourcesConfirmMessage",()=>this._explorerHandler.generateSchemasSources(t),a=>this.doReloadAfterItemAction(a))}_executeMultiItemsAction(t,a){const i=t.map(n=>n.uId);switch(a){case c.InstallSqlScripts:this._installSqlScripts(i);break;case c.InstallData:this._installData(i);break;case c.UpdateDBStructure:this._updateDBStructure(i);break;case c.GenerateSchemasSources:this._generateSchemasSources(i);break;case c.Delete:this._deleteItems(t);break;case c.Move:this._moveElements(t);break;case c.Export:this._exportItems(t);break;default:alert(`${a} - ${t.map(n=>n.name).join(", ")}`),this.isLoading=!1}}_executeSingleItemAction(t,a){switch(a){case c.EditEntityProcess:this._editEntityProcess(t);break;case c.ShowDetails:this._showWorkspaceItemDetails(t);break;case c.OpenMetaData:this._openMetaData(t);break;case c.OpenSourceCode:this._openSourceCode(t);break;default:this._executeMultiItemsAction([t],a)}}getFilters(){return[{condition:()=>Boolean(this.selectedPackage),predicate:t=>t.packageUId===this.selectedPackage?.uId},{condition:()=>this.selectedType!=null,predicate:t=>t.type===this.selectedType},{condition:()=>this.selectedState!=null,predicate:this.selectedState!=null&&this._getStateFilterPredicates().find(t=>t.stateFilterValue===this.selectedState)?.predicate||void 0}]}showSuccessMessage(t){this._snackBar.open(t,"",{duration:5e3})}doActionWithConfirmation(t,a,i=this._processDefaultWorkspaceActionResponse.bind(this)){const n=this.translateInstant(t);this.openConfirmationDialog(n).subscribe(l=>{l===d.YesButton.result&&this.handleRequest(a()).subscribe(i)})}doReloadAfterItemAction(t,a=!1){!a||t&&t.success?this.reloadPageData().subscribe(i=>{this._processDefaultWorkspaceActionResponse(t)}):this._processDefaultWorkspaceActionResponse(t)}applyFilters(){this.model=this._getFilteredItems(),this._resetSelected()}initAddItemMenuConfig(){const t=this.currentPackage&&!this.currentPackage?.isReadOnly||!1;this._addItemMenuConfig={menuItems:[...this.addLinksInfo?.map(a=>({caption:this.translateInstant(a.itemTitle),code:a,svgIconName:this._itemTypeResourceGenerator.getSvgIconName(a.itemType)}))||[],{caption:this.translateInstant("WorkspaceExplorer.Section.Items.Add.Import"),code:null,handler:()=>this._clickItemImportElement(),svgIconName:"import-action"}],trigger:{caption:this.translateInstant("WorkspaceExplorer.Section.Items.Add.Caption"),svgIconName:"add-button",disabled:!t}}}getDefaultSearchSettings(){return{searchStrategy:x.SearchStrategy.StartsWith,columns:["title"]}}initTableDataSource(){super.initTableDataSource(),ce(this.tableDataSource,this._workspaceItemsChangedComparator)}getDefaultSelectMode(){return"multi"}requestInitialPageData(){return(0,y.forkJoin)([super.requestInitialPageData(),this.getAppsInfo()]).pipe((0,p.tap)(([t,a])=>{this.appsInfo=a.appsInfo}),(0,p.map)(([t])=>t))}requestPageData(){return this._explorerHandler.getItems()}getAppsInfo(){return this.handleRequest(this._appInfoService.getAppsInfo(),{skipBodyMask:!0})}getModelFromLoadResponse(t){return this.allItems=t.items.slice(),this._getFilteredItems()}beforePageDataReloading(){super.beforePageDataReloading(),this._resetSelected()}initScrollToBottomObserver(){this.scrollPageToBottomObserver=this.scrollToBottomObserverFactory.createObserver(this.itemsWrapperNativeElement,this.loadNextData.bind(this))}onSearchConditionsChanged(){super.onSearchConditionsChanged(),this._resetSelected()}getSearchSettingsColumnDescriptors(){return[{name:"title"},{name:"uId",caption:this.translateInstant("WorkspaceExplorer.Section.Items.Columns.UId")}]}getProfileData(){const t=super.getProfileData();return t.selectedType=this.selectedType,t.selectedState=this.selectedState,t}applyProfileData(t){t.selectedType!=null&&(this.selectedType=t.selectedType),t.selectedState!=null&&(this.selectedState=t.selectedState),super.applyProfileData(t)}getDefaultDataSchema(){const t=this._featureValues.SelectPackageByCellClick?{linkGenerator:()=>({url:"",preventDefaultClick:!0})}:{};return{rowCssClass:this._rowCssClassGenerator.bind(this),columns:[{name:"name",caption:this.translateInstant("WorkspaceExplorer.Section.Items.Columns.Name"),valueType:_.DataValueType.Text,linkGenerator:this._linkGenerator,cellComponentClass:te},{name:"title",caption:this.translateInstant("WorkspaceExplorer.Section.Items.Columns.Title"),valueType:_.DataValueType.Text},{name:"status",caption:this.translateInstant("WorkspaceExplorer.Section.Items.Columns.Status"),cellComponentClass:ae,sortingDataAccessor:this._statusSortingAccessor},{name:"type",caption:this.translateInstant("WorkspaceExplorer.Section.Items.Columns.Type"),sortingDataAccessor:a=>this._itemTypeResourceGenerator.getItemTypeTitle(a.type),cellComponentClass:oe},{name:"dataObjectName",caption:this.translateInstant("WorkspaceExplorer.Section.Items.Columns.Object"),valueType:_.DataValueType.Text},{name:"modifiedOn",caption:this.translateInstant("WorkspaceExplorer.Section.Items.Columns.ModifiedOn"),valueType:_.DataValueType.DateTime},{name:"packageName",caption:this.translateInstant("WorkspaceExplorer.Section.Items.Columns.Package"),valueType:_.DataValueType.Text,...t},{name:"delete",cellComponentClass:f.DeleteButtonTableCellComponent},{name:"itemActions",cellComponentClass:ee}]}}_clickItemImportElement(){this.importNativeElement.click()}areFiltersEmpty(){return super.areFiltersEmpty()&&!this.selectedPackage&&this.selectedType===null&&this.selectedState===null}onTypeFilterChange(){this.applyFilters(),this.saveUserProfileData()}onStateFilterChange(){this.applyFilters(),this.saveUserProfileData()}onAfterPackageAction(t){!t.success||(t.actionCode===I.Delete||t.actionCode===I.Move)&&this.reloadPageData()}onSingleItemActionClick(t,a){this._executeSingleItemAction(t,a)}onAddSchemaClick(t){var a=this;return(0,k.Z)(function*(){if(!!t)if(t.createDialogComponentName)yield a._workspaceOpenCreateDialogService.createSchema(t,[a.currentPackage.uId,"false"]);else{const i=a._getItemCreateLink(t);a._navigationHandler.navigate(i)}})()}onItemToImportSelected(t){if(t.length===0)return;const a=t.item(0);if(!a)return;const i=a.name,n=new FileReader,l=this.currentPackage;n.onload=()=>{const h={packageUId:l?.uId,itemData:this._getBase64StringValue(n.result),fileName:i};this._explorerHandler.importWorkspaceItem(h).pipe((0,p.takeUntil)(this.destroyed$)).subscribe(D=>{this.maskService.hideBodyMask(),this._onWorkspaceItemImported(D,i,l)})},this.maskService.showBodyMask(),n.readAsDataURL(a)}getTypeFilterConfig(){return{options:this._getAllWorkspaceItemTypes().map(t=>({value:t,caption:this._itemTypeResourceGenerator.getItemTypeTitle(t),svgIconName:this._itemTypeResourceGenerator.getSvgIconName(t)})),placeholder:{caption:this.translateInstant("WorkspaceExplorer.Section.Items.Filters.Types.Placeholder"),svgIconName:"workspace-type-filter-placeholder"},emptyOption:{caption:this.translateInstant("WorkspaceExplorer.Section.Items.Filters.Types.AllItems")}}}getStateFilterConfig(){return{options:[{value:m.Locked,caption:this.translateInstant("WorkspaceExplorer.Section.Items.Filters.States.Locked"),svgIconName:"workspace-item-status-locked"},{value:m.NeedActualization,caption:this.translateInstant("WorkspaceExplorer.Section.Items.Filters.States.NeedActualization"),svgIconName:"workspace-item-status-required"},{value:m.WithError,caption:this.translateInstant("WorkspaceExplorer.Section.Items.Filters.States.Error"),svgIconName:"workspace-item-status-error"}],placeholder:{caption:this.translateInstant("WorkspaceExplorer.Section.Items.Filters.States.Placeholder"),svgIconName:"workspace-status-filter-placeholder"},emptyOption:{caption:this.translateInstant("WorkspaceExplorer.Section.Items.Filters.States.AllItems")}}}onMultiItemsActionClick(t){this._workspaceItemActionsService.getMultiActionSupportedRecords(this.selected,t).subscribe(a=>this._executeMultiItemsAction(a,t))}}var B=r(34038),zt=r(62377),Kt=r(88191);class R{}R.\u0275fac=function(t){return new(t||R)},R.\u0275mod=e.\u0275\u0275defineNgModule({type:R}),R.\u0275inj=e.\u0275\u0275defineInjector({imports:[v.CommonModule,f.CdkModule,v.CommonModule,C.TranslateModule,g.FormsModule,B.CrtGalleryModule,B.CrtButtonModule,B.CrtLabelModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(R,{declarations:[zt.PageTemplateLookupComponent,Kt.h],imports:[v.CommonModule,f.CdkModule,v.CommonModule,C.TranslateModule,g.FormsModule,B.CrtGalleryModule,B.CrtButtonModule,B.CrtLabelModule]})}();const $t=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 3.1.1","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":840,"w":101,"h":100,"nm":"Ilustration Blankslate _ Cat Smile 2","ddd":0,"assets":[{"id":"image_0","w":46,"h":13,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAANCAYAAADWgVyvAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAABfklEQVRIidVVwXHCMBBcCXgFiEqggXjUAW4AohJSAiXQQVqgBCVpgHSggQZEB854+CFdHgZGkgXjRwZPdsYPnc+3K2nvzPDPMC0WKwDgk2Kpn6SSfQvqDiYAJjiAsm8p93A54RQcAI5GmzAopJo9QFMnENh7tCYyAFXZ5Emx3PZhHyGVaGt5tTkt/EaN+Qiwl8W0WK7/8haEVGIsVZnGnSfT5iHLnWtx3xKOyujrdRAw896p8P20WKwmLwuVfpfbYOrTEyCZ9+s2K9kTEH1PgGGMdT1xdohWgG26OYqKtOBYqtJ5v2nJSXx6B5Z7X0YsRNvG1zGywuvdxywiJjKUmT4eiDYzbOyV7Y3Qv0PAAJinOQywac16/6Xr/ZfuJLwlcDCwCDwPAJ7zLUtEVkZbAM+ZEt+nIDe0YQjHuWaJVW6hk/Cj0abefb6FMQIqNE+Kn5zPmXOp1Q7ptDjztPomh2GXpBzOsz9HYs4NZq8Rok2axECbEVh+HveBR/28fgGEPopHDlTrPwAAAABJRU5ErkJggg==","e":1},{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":3,"nm":"Null 1","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":6,"s":[-15]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":77,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":227,"s":[-6]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":302,"s":[2]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":430,"s":[-7]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":691,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1191,"s":[-15]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1255,"s":[-4]},{"t":1333,"s":[-15]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":6,"s":[22,16,0],"to":[-0.833,41.667,0],"ti":[-4.667,-5.667,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":139,"s":[50,50,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":155,"s":[48,45,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":227,"s":[50,50,0],"to":[0,1,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":357,"s":[50,56,0],"to":[0,0,0],"ti":[0,-0.333,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":546,"s":[50,50,0],"to":[0,0.333,0],"ti":[0.833,2.667,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":861,"s":[50,58,0],"to":[-0.833,-2.667,0],"ti":[4.667,7,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":1191,"s":[45,34,0],"to":[-4.667,-7,0],"ti":[3.833,3,0]},{"t":1333,"s":[22,16,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":1425,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":2,"nm":"\u0417\u0443\u0431\u044B","parent":1,"refId":"image_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1.402,17.577,0],"ix":2},"a":{"a":0,"k":[22.779,6.106,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":47,"s":[100,22,100]},{"t":86,"s":[100,100,100]}],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[{"i":[[16.799,0],[0,-6.749],[-16.799,0],[0,6.749]],"o":[[-16.799,0],[0,6.748],[16.799,0],[0,-6.748]],"v":[[21.795,-9.221],[21.877,10.498],[21.795,15.218],[23.962,9.998]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":73,"s":[{"i":[[16.799,0],[0,-6.749],[-16.799,0],[0,6.748]],"o":[[-16.799,0],[0,6.748],[16.799,0],[0,-6.749]],"v":[[21.795,-9.221],[-8.623,2.998],[21.795,15.218],[52.212,2.998]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":1274,"s":[{"i":[[16.799,0],[0,-6.749],[-16.799,0],[0,6.748]],"o":[[-16.799,0],[0,6.748],[16.799,0],[0,-6.749]],"v":[[21.795,-9.221],[-8.623,2.998],[21.795,15.218],[52.212,2.998]],"c":true}]},{"t":1298,"s":[{"i":[[16.799,0],[0,-6.748],[-16.799,0],[0,6.749]],"o":[[-16.799,0],[0,6.749],[16.799,0],[0,-6.748]],"v":[[21.795,-9.221],[22.044,10.665],[21.795,15.218],[24.379,9.998]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"ip":0,"op":1321,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"\u0443\u043B\u044B\u0431\u043A\u0430 Outlines","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0.769,14.21,0],"ix":2},"a":{"a":0,"k":[28.669,10.174,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":26,"s":[{"i":[[0,0],[-6.095,0.297],[0,0],[4.275,0.173]],"o":[[0,0],[3.158,-0.154],[0,0],[-4.971,-0.202]],"v":[[-2.169,4.326],[0.826,3.993],[2.669,4.15],[0.706,4.867]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":48,"s":[{"i":[[0,0],[-22.663,1.173],[0,0],[12.275,0.923]],"o":[[0,0],[18.405,-0.953],[0,0],[-24.657,-1.855]],"v":[[-20.919,-0.174],[0.826,3.993],[20.669,-0.1],[0.706,6.367]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":62,"s":[{"i":[[0,0],[-22.653,1.36],[0,0],[24.725,0.057]],"o":[[0,0],[22.653,-1.36],[0,0],[-24.727,-0.051]],"v":[[-20.919,-0.174],[0.826,3.993],[20.669,-0.1],[0.706,7.867]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":90,"s":[{"i":[[0,0],[-22.653,1.36],[0,0],[24.725,0.057]],"o":[[0,0],[22.653,-1.36],[0,0],[-24.727,-0.051]],"v":[[-27.669,-9.174],[0.826,3.993],[27.669,-8.35],[0.706,9.117]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":1287,"s":[{"i":[[0,0],[-22.653,1.36],[0,0],[24.725,0.057]],"o":[[0,0],[22.653,-1.36],[0,0],[-24.727,-0.051]],"v":[[-27.669,-9.174],[0.826,3.993],[27.669,-8.35],[0.706,9.117]],"c":true}]},{"t":1312,"s":[{"i":[[0,0],[-6.095,0.297],[0,0],[4.275,0.173]],"o":[[0,0],[3.158,-0.154],[0,0],[-4.971,-0.202]],"v":[[-2.169,4.326],[0.826,3.993],[2.669,4.15],[0.706,4.867]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[28.669,10.174],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":45,"op":1326,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"\u041D\u043E\u0441 Outlines","parent":1,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":55,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":85,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1355,"s":[100]},{"t":1372,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1.527,15.723,0],"ix":2},"a":{"a":0,"k":[3.368,3.451,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.096,-2.366],[-0.736,0.512],[2.302,-0.042],[-0.758,-0.934]],"o":[[0,0],[0.737,-0.511],[-2.302,0.041],[0.757,0.935]],"v":[[0.228,2.451],[1.081,-0.702],[0.066,-2.409],[-1.611,-0.848]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":1,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[3.368,3.451],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1391,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"\u0413\u043E\u043B\u043E\u0432\u0430 Outlines","parent":1,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":279,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":320,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":975,"s":[100]},{"t":1047,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[3.79,-16.745,0],"ix":2},"a":{"a":0,"k":[36.524,13.031,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[7.435,-1.945],[1.658,-0.086],[5.03,0.146],[1.775,0.819],[4.285,-0.537],[0,0]],"o":[[0,0],[-6.064,1.583],[-1.16,0.066],[-5.969,-0.171],[-3.181,-1.473],[-1.462,0.185],[0,0]],"v":[[32.721,1.113],[18.305,-0.475],[10.301,2.447],[-1.712,1.658],[-15.723,1.206],[-29.956,-1.975],[-32.721,-1.072]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[35.302,3.833],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[4.607,2.999],[0.047,-5.556],[0,0]],"o":[[0,0],[-4.166,-2.705],[-0.048,5.556],[0,0]],"v":[[6.283,-0.831],[-1.27,-8.12],[-6.234,-2.531],[-4.867,10.824]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[7.283,11.824],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[4.297,1.553],[0,0]],"o":[[0,0],[-4.299,-1.546],[0,0]],"v":[[-0.042,10.878],[4.811,-9.332],[-9.107,-2.405]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[62.941,14.183],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1220,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"\u0417\u0440\u0430\u0447\u043A\u0438 Outlines","parent":1,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":167,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":197,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1078,"s":[100]},{"t":1117,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":143,"s":[-0.131,7.911,0],"to":[0,-1,0],"ti":[0,1,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":205,"s":[-0.131,1.911,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":310,"s":[-0.131,1.911,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":328,"s":[2.869,1.911,0],"to":[0,0,0],"ti":[0.516,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":642,"s":[-2.056,1.911,0],"to":[-0.881,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":689,"s":[-0.131,1.911,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":1079,"s":[-0.131,1.911,0],"to":[0,1,0],"ti":[0,-1,0]},{"t":1119,"s":[-0.131,7.911,0]}],"ix":2},"a":{"a":0,"k":[15.772,7.12,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":136,"s":[100,-4,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":189,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":310,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":1084,"s":[100,100,100]},{"t":1120,"s":[100,-4,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.087,-2.494],[0,0],[-0.072,3.44],[0,0]],"o":[[0,0],[0.087,2.493],[0,0],[0.08,-3.627],[0,0]],"v":[[-0.302,-6.282],[0.805,-0.509],[-0.133,6.282],[-0.82,-0.273],[-0.304,-6.276]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[30.403,6.532],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.73,7.378],[-0.262,-2.694],[0,0]],"o":[[0,0],[0.263,2.693],[0,0]],"v":[[0.15,-5.958],[1.316,-0.52],[0.729,5.958]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[1.829,8.032],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1216,"st":0,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"\u0413\u043B\u0430\u0437\u0430 Outlines","parent":1,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":111,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":233,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1069,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1124,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1205,"s":[0]},{"t":1246,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":118,"s":[0.522,-2.818,0],"to":[0,0.667,0],"ti":[0,-0.667,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":133,"s":[0.522,1.182,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":1098,"s":[0.522,1.182,0],"to":[0,-0.667,0],"ti":[0,0.667,0]},{"t":1126,"s":[0.522,-2.818,0]}],"ix":2},"a":{"a":0,"k":[25.965,12.139,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":100,"s":[100,107,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":128,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":1089,"s":[100,100,100]},{"t":1114,"s":[100,107,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":89,"s":[{"i":[[0,0],[-6.618,3.398],[-1.945,2.566],[0,0]],"o":[[0,0],[3.913,-2.01],[0.878,-1.158],[0,0]],"v":[[-5.116,9.003],[1.832,9.005],[8.315,4.867],[11.34,-1.378]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":140,"s":[{"i":[[0,0],[-6.618,3.398],[-2.507,1.566],[0,0]],"o":[[0,0],[3.913,-2.009],[1.233,-0.77],[0,0]],"v":[[-5.116,9.003],[1.145,7.38],[7.628,3.242],[11.34,-1.378]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":176,"s":[{"i":[[0,0],[-6.712,6.178],[-2.414,-1.886],[0,0]],"o":[[0,0],[2.994,-2.756],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-2.918,-1.12],[7.316,-3.133],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":220,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-3.293,-6.495],[6.816,-6.383],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":227,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.115,9.003],[-2.793,-3.995],[6.816,-4.883],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":246,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-3.293,-6.495],[6.816,-6.383],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":350,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-3.293,-6.495],[6.816,-6.383],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":369,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.115,9.003],[-2.793,-3.995],[6.816,-4.883],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":388,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-3.293,-6.495],[6.816,-6.383],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":495,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-3.293,-6.495],[6.816,-6.383],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":514,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.115,9.003],[-2.793,-3.995],[6.816,-4.883],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":533,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-3.293,-6.495],[6.816,-6.383],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":539,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-3.293,-6.495],[6.816,-6.383],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":558,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.115,9.003],[-2.793,-3.995],[6.816,-4.883],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":577,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-3.293,-6.495],[6.816,-6.383],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":747,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-3.293,-6.495],[6.816,-6.383],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":766,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.115,9.003],[-2.793,-3.995],[6.816,-4.883],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":785,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-3.293,-6.495],[6.816,-6.383],[11.34,-1.379]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":1093,"s":[{"i":[[0,0],[-8.048,6.307],[-2.414,-1.886],[0,0]],"o":[[0,0],[3.204,-2.508],[2.844,2.227],[0,0]],"v":[[-5.116,9.003],[-3.293,-6.495],[6.816,-6.383],[11.34,-1.379]],"c":false}]},{"t":1116,"s":[{"i":[[0,0],[-6.618,3.398],[-1.945,2.566],[0,0]],"o":[[0,0],[3.913,-2.01],[0.878,-1.158],[0,0]],"v":[[-5.116,9.003],[1.832,9.005],[8.315,4.867],[11.34,-1.378]],"c":false}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[38.26,10.962],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-1.727,-0.316],[-4.027,4.275],[0,0],[-0.631,0.251]],"o":[[0,0],[1.728,0.316],[4.027,-4.275],[0,0],[0,0]],"v":[[-9.9,5.637],[-7.033,5.322],[4.896,2.143],[8.576,-5.451],[9.9,-6.418]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[41.03,15.037],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":89,"s":[{"i":[[0,0],[-3.548,-1.295],[-5.411,-0.417]],"o":[[0,0],[8.63,3.151],[0,0]],"v":[[-10.319,-1.102],[-4.799,8.16],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":142,"s":[{"i":[[0,0],[-3.548,-1.295],[-5.411,-0.417]],"o":[[0,0],[8.63,3.151],[0,0]],"v":[[-10.319,-1.102],[-4.737,6.035],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":177,"s":[{"i":[[0,0],[-3.548,-1.295],[1.264,-3.785]],"o":[[0,0],[8.63,3.151],[0,0]],"v":[[-10.319,-1.102],[-0.487,-2.403],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":220,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[1.576,-7.09],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":227,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[0.576,-5.59],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":244,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[1.576,-7.09],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":350,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[1.576,-7.09],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":369,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[0.576,-5.59],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":386,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[1.576,-7.09],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":495,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[1.576,-7.09],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":514,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[0.576,-5.59],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":531,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[1.576,-7.09],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":539,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[1.576,-7.09],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":558,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[0.576,-5.59],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":575,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[1.576,-7.09],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":747,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[1.576,-7.09],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":766,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[0.576,-5.59],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":783,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[1.576,-7.09],[7.189,9.594]],"c":false}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":1093,"s":[{"i":[[0,0],[-7.748,-2.503],[1.264,-3.785]],"o":[[0,0],[8.743,2.823],[0,0]],"v":[[-10.319,-1.102],[1.576,-7.09],[7.189,9.594]],"c":false}]},{"t":1116,"s":[{"i":[[0,0],[-3.548,-1.295],[-5.411,-0.417]],"o":[[0,0],[8.63,3.151],[0,0]],"v":[[-10.319,-1.102],[-4.799,8.16],[7.189,9.594]],"c":false}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[12.727,10.593],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0.708,-0.223],[6.13,3.213],[0,0],[0.625,0.22]],"o":[[0,0],[-0.708,0.224],[-6.778,-3.557],[0,0],[0,0]],"v":[[10.457,5.424],[8.098,4.639],[-3.417,3.564],[-9.048,-6.324],[-10.457,-7.465]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.050980395897,0.180392156863,0.305882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[11.457,15.814],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1203,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"Ilustration Blankslate _ Cat Smile","refId":"comp_0","sr":0.6,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50.5,50,0],"ix":2},"a":{"a":0,"k":[50,50,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":100,"h":100,"ip":414,"op":1242,"st":414,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"Ilustration Blankslate _ Cat Smile","refId":"comp_0","sr":0.6,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50.5,50,0],"ix":2},"a":{"a":0,"k":[50,50,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":100,"h":100,"ip":-415,"op":413,"st":-415,"bm":0}],"markers":[]}');var Jt=r.t($t,2);class ie{constructor(t){this._featureValues=t,this.dataItemMarker="WorkspaceExplorerBlankSlate.Default.DataItemMarker",this.activatePackage=new e.EventEmitter,this.animationImage={type:"animation",animationData:Jt,autoplay:!0,loop:!0}}ngOnInit(){this.canActivatePackage=this._featureValues["PackageFeatures.AllowPackageActivation"]}onActivate(){this.activatePackage.emit()}}ie.\u0275fac=function(t){return new(t||ie)(e.\u0275\u0275directiveInject(x.FEATURE_VALUES))},ie.\u0275cmp=e.\u0275\u0275defineComponent({type:ie,selectors:[["crt-workspace-explorer-blank-slate"]],inputs:{dataItemMarker:"dataItemMarker"},outputs:{activatePackage:"activatePackage"},decls:7,vars:15,consts:[[1,"content-blank-slate",3,"tsDataItemMarker"],[1,"blank-slate-container",3,"image","title","subhead"],[1,"action-area"],[3,"caption","icon","iconPosition","textTransform","disabled","clicked"]],template:function(t,a){t&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"crt-placeholder",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementStart(4,"div",2)(5,"crt-button",3),e.\u0275\u0275listener("clicked",function(){return a.onActivate()}),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()()),t&2&&(e.\u0275\u0275property("tsDataItemMarker",a.dataItemMarker),e.\u0275\u0275advance(1),e.\u0275\u0275property("image",a.animationImage)("title",e.\u0275\u0275pipeBind1(2,9,"WorkspaceExplorer.Section.NoDataTitle"))("subhead",e.\u0275\u0275pipeBind1(3,11,"WorkspaceExplorer.Section.NoDataText")),e.\u0275\u0275advance(4),e.\u0275\u0275property("caption",e.\u0275\u0275pipeBind1(6,13,"WorkspaceExplorer.Section.Actions.Activate"))("icon","activate-package-freedom")("iconPosition","left-icon")("textTransform","capitalize")("disabled",!a.canActivatePackage))},dependencies:[f.DataItemMarkerDirective,d.CrtPlaceholderComponent,B.CrtButtonComponent,C.TranslatePipe],styles:[".content-blank-slate[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100%}.content-blank-slate[_ngcontent-%COMP%]   .blank-slate-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:410px}.content-blank-slate[_ngcontent-%COMP%]   .action-area[_ngcontent-%COMP%]{margin-top:16px}"]});const Yt="package-structure-changed",qt="compilation-completed";var Pe=r(30955),Te=r(59972),Ae=r(32820),be=r(88733),We=r(53020),we=r(73455),Le=r(91521),Be=r(24141),Re=r(44157);class ne{}ne.\u0275fac=function(t){return new(t||ne)},ne.\u0275mod=e.\u0275\u0275defineNgModule({type:ne}),ne.\u0275inj=e.\u0275\u0275defineInjector({providers:[X,K,T,V,F,$,d.DialogService,L,J,Y,W,j,Q,f.DEFAULT_REST_HANDLER],imports:[v.CommonModule,d.DialogModule,re.MatIconModule,ue.MatLegacyTooltipModule,f.CdkModule,d.SelectMenuModule,v.CommonModule,C.TranslateModule,M.MatLegacyButtonModule,pe.MatLegacyCheckboxModule,u.MatLegacyDialogModule,Pe.MatExpansionModule,P.MatLegacyFormFieldModule,re.MatIconModule,me.MatLegacyInputModule,Te.MatLegacyListModule,Ae.MatLegacyMenuModule,be.MatLegacyRadioModule,fe.MatLegacyAutocompleteModule,We.MatLegacySlideToggleModule,we.MatLegacySnackBarModule,Le.MatLegacyTableModule,Be.MatLegacyTabsModule,Re.MatTreeModule,ue.MatLegacyTooltipModule,g.FormsModule,R,d.MaskModule,g.ReactiveFormsModule,f.DataItemMarkerModule,d.TooltipModule,d.CrtPlaceholderModule,B.CrtButtonModule]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(ne,{declarations:[z,ee,te,ae,oe,Z,q,ie],imports:[v.CommonModule,d.DialogModule,re.MatIconModule,ue.MatLegacyTooltipModule,f.CdkModule,d.SelectMenuModule,v.CommonModule,C.TranslateModule,M.MatLegacyButtonModule,pe.MatLegacyCheckboxModule,u.MatLegacyDialogModule,Pe.MatExpansionModule,P.MatLegacyFormFieldModule,re.MatIconModule,me.MatLegacyInputModule,Te.MatLegacyListModule,Ae.MatLegacyMenuModule,be.MatLegacyRadioModule,fe.MatLegacyAutocompleteModule,We.MatLegacySlideToggleModule,we.MatLegacySnackBarModule,Le.MatLegacyTableModule,Be.MatLegacyTabsModule,Re.MatTreeModule,ue.MatLegacyTooltipModule,g.FormsModule,R,d.MaskModule,g.ReactiveFormsModule,f.DataItemMarkerModule,d.TooltipModule,d.CrtPlaceholderModule,B.CrtButtonModule],exports:[ie]})}()},88191:(le,E,r)=>{r.d(E,{h:()=>k.PageTemplateItemComponent});var k=r(54172)},54172:(le,E,r)=>{r.r(E),r.d(E,{PageTemplateItemComponent:()=>S});var k=r(94450),_=r.n(k),d=r(54514),s=r.n(d),f=r(34038),x=r.n(f),y=r(49475),p=r.n(y);class S extends f.CrtGalleryBaseItemComponent{constructor(I,m){super(I,m),this.injector=I,this.sanitizer=m}getImageSource(){const I=this.record?.imageId,m=I?(0,y.getImageFullUrlById)(I):this.getDefaultImage();return this.createImageResource(m)}}S.\u0275fac=function(I){return new(I||S)(k.\u0275\u0275directiveInject(k.Injector),k.\u0275\u0275directiveInject(d.DomSanitizer))},S.\u0275cmp=k.\u0275\u0275defineComponent({type:S,selectors:[["crt-page-template-item"]],features:[k.\u0275\u0275InheritDefinitionFeature],decls:5,vars:3,consts:[[1,"crt-gallery-item-content-wrap","content-wrap"],[1,"template-wrap"],[3,"src","alt"],[1,"caption",3,"click"]],template:function(I,m){I&1&&(k.\u0275\u0275elementStart(0,"div",0)(1,"div",1),k.\u0275\u0275element(2,"img",2),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(3,"div",3),k.\u0275\u0275listener("click",function(){return m.onCaptionClick()}),k.\u0275\u0275text(4),k.\u0275\u0275elementEnd()()),I&2&&(k.\u0275\u0275advance(2),k.\u0275\u0275property("src",m.getImageSource(),k.\u0275\u0275sanitizeUrl)("alt",m.record==null?null:m.record.title),k.\u0275\u0275advance(2),k.\u0275\u0275textInterpolate1(" ",m.record==null?null:m.record.title," "))},styles:["[_nghost-%COMP%]{display:block;width:224px;height:152px;padding:24px;border-radius:8px;cursor:pointer}.content-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:8px;gap:16px}.content-wrap[_ngcontent-%COMP%]   .template-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%}.content-wrap[_ngcontent-%COMP%]   .template-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.content-wrap[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase;padding:0 10px;max-height:36px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.content-wrap[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})},62377:(le,E,r)=>{r.r(E),r.d(E,{PageTemplateLookupComponent:()=>H});var k=r(75903),_=r.n(k),d=r(98956),s=r.n(d),f=r(34038),x=r.n(f),y=r(21322),p=r.n(y),S=r(27049),c=r.n(S),I=r(88191),m=r(94450),N=r.n(m),A=r(77207),Ce=r.n(A);class H{constructor(u,e){this._dialogRef=u,this._schemaTemplateApiService=e,this._destroyed$=new y.Subject,this.isLoading=!0,this.items=[],this.selectedItem=null,this.galleryItemConfig={componentClassFactory:()=>I.h,itemKeyProperty:"uId"}}_initTemplates(){this._schemaTemplateApiService.getTemplates().pipe((0,S.takeUntil)(this._destroyed$)).pipe((0,S.catchError)(u=>(console.error(u),(0,y.of)(null)))).subscribe(u=>{this.isLoading=!1,u?.success&&(this.items=u.items,this.items.length>0&&(this.selectedItem=this.items[0]))})}_select(u){this._close(u.uId)}_close(u){const e={selectedItemUId:u};this._dialogRef.close(e)}ngOnInit(){this._initTemplates()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}onSelectedItemChange(u){this.selectedItem=u}onItemDblClick(u){this._select(u)}onItemEvent(u){const e=u.event.detail;(e===f.GalleryItemCustomEventEnum.CaptionClick||e===f.GalleryItemCustomEventEnum.KeyEnterPressed)&&this._select(u.item)}onSelect(){this._select(this.selectedItem)}onCancel(){this._close()}}H.\u0275fac=function(u){return new(u||H)(m.\u0275\u0275directiveInject(k.MatLegacyDialogRef),m.\u0275\u0275directiveInject(d.SchemaTemplateApiService))},H.\u0275cmp=m.\u0275\u0275defineComponent({type:H,selectors:[["crt-page-template-lookup"]],decls:12,vars:16,consts:[[1,"header"],[1,"header-caption"],[3,"items","itemConfig","loading","selectedItem","isEnterKeyPressed","selectable","itemDblClick","itemEvent","selectedItemChange"],[1,"footer"],["data-item-marker","cancelButton","color","default","shape","rounded",3,"clicked"],["data-item-marker","selectButton","color","primary","shape","rounded",3,"disabled","clicked"]],template:function(u,e){u&1&&(m.\u0275\u0275elementStart(0,"div",0)(1,"crt-label",1),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(4,"crt-gallery",2),m.\u0275\u0275listener("itemDblClick",function(M){return e.onItemDblClick(M)})("itemEvent",function(M){return e.onItemEvent(M)})("selectedItemChange",function(M){return e.onSelectedItemChange(M)}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"div",3)(6,"crt-button",4),m.\u0275\u0275listener("clicked",function(){return e.onCancel()}),m.\u0275\u0275text(7),m.\u0275\u0275pipe(8,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(9,"crt-button",5),m.\u0275\u0275listener("clicked",function(){return e.onSelect()}),m.\u0275\u0275text(10),m.\u0275\u0275pipe(11,"translate"),m.\u0275\u0275elementEnd()()),u&2&&(m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(3,10,"WorkspaceExplorer.PageTemplateLookup.HeaderCaption")," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("items",e.items)("itemConfig",e.galleryItemConfig)("loading",e.isLoading)("selectedItem",e.selectedItem)("isEnterKeyPressed",!0)("selectable",!0),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(8,12,"WorkspaceExplorer.PageTemplateLookup.Cancel")," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("disabled",!e.selectedItem),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(11,14,"WorkspaceExplorer.PageTemplateLookup.Select")," "))},dependencies:[f.CrtGalleryComponent,f.CrtButtonComponent,f.CrtLabelComponent,A.TranslatePipe],styles:[`.create-dialog .mat-dialog-container{height:inherit}.create-dialog .mat-dialog-container crt-page-template-lookup{height:100%;display:flex;flex-direction:column}.create-dialog .mat-dialog-container crt-page-template-lookup .header crt-label.header-caption{text-align:center;padding-bottom:13px;padding-right:18px}.create-dialog .mat-dialog-container crt-page-template-lookup crt-gallery{height:100%;box-sizing:border-box;overflow:hidden}.create-dialog .mat-dialog-container crt-page-template-lookup crt-gallery:focus{box-shadow:none!important}.create-dialog .mat-dialog-container crt-page-template-lookup crt-gallery .crt-gallery-items-wrap{display:grid;grid-template-columns:1fr;height:100%;overflow-y:auto}@media screen and (min-width: 500px){.create-dialog .mat-dialog-container crt-page-template-lookup crt-gallery .crt-gallery-items-wrap{grid-template-columns:272px 272px}}@media screen and (min-width: 790px){.create-dialog .mat-dialog-container crt-page-template-lookup crt-gallery .crt-gallery-items-wrap{grid-template-columns:272px 272px 272px}}.create-dialog .mat-dialog-container crt-page-template-lookup .footer{display:flex;flex-direction:row;justify-content:flex-end;gap:16px;padding-top:8px}
`],encapsulation:2})}}]);
