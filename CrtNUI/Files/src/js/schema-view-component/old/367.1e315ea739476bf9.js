"use strict";(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[367],{77367:(A,M,t)=>{t.r(M),t.d(M,{CodemirrorComponent:()=>Y,CodemirrorModule:()=>L,LineSeparator:()=>p});var i=t(36599),F=t(20092),C=t(80530),d=t(98097),a=t(90730),n=t(58895),c=t(65366),l=t(19205),J=t(19204),y=t(17781),E=t(71610),v=t(96003),S=t(4546),g=t(2149),O=t(51320),m=t(41088),h=t(32800),V=t(95828);class s{static lintCode(o,e,f={}){const u=[];return e===n.Y.Javascript?t.e(296).then(t.bind(t,43296)).then(({Linter:w})=>(0,y.d)(new w,f)(o)):([n.Y.Json,n.Y.Less,n.Y.Css,n.Y.Xml].includes(e)&&s.supportedLanguages[e].parser.parse(o.state.doc.toString()).iterate({enter:({type:x,from:Q,to:z,...R})=>{x.isError&&u.push({from:Q,to:z,severity:"warning",message:"Uncompleted condition"})}}),Promise.resolve(u))}}s.supportedLanguages={[n.Y.Markdown]:{lang:S.JH,parser:S.eg.parser},[n.Y.Javascript]:{lang:y.eJ,parser:y.Lz.parser},[n.Y.Less]:{lang:v.d9,parser:v.LN.parser},[n.Y.Css]:{lang:v.d9,parser:J.t$.parser},[n.Y.Sql]:{lang:g.i6,parser:g.Gz.language.parser},[n.Y.PgSql]:{lang:g.i6,parser:g.Gz.language.parser},[n.Y.SqlServer]:{lang:g.i6,parser:g.Gz.language.parser},[n.Y.Json]:{lang:E.AV,parser:E.bA.parser},[n.Y.Csharp]:{lang:V.lh,parser:V.vY.parser},[n.Y.Xml]:{lang:O.Ls,parser:O.Jl.parser},[n.Y.Http]:{lang:O.Ls,parser:S.eg.parser}},s.onChangeExtension=r=>a.tk.updateListener.of(o=>{if(!o.docChanged)return;const e=o.state.doc.toString();r(e)}),s.defaultExtensions=()=>[(0,m.nF)(m.R_,{fallback:!0}),(0,C.Q2)(),(0,a.AE)(),(0,a.HQ)(),(0,a.ZO)(),(0,h.sW)(),(0,c.ys)(),(0,m.n$)(),(0,c.vQ)(),(0,m.mi)(),(0,a.Eu)(),(0,a.Zs)(),a.tk.lineWrapping,(0,l.m8)()],s.defaultKeyMaps=()=>[...C.Fv,...h.Lp,...l.f$,...l.wQ,...c.B1,l.oc,{key:"Alt-g",run:h.zo},{key:"Ctrl-Shift-f",run:h.K9},{key:"Ctrl-Shift-r",run:h.ko},{key:"Ctrl-Shift-z",run:l.KX},{key:"Ctrl-y",run:l.YE},{key:"Ctrl-Space",run:c.WA}];const P=["host"];var p=(()=>(function(r){r.CR="\r",r.LF=`
`,r.CRLF=`\r
`}(p||(p={})),p))();let Y=(()=>{class r{constructor(){this._value="",this._language=n.Y.Javascript,this._languageCompartment=new d.F6,this._editable=!0,this._editableCompartment=new d.F6,this._readOnly=!1,this._readonlyCompartment=new d.F6,this._lineSeparator=p.LF,this._lineSeparatorCompartment=new d.F6,this.keyBinding=[],this.languageOptions={},this.valueChanged=new i.EventEmitter,this.onChange=e=>{},this.onTouched=()=>{}}set value(e){typeof e=="string"&&this._editorView?.state.doc.toString()!==e&&(this._value=e,this._editorView?.dispatch({changes:{from:0,to:this._editorView.state.doc.length,insert:this._value}}))}get value(){return this._value}get lineNumbers(){return this._editorView.state.doc.lines}set editable(e){this._editable!==e&&(this._editable=e,this._editorView?.dispatch({effects:this._editableCompartment.reconfigure(a.tk.editable.of(e))}))}set readOnly(e){this._readOnly!==e&&(this._readOnly=e,this._editorView?.dispatch({effects:this._readonlyCompartment.reconfigure(d.yy.readOnly.of(e))}))}set language(e){if(e||(e=n.Y.Markdown),this._language!==e){if(!s.supportedLanguages[e])throw new Error(`Unsupported language: ${e}`);this._language=e,this._editorView?.dispatch({effects:this._languageCompartment.reconfigure(s.supportedLanguages[e].lang())})}}set lineSeparator(e){this._lineSeparator!==e&&(this._lineSeparator=e,this._editorView?.dispatch({effects:this._lineSeparatorCompartment.reconfigure(d.yy.lineSeparator.of(this._lineSeparator))}))}_onEditorValueChanged(e){this.value=e,this.onChange(e),this.valueChanged.emit(e),this.onTouched()}_initEditorView(){return new a.tk({doc:this.value,extensions:[this._lineSeparatorCompartment.of(d.yy.lineSeparator.of(this._lineSeparator)),this._languageCompartment.of(s.supportedLanguages[this._language].lang()),this._editableCompartment.of(a.tk.editable.of(this._editable)),this._readonlyCompartment.of(d.yy.readOnly.of(this._readOnly)),(0,C.ir)(e=>s.lintCode(e,this._language,this.languageOptions)),s.onChangeExtension(this._onEditorValueChanged.bind(this)),...s.defaultExtensions(),a.$f.of([...s.defaultKeyMaps(),...this.keyBinding])],parent:this.hostContainer?.nativeElement})}ngAfterViewInit(){this._editorView=this._initEditorView()}ngOnDestroy(){this._editorView.destroy()}writeValue(e){typeof e=="string"&&(this.value=e.toString())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=i.\u0275\u0275defineComponent({type:r,selectors:[["ts-codemirror"]],viewQuery:function(e,f){if(e&1&&i.\u0275\u0275viewQuery(P,5),e&2){let u;i.\u0275\u0275queryRefresh(u=i.\u0275\u0275loadQuery())&&(f.hostContainer=u.first)}},inputs:{value:"value",editable:"editable",readOnly:"readOnly",language:"language",lineSeparator:"lineSeparator",keyBinding:"keyBinding",languageOptions:"languageOptions"},outputs:{valueChanged:"valueChanged"},features:[i.\u0275\u0275ProvidersFeature([{provide:F.JU,useExisting:(0,i.forwardRef)(()=>r),multi:!0}])],decls:3,vars:0,consts:[[1,"ts-codemirror"],[1,"ts-codemirror-container"],["host",""]],template:function(e,f){e&1&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275element(1,"div",1,2),i.\u0275\u0275elementEnd())},styles:[".ts-codemirror[_ngcontent-%COMP%]{position:relative;background-color:#fff;height:100%}.ts-codemirror[_ngcontent-%COMP%]   .ts-codemirror-container[_ngcontent-%COMP%]{height:100%}.ts-codemirror[_ngcontent-%COMP%]   .ts-codemirror-container[_ngcontent-%COMP%]     .cm-editor{height:100%}.ts-codemirror[_ngcontent-%COMP%]   .ts-codemirror-container[_ngcontent-%COMP%]     .cm-editor .cm-specialChar{display:none}"],changeDetection:0}),r})(),L=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=i.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=i.\u0275\u0275defineInjector({}),r})();(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(L,{declarations:[Y],exports:[Y]})})()}}]);
