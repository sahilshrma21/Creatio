(self.webpackChunkapp_studio_enterprise_confidence_level_widget=self.webpackChunkapp_studio_enterprise_confidence_level_widget||[]).push([[3029],{73029:(ye,he,j)=>{j.r(he),j.d(he,{LookupMode:()=>ee,\u0275AggregationEvalType:()=>Y,\u0275AggregationFunction:()=>se,\u0275AggregationFunctionColumn:()=>Ie,\u0275AggregationFunctionExpression:()=>J,\u0275AggregationSubQueryColumn:()=>pe,\u0275AggregationSubQueryExpression:()=>k,\u0275AggregationType:()=>te,\u0275ArgumentEmptyException:()=>q,\u0275ArgumentFunctionExpression:()=>x,\u0275ArgumentOutOfRangeException:()=>ce,\u0275ArithmeticExpression:()=>K,\u0275ArithmeticOperation:()=>re,\u0275ArithmeticQueryColumn:()=>Ne,\u0275BaseExpression:()=>d,\u0275BaseExpressionParser:()=>_e,\u0275BaseFilter:()=>P,\u0275BaseFilterParser:()=>Ce,\u0275BaseFilterableQuery:()=>W,\u0275BaseQuery:()=>ae,\u0275BaseQueryColumn:()=>g,\u0275BaseRequest:()=>Re,\u0275BetweenFilter:()=>b,\u0275ColumnExpression:()=>u,\u0275CompareFilter:()=>L,\u0275ComparisonType:()=>O,\u0275DEFAULT_COLUMN_PLAIN_OBJ:()=>Le,\u0275DEFAULT_FILTER_PLAIN_OBJ:()=>Ae,\u0275DataSchemaAttributeType:()=>y,\u0275DataSchemaAttributeUsageType:()=>Q,\u0275DataSchemaType:()=>ne,\u0275DataSourceScope:()=>T,\u0275DataValueType:()=>R,\u0275DatePartFunctionColumn:()=>Ke,\u0275DatePartFunctionExpression:()=>w,\u0275DatePartType:()=>oe,\u0275DefaultValueSource:()=>V,\u0275DeleteQuery:()=>qe,\u0275EMPTY_GUID:()=>Ee,\u0275EXPRESSION_TYPE_MOCK:()=>xe,\u0275EntityQueryColumn:()=>Pe,\u0275EntitySchemaQuery:()=>Je,\u0275ExistsFilter:()=>v,\u0275ExpressionMock:()=>$,\u0275ExpressionParser:()=>M,\u0275ExpressionResolver:()=>Oe,\u0275ExpressionType:()=>_,\u0275FilterGroup:()=>C,\u0275FilterMock:()=>Z,\u0275FilterParser:()=>ue,\u0275FilterResolver:()=>we,\u0275FilterType:()=>l,\u0275FunctionExpression:()=>B,\u0275FunctionType:()=>h,\u0275InFilter:()=>p,\u0275InsertQuery:()=>Ue,\u0275IsNullFilter:()=>A,\u0275ItemNotFoundException:()=>ke,\u0275LengthFunctionColumn:()=>Se,\u0275LengthFunctionExpression:()=>S,\u0275LogicalOperatorType:()=>G,\u0275MacrosFunctionColumn:()=>Fe,\u0275MacrosFunctionExpression:()=>N,\u0275ModelInPageAction:()=>ie,\u0275ModelParameterType:()=>le,\u0275NextHandlerAlreadySpecifiedException:()=>$e,\u0275OrderDirection:()=>H,\u0275ParameterExpression:()=>m,\u0275ParameterQueryColumn:()=>ve,\u0275QueryMacrosType:()=>D,\u0275QueryOperationType:()=>U,\u0275SchemaViewMaskRequest:()=>Ze,\u0275SchemaViewMaskRequestAction:()=>me,\u0275SelectLocalizationQuery:()=>Me,\u0275SingleFilter:()=>E,\u0275SubQueryColumn:()=>je,\u0275SubQueryExpression:()=>I,\u0275UpdateQuery:()=>Be,\u0275ValidationUtilities:()=>f,\u0275WindowFunctionColumn:()=>be,\u0275WindowFunctionExpression:()=>F,\u0275encodeDate:()=>fe,\u0275generateGuid:()=>ge,\u0275getColumnPlainObj:()=>De,\u0275getFilterPlainObj:()=>ze,\u0275isEmptyGuid:()=>He,\u0275isGuid:()=>Ye,\u0275parserMock:()=>We,\u0275toLocalISOString:()=>de});function de(e){if(!(e instanceof Date))throw new TypeError;const t=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-t).toISOString().slice(0,-1)}function fe(e){return`"${de(e)}"`}var T;(function(e){e.ViewElement="viewElement",e.Page="page"})(T||(T={}));var y;(function(e){e.OwnAttribute="Own",e.ForwardReferenceAttribute="ForwardReference",e.BackReferenceAttribute="BackReference",e.AggregationAttribute="Aggregation",e.FunctionAttribute="Function"})(y||(y={}));var Q;(function(e){e[e.General=0]="General",e[e.Advanced=1]="Advanced",e[e.None=2]="None"})(Q||(Q={}));var V;(function(e){e[e.None=0]="None",e[e.Const=1]="Const",e[e.Settings=2]="Settings",e[e.SystemValue=3]="SystemValue",e[e.Sequence=4]="Sequence"})(V||(V={}));var ee;(function(e){e.List="List",e.SelectionWindow="SelectionWindow"})(ee||(ee={}));var R;(function(e){e[e.Guid=0]="Guid",e[e.Text=1]="Text",e[e.Integer=4]="Integer",e[e.Float=5]="Float",e[e.Money=6]="Money",e[e.DateTime=7]="DateTime",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Lookup=10]="Lookup",e[e.Enum=11]="Enum",e[e.Boolean=12]="Boolean",e[e.Blob=13]="Blob",e[e.Image=14]="Image",e[e.CUSTOM_OBJECT=15]="CUSTOM_OBJECT",e[e.IMAGELOOKUP=16]="IMAGELOOKUP",e[e.COLLECTION=17]="COLLECTION",e[e.Color=18]="Color",e[e.LOCALIZABLE_STRING=19]="LOCALIZABLE_STRING",e[e.ENTITY=20]="ENTITY",e[e.ENTITY_COLLECTION=21]="ENTITY_COLLECTION",e[e.ENTITY_COLUMN_MAPPING_COLLECTION=22]="ENTITY_COLUMN_MAPPING_COLLECTION",e[e.HASH_TEXT=23]="HASH_TEXT",e[e.SECURE_TEXT=24]="SECURE_TEXT",e[e.FILE=25]="FILE",e[e.MAPPING=26]="MAPPING",e[e.SHORT_TEXT=27]="SHORT_TEXT",e[e.MEDIUM_TEXT=28]="MEDIUM_TEXT",e[e.MAXSIZE_TEXT=29]="MAXSIZE_TEXT",e[e.LONG_TEXT=30]="LONG_TEXT",e[e.FLOAT1=31]="FLOAT1",e[e.FLOAT2=32]="FLOAT2",e[e.FLOAT3=33]="FLOAT3",e[e.FLOAT4=34]="FLOAT4",e[e.LOCALIZABLE_PARAMETER_VALUES_LIST=35]="LOCALIZABLE_PARAMETER_VALUES_LIST",e[e.METADATA_TEXT=36]="METADATA_TEXT",e[e.STAGE_INDICATOR=37]="STAGE_INDICATOR",e[e.OBJECT_LIST=38]="OBJECT_LIST",e[e.COMPOSITE_OBJECT_LIST=39]="COMPOSITE_OBJECT_LIST",e[e.FLOAT8=40]="FLOAT8",e[e.FILE_LOCATOR=41]="FILE_LOCATOR",e[e.PHONE_TEXT=42]="PHONE_TEXT",e[e.RICH_TEXT=43]="RICH_TEXT",e[e.WEB_TEXT=44]="WEB_TEXT",e[e.EMAIL_TEXT=45]="EMAIL_TEXT"})(R||(R={}));var te;(function(e){e[e.None=0]="None",e[e.Count=1]="Count",e[e.Sum=2]="Sum",e[e.Avg=3]="Avg",e[e.Min=4]="Min",e[e.Max=5]="Max",e[e.TopOne=6]="TopOne"})(te||(te={}));var se;(function(e){e.None="",e.Count="Count",e.Sum="Sum",e.Avg="Avg",e.Min="Min",e.Max="Max",e.TopOne="TopOne"})(se||(se={}));var ne;(function(e){e.Entity="Entity",e.ClientUnit="ClientUnit"})(ne||(ne={}));var ie;(function(e){e.Edit="edit",e.Add="add",e.Copy="copy"})(ie||(ie={}));var G;(function(e){e[e.And=0]="And",e[e.Or=1]="Or"})(G||(G={}));var Y;(function(e){e[e.None=0]="None",e[e.All=1]="All",e[e.Distinct=2]="Distinct"})(Y||(Y={}));var re;(function(e){e[e.Addition=0]="Addition",e[e.Subtraction=1]="Subtraction",e[e.Multiplication=2]="Multiplication",e[e.Division=3]="Division"})(re||(re={}));var O;(function(e){e[e.Between=0]="Between",e[e.Contain=11]="Contain",e[e.End_with=13]="End_with",e[e.Equal=3]="Equal",e[e.Exists=15]="Exists",e[e.Greater=7]="Greater",e[e.Greater_or_equal=8]="Greater_or_equal",e[e.Is_not_null=2]="Is_not_null",e[e.Is_null=1]="Is_null",e[e.Less=5]="Less",e[e.Less_or_equal=6]="Less_or_equal",e[e.Not_contain=12]="Not_contain",e[e.Not_end_with=14]="Not_end_with",e[e.Not_equal=4]="Not_equal",e[e.Not_exists=16]="Not_exists",e[e.Not_start_with=10]="Not_start_with",e[e.Start_with=9]="Start_with"})(O||(O={}));var oe;(function(e){e[e.None=0]="None",e[e.Day=1]="Day",e[e.Week=2]="Week",e[e.Month=3]="Month",e[e.Year=4]="Year",e[e.WeekDay=5]="WeekDay",e[e.Hour=6]="Hour",e[e.HourMinute=7]="HourMinute"})(oe||(oe={}));var _;(function(e){e[e.SchemaColumn=0]="SchemaColumn",e[e.Function=1]="Function",e[e.Parameter=2]="Parameter",e[e.SubQuery=3]="SubQuery",e[e.ArithmeticOperation=4]="ArithmeticOperation"})(_||(_={}));var l;(function(e){e[e.None=0]="None",e[e.Compare=1]="Compare",e[e.IsNull=2]="IsNull",e[e.Between=3]="Between",e[e.In=4]="In",e[e.Exists=5]="Exists",e[e.FilterGroup=6]="FilterGroup"})(l||(l={}));var h;(function(e){e[e.None=0]="None",e[e.Macros=1]="Macros",e[e.Aggregation=2]="Aggregation",e[e.DatePart=3]="DatePart",e[e.Length=4]="Length",e[e.Window=5]="Window",e[e.DateAdd=6]="DateAdd",e[e.DateDiff=7]="DateDiff"})(h||(h={}));var H;(function(e){e[e.None=0]="None",e[e.Asc=1]="Asc",e[e.Desc=2]="Desc"})(H||(H={}));var D;(function(e){e[e.None=0]="None",e[e.CurrentUser=1]="CurrentUser",e[e.CurrentUserContact=2]="CurrentUserContact",e[e.Yesterday=3]="Yesterday",e[e.Today=4]="Today",e[e.Tomorrow=5]="Tomorrow",e[e.PreviousWeek=6]="PreviousWeek",e[e.CurrentWeek=7]="CurrentWeek",e[e.NextWeek=8]="NextWeek",e[e.PreviousMonth=9]="PreviousMonth",e[e.CurrentMonth=10]="CurrentMonth",e[e.NextMonth=11]="NextMonth",e[e.PreviousQuarter=12]="PreviousQuarter",e[e.CurrentQuarter=13]="CurrentQuarter",e[e.NextQuarter=14]="NextQuarter",e[e.PreviousHalfYear=15]="PreviousHalfYear",e[e.CurrentHalfYear=16]="CurrentHalfYear",e[e.NextHalfYear=17]="NextHalfYear",e[e.PreviousYear=18]="PreviousYear",e[e.CurrentYear=19]="CurrentYear",e[e.PreviousHour=20]="PreviousHour",e[e.CurrentHour=21]="CurrentHour",e[e.NextHour=22]="NextHour",e[e.NextYear=23]="NextYear",e[e.NextNDays=24]="NextNDays",e[e.PreviousNDays=25]="PreviousNDays",e[e.NextNHours=26]="NextNHours",e[e.PreviousNHours=27]="PreviousNHours",e[e.PrimaryColumn=34]="PrimaryColumn",e[e.PrimaryDisplayColumn=35]="PrimaryDisplayColumn",e[e.PrimaryImageColumn=36]="PrimaryImageColumn",e[e.DayOfYearToday=37]="DayOfYearToday",e[e.DayOfYearTodayPlusDaysOffset=38]="DayOfYearTodayPlusDaysOffset",e[e.NextNDaysOfYear=39]="NextNDaysOfYear",e[e.PreviousNDaysOfYear=40]="PreviousNDaysOfYear",e[e.PrimaryColorColumn=41]="PrimaryColorColumn"})(D||(D={}));var c=j(24821);class d{static get _instanceOfKeys(){return[this._instanceOfKey]}static[Symbol.hasInstance](t){return(t?.constructor?._instanceOfKeys??[]).includes(this._instanceOfKey)}constructor(t){this.isBlock=!1,this.isBlock=t?.isBlock}static fromJson(t,s,n){throw new Error(`fromJson not supported on expression type ${this.constructor.name}`)}serializeItem(t){return typeof t.toJson=="function"?t.toJson():(0,c.classToPlain)(t,{exposeUnsetFields:!1,excludePrefixes:["_"]})}toJson(){return(0,c.classToPlain)(this,{exposeUnsetFields:!1,excludePrefixes:["_"]})}}d._instanceOfKey="devkit_BaseExpression";class K extends d{static get _instanceOfKeys(){return[...d._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.expressionType=_.ArithmeticOperation,this.arithmeticOperation=t?.arithmeticOperation,this.leftArithmeticOperand=t?.leftArithmeticOperand.clone(),this.rightArithmeticOperand=t?.rightArithmeticOperand.clone()}static fromJson(t,s,n){const i=n?.fromJson(t.leftArithmeticOperand,s),r=n?.fromJson(t.rightArithmeticOperand,s),a={leftArithmeticOperand:i,rightArithmeticOperand:r,arithmeticOperation:t.arithmeticOperation,isBlock:t.isBlock};return new K(a)}clone(){return new K(this)}_getUsedColumns(){return[...this.leftArithmeticOperand._getUsedColumns(),...this.rightArithmeticOperand._getUsedColumns()]}}K._instanceOfKey="devkit_ArithmeticExpression";class u extends d{static get _instanceOfKeys(){return[...d._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.expressionType=_.SchemaColumn,this.columnPath=t?.columnPath}static fromJson(t){return new u({columnPath:t.columnPath})}clone(){return new u(this)}_getUsedColumns(){return[{path:this.columnPath}]}}u._instanceOfKey="devkit_ColumnExpression";class _e{static fromJson(t,s){throw new Error("not implemented")}}class B extends d{static get _instanceOfKeys(){return[...d._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.expressionType=_.Function}}B._instanceOfKey="devkit_FunctionExpression";class N extends B{static get _instanceOfKeys(){return[...B._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.functionType=h.Macros,this.macrosType=t?.macrosType,this.functionArgument=t?.functionArgument}static fromJson(t,s,n){const i=s&&n&&t.functionArgument?n.fromJson(t.functionArgument,s):void 0;return new N({functionArgument:i,macrosType:t.macrosType})}clone(){return new N(this)}_getUsedColumns(){return this.functionArgument?._getUsedColumns()??[]}}N._instanceOfKey="devkit_MacrosFunctionExpression";class x extends B{static get _instanceOfKeys(){return[...B._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.functionArgument=t?.functionArgument.clone()}toJson(){const t=super.toJson();return this.functionArgument&&(t.functionArgument=this.serializeItem(this.functionArgument)),t}_getUsedColumns(){return this.functionArgument?._getUsedColumns()??[]}}x._instanceOfKey="devkit_ArgumentFunctionExpression";class S extends x{static get _instanceOfKeys(){return[...x._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.functionType=h.Length}static fromJson(t,s,n){const i=n?.fromJson(t.functionArgument,s);return new S({functionArgument:i,isBlock:t.isBlock})}clone(){return new S(this)}}S._instanceOfKey="devkit_LengthFunctionExpression";class F extends x{static get _instanceOfKeys(){return[...x._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.functionType=h.Window}static fromJson(t,s,n){const i=n?.fromJson(t.functionArgument,s);return new F({functionArgument:i,isBlock:t.isBlock})}clone(){return new F(this)}}F._instanceOfKey="devkit_WindowFunctionExpression";class w extends x{static get _instanceOfKeys(){return[...x._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.functionType=h.DatePart,this.datePartType=t?.datePartType}static fromJson(t,s,n){const i=n?.fromJson(t.functionArgument,s),r=t.datePartType;return new w({functionArgument:i,datePartType:r,isBlock:t.isBlock})}clone(){return new w(this)}}w._instanceOfKey="devkit_DatePartFunctionExpression";var o=j(74742);class m extends d{static get _instanceOfKeys(){return[...d._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.expressionType=_.Parameter;const s=t?.value;if(s instanceof Date){const n=new Date;n.setTime(s.getTime()),this.value=n}else s?this.value=typeof s=="object"?{...s}:s:this.value=s;this.dataValueType=t?.dataValueType??R.Text,this.parameter={dataValueType:this.dataValueType,...this._getParameterValueMetadata()}}static fromJson(t){return new m(t.parameter)}_convertStringToBlobArray(t){const s=[];let n=0;for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);r<128?s[n++]=String.fromCharCode(r):r<2048?(s[n++]=String.fromCharCode(r>>6|192),s[n++]=String.fromCharCode(r&63|128)):(s[n++]=String.fromCharCode(r>>12|224),s[n++]=String.fromCharCode(r>>6&63|128),s[n++]=String.fromCharCode(r&63|128))}return s}_getParameterValueMetadata(){return this.dataValueType===R.Blob?{arrayValue:this.value?this._convertStringToBlobArray(this.value):[]}:this.value instanceof Date?{value:fe(this.value)}:{value:this.value}}clone(){return new m(this)}_getUsedColumns(){return[]}}m._instanceOfKey="devkit_ParameterExpression",(0,o.__decorate)([(0,c.Exclude)(),(0,o.__metadata)("design:type",Object)],m.prototype,"value",void 0),(0,o.__decorate)([(0,c.Exclude)(),(0,o.__metadata)("design:type",Number)],m.prototype,"dataValueType",void 0);class P{static get _instanceOfKeys(){return[this._instanceOfKey]}static[Symbol.hasInstance](t){return(t?.constructor?._instanceOfKeys??[]).includes(this._instanceOfKey)}constructor(t){this.isEnabled=!0,this.trimDateTimeParameterToDate=!1,this.filterType=t}static fromJson(t,s,n){throw new Error(`fromJson not supported on filter type ${this.constructor.name}`)}serializeItem(t){return typeof t.toJson=="function"?t.toJson():(0,c.classToPlain)(t,{exposeUnsetFields:!1,excludePrefixes:["_"]})}toJson(){return(0,c.classToPlain)(this,{exposeUnsetFields:!1,excludePrefixes:["_"]})}}P._instanceOfKey="devkit_BaseFilter";class E extends P{static get _instanceOfKeys(){return[...P._instanceOfKeys,this._instanceOfKey]}constructor(t,s,n){super(t),this.comparisonType=s,this.leftExpression=n.clone()}toJson(){return{...super.toJson(),leftExpression:this.serializeItem(this.leftExpression)}}_getUsedColumns(){return this.leftExpression._getUsedColumns()}}E._instanceOfKey="devkit_SingleFilter";class b extends E{static get _instanceOfKeys(){return[...E._instanceOfKeys,this._instanceOfKey]}constructor(t,s,n){super(l.Between,O.Between,t),this.rightLessExpression=s.clone(),this.rightGreaterExpression=n.clone()}static fromJson(t,s,n){return new b(n.fromJson(t.leftExpression,s),n.fromJson(t.rightLessExpression,s),n.fromJson(t.rightGreaterExpression,s))}clone(){const t=new b(this.leftExpression,this.rightLessExpression,this.rightGreaterExpression);return t.isEnabled=this.isEnabled,t.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,t}toJson(){return{...super.toJson(),rightLessExpression:this.serializeItem(this.rightLessExpression),rightGreaterExpression:this.serializeItem(this.rightGreaterExpression)}}_getUsedColumns(){return[...super._getUsedColumns(),...this.rightLessExpression._getUsedColumns(),...this.rightGreaterExpression._getUsedColumns()]}}b._instanceOfKey="devkit_BetweenFilter";class L extends E{static get _instanceOfKeys(){return[...E._instanceOfKeys,this._instanceOfKey]}constructor(t,s,n){super(l.Compare,t,s),this.rightExpression=n.clone()}static fromJson(t,s,n){return new L(t.comparisonType,n.fromJson(t.leftExpression,s),n.fromJson(t.rightExpression,s))}clone(){const t=new L(this.comparisonType,this.leftExpression,this.rightExpression);return t.isEnabled=this.isEnabled,t.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,t}toJson(){return{...super.toJson(),rightExpression:this.serializeItem(this.rightExpression)}}_getUsedColumns(){return[...super._getUsedColumns(),...this.rightExpression._getUsedColumns()]}}L._instanceOfKey="devkit_CompareFilter";class v extends E{static get _instanceOfKeys(){return[...E._instanceOfKeys,this._instanceOfKey]}constructor(t,s,n=O.Exists,i=!0){super(l.Exists,n,t),this.subFilters=s?.clone(),this.isAggregative=i}static fromJson(t,s,n){const i=n.fromJson(t.leftExpression,s),r=s.fromJson(t.subFilters);return new v(i,r,t.comparisonType,t.isAggregative)}clone(){const t=new v(this.leftExpression,this.subFilters,this.comparisonType,this.isAggregative);return t.isEnabled=this.isEnabled,t.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,t}toJson(){const t=super.toJson();return this.subFilters&&(t.subFilters=this.serializeItem(this.subFilters)),t}_getUsedColumns(){return[...super._getUsedColumns(),...this.subFilters?._getUsedColumns()??[]]}}v._instanceOfKey="devkit_ExistsFilter";class p extends E{static get _instanceOfKeys(){return[...E._instanceOfKeys,this._instanceOfKey]}constructor(t,s,n){super(l.In,t,s),this.rightExpressions=n.map(i=>i.clone())}static fromJson(t,s,n){const i=t.rightExpressions??[];return new p(t.comparisonType,n.fromJson(t.leftExpression,s),i.map(r=>n.fromJson(r,s)))}clone(){const t=new p(this.comparisonType,this.leftExpression,this.rightExpressions);return t.isEnabled=this.isEnabled,t.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,t}toJson(){return{...super.toJson(),rightExpressions:this.rightExpressions.map(t=>this.serializeItem(t))}}_getUsedColumns(){const t=this.rightExpressions.map(s=>s._getUsedColumns()).flat();return[...super._getUsedColumns(),...t]}}p._instanceOfKey="devkit_InFilter";class A extends E{static get _instanceOfKeys(){return[...E._instanceOfKeys,this._instanceOfKey]}constructor(t,s){super(l.IsNull,t,s)}get isNull(){return this.comparisonType===O.Is_null}static fromJson(t,s,n){return new A(t.comparisonType,n.fromJson(t.leftExpression,s))}clone(){const t=new A(this.comparisonType,this.leftExpression);return t.isEnabled=this.isEnabled,t.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,t}}A._instanceOfKey="devkit_IsNullFilter",(0,o.__decorate)([(0,c.Expose)(),(0,o.__metadata)("design:type",Boolean),(0,o.__metadata)("design:paramtypes",[])],A.prototype,"isNull",null);const Ee="00000000-0000-0000-0000-000000000000",Ge=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");function X(e){let t="";for(let s=0;s<e;s++)t+=((1+Math.random())*65536|0).toString(16).substring(1);return t}function ge(){return[X(2),X(1),X(1),X(1),X(3)].join("-")}function Ye(e){return Boolean(e)&&Ge.test(e)}function He(e){return!e||e===Ee}class q extends Error{constructor(t){super(`Argument with name '${t}' is empty.`)}}class ce extends Error{constructor(t){super(`Argument with name '${t}' is out of range.`)}}class f{static checkArgumentEmpty(t,s){if(s==null)throw new q(t)}static checkArrayEmpty(t,s){if(f.checkArgumentEmpty(t,s),s.length===0)throw new q(t)}static checkStringIsNotEmpty(t,s){if(this.checkArgumentEmpty(t,s),s==="")throw new q(t);return s}static checkArgumentOutOfRange(t,s,n){if(n.begin&&s<n.begin)throw new ce(t);if(n.end&&s>n.end)throw new ce(t)}}class C extends P{static get _instanceOfKeys(){return[...P._instanceOfKeys,this._instanceOfKey]}get items(){const t={};return this.filters.forEach((s,n)=>{t[n]=this.serializeItem(s)}),t}constructor(t=G.And,s){super(l.FilterGroup),this.filters=new Map,this.logicalOperation=t,this.rootSchemaName=s}static fromJson(t,s){const n=t.logicalOperation,i=new C(n||G.And,t.rootSchemaName);return Object.entries(t.items).forEach(([r,a])=>{i.add(s.fromJson(a),r)}),i}toJson(){const t={};return t.filterType=this.filterType,t.isEnabled=this.isEnabled,t.logicalOperation=this.logicalOperation,t.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,t.items=this.items,this.rootSchemaName&&(t.rootSchemaName=this.rootSchemaName),t}_createParameterValueExpressions(t){return t.map(s=>new m({value:s}))}getItemByIndex(t){return this.items[Object.keys(this.items)[t]]}addSchemaColumnFilterWithParameter(t,s,n,i){const r=new u({columnPath:s}),a=new m({value:n}),z=new L(t,r,a);this.add(z,i)}addSchemaColumnInFilterWithParameters(t,s,n,i){const r=new u({columnPath:s}),a=this._createParameterValueExpressions(n),z=new p(t,r,a);this.add(z,i)}addPrimarySchemaColumnInFilter(t,s){const n=new N({macrosType:D.PrimaryColumn}),i=this._createParameterValueExpressions(t),r=new p(O.Equal,n,i);this.add(r,s)}addSchemaColumnIsNullFilter(t,s){const n=new u({columnPath:t}),i=new A(O.Is_null,n);this.add(i,s)}addSchemaColumnIsNotNullFilter(t,s){const n=new u({columnPath:t}),i=new A(O.Is_not_null,n);this.add(i,s)}addSchemaColumnBetweenFilterWithParameters(t,s,n,i){const r=new u({columnPath:t}),a=new m({value:s}),z=new m({value:n}),Te=new b(r,a,z);this.add(Te,i)}addExistsFilter(t,s,n){const i=new u({columnPath:t}),r=new v(i,s);this.add(r,n)}addNotExistsFilter(t,s,n){const i=new u({columnPath:t}),r=new v(i,s,O.Not_exists);this.add(r,n)}add(t,s){f.checkArgumentEmpty("filter",t);const n=s||ge();this.filters.set(n,t)}clone(){const t=new C(this.logicalOperation,this.rootSchemaName);return this.filters.forEach((s,n)=>{t.filters.set(n,s.clone())}),t.isEnabled=this.isEnabled,t.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,t}_getUsedColumns(){const t=[];return this.filters.forEach(s=>{let n=s._getUsedColumns?s._getUsedColumns():[];n=n.map(i=>({path:i.path,schemaName:i.schemaName??this.rootSchemaName})),t.push(...n)}),t}}C._instanceOfKey="devkit_FilterGroup",(0,o.__decorate)([(0,c.Exclude)(),(0,o.__metadata)("design:type",Object)],C.prototype,"filters",void 0),(0,o.__decorate)([(0,c.Expose)(),(0,o.__metadata)("design:type",Object),(0,o.__metadata)("design:paramtypes",[])],C.prototype,"items",null);class I extends d{static get _instanceOfKeys(){return[...d._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.expressionType=_.SubQuery,this.columnPath=t?.columnPath;const s=t?.subFilters;typeof s?.clone=="function"?this.subFilters=s.clone():s?(this.subFilters=new C(s.logicalOperation,s.rootSchemaName),Object.entries(s.items).forEach(([n,i])=>{this.subFilters.add(i,n)})):this.subFilters=s,this.subOrderDirection=t.subOrderDirection,this.subOrderColumn=t.subOrderColumn}static fromJson(t,s){return new I({columnPath:t.columnPath,subFilters:s.fromJson(t.subFilters),subOrderDirection:t.subOrderDirection,subOrderColumn:t.subOrderColumn})}clone(){return new I(this)}toJson(){const t=super.toJson();return this.subFilters&&(t.subFilters=this.serializeItem(this.subFilters)),t}_getUsedColumns(){return[{path:this.columnPath},...this.subFilters?._getUsedColumns()??[]]}}I._instanceOfKey="devkit_SubQueryExpression";class k extends I{static get _instanceOfKeys(){return[...I._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.aggregationType=t?.aggregationType,this.functionType=t?.functionType}static fromJson(t,s){const n=super.fromJson(t,s);return new k({aggregationType:t.aggregationType,functionType:t.functionType,...n})}clone(){return new k(this)}}k._instanceOfKey="devkit_AggregationSubQueryExpression";class Xe{static resolve(t){return{[h.Macros]:N,[h.Length]:S,[h.Window]:F,[h.DatePart]:w,[h.DateAdd]:w,[h.DateDiff]:w}[t.functionType]}}class Oe{static resolve(t,s){return{[_.SchemaColumn]:u,[_.Parameter]:m,[_.SubQuery]:k,[_.ArithmeticOperation]:K,[_.Function]:Xe.resolve(s)}[t]}}class M extends _e{static fromJson(t,s){const n=t.expressionType;return Oe.resolve(n,t).fromJson(t,s,M)}}class J extends x{static get _instanceOfKeys(){return[...x._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.functionType=h.Aggregation,this.aggregationType=t?.aggregationType,this.aggregationEvalType=t?.aggregationEvalType}static fromJson(t,s,n){const i=n?.fromJson(t.functionArgument,s),r=t.aggregationType,a=t.aggregationEvalType;return new J({functionArgument:i,aggregationType:r,aggregationEvalType:a,isBlock:t.isBlock})}clone(){return new J(this)}}J._instanceOfKey="devkit_AggregationFunctionExpression";const xe=-1;class $ extends d{static get _instanceOfKeys(){return[...d._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t||{}),this.expressionType=xe}get plainObject(){return(0,c.classToPlain)(this,{exposeUnsetFields:!1,excludePrefixes:["_"]})}clone(){return new $(this)}_getUsedColumns(){return[]}}$._instanceOfKey="devkit_ExpressionMock";class Z extends P{static get _instanceOfKeys(){return[...P._instanceOfKeys,this._instanceOfKey]}constructor(t=l.None){super(t)}get plainObject(){return(0,c.classToPlain)(this,{exposeUnsetFields:!1,excludePrefixes:["_"]})}clone(){return new Z(this.filterType)}_getUsedColumns(){return[]}}Z._instanceOfKey="devkit_FilterMock";const We={fromJson:e=>({...e,clone:()=>e}),clone:()=>{}};class Ce{static fromJson(t){throw new Error("not implemented")}}class we{static resolve(t){return{[l.Compare]:L,[l.FilterGroup]:C,[l.In]:p,[l.IsNull]:A,[l.Exists]:v,[l.Between]:b}[t]}}class ue extends Ce{static fromJson(t){const s=t.filterType,n=t.isEnabled,i=t.trimDateTimeParameterToDate,r=we.resolve(s).fromJson(t,ue,M);return r.isEnabled=n!==!1,r.trimDateTimeParameterToDate=i===!0,r}}const Ae={isEnabled:!0,trimDateTimeParameterToDate:!1};function ze(e){return{...Ae,...e}}class g{constructor(t){this.orderDirection=H.None,this.orderPosition=-1,this.isVisible=!0,this.expression=t}withOrdering(t,s){return f.checkArgumentEmpty("orderDirection",t),f.checkArgumentEmpty("orderPosition",s),f.checkArgumentOutOfRange("orderPosition",s,{begin:-1}),this.orderDirection=t,this.orderPosition=s,this}withOptions(t){return f.checkArgumentEmpty("options",t),this.isVisible=t.isVisible??!0,this}withCaption(t){return f.checkArgumentEmpty("caption",t),this.caption=t,this}_getUsedColumns(){return this.expression._getUsedColumns()}}class Ne extends g{constructor(t,s,n){super(new K({arithmeticOperation:t,leftArithmeticOperand:s,rightArithmeticOperand:n}))}}class Pe extends g{constructor(t){super(new u({columnPath:t}))}}class ve extends g{constructor(t,s){super(new m({value:t,dataValueType:s}))}}class pe extends g{constructor(t,s,n,i,r){super(new k({aggregationType:s,columnPath:t,subFilters:n,subOrderDirection:i,subOrderColumn:r}))}}class je extends g{constructor(t,s){super(new I({columnPath:t,subFilters:s}))}}class Ie extends g{constructor(t,s,n){super(new J({aggregationType:t,aggregationEvalType:s,functionArgument:n}))}}class Ke extends g{constructor(t,s){super(new w({datePartType:t,functionArgument:s}))}get datePartType(){return this.expression?.datePartType}}class Se extends g{constructor(t){super(new S({functionArgument:t}))}}class Fe extends g{constructor(t){super(new N({macrosType:t}))}}class be extends g{constructor(t){super(new F({functionArgument:t}))}}const Le={isVisible:!0,orderPosition:-1,orderDirection:H.None};function De(e){return{...Le,expression:e}}class ae{constructor(t,s){this.operationType=t,this.rootSchemaName=s,f.checkArgumentEmpty("_operationType",t),f.checkArgumentEmpty("_rootSchemaName",s)}getMetadata(){return(0,c.classToPlain)(this,{exposeUnsetFields:!1,excludePrefixes:["_"]})}}class W extends ae{constructor(t,s){super(t,s),this.filters=new C}clearFilters(){this.filters.filters.clear()}getMetadata(){return{...super.getMetadata(),filters:this.filters.toJson()}}_getUsedColumns(){const t=this.filters._getUsedColumns();return t.forEach(s=>{s.schemaName||(s.schemaName=this.rootSchemaName)}),t}}(0,o.__decorate)([(0,c.Exclude)(),(0,o.__metadata)("design:type",Object)],W.prototype,"filters",void 0);var U;(function(e){e[e.Select=0]="Select",e[e.Insert=1]="Insert",e[e.Update=2]="Update",e[e.Delete=3]="Delete"})(U||(U={}));class qe extends W{constructor(t){super(U.Delete,t)}}class ke extends Error{constructor(t){super(`Item with key '${t}' does not exist.`)}}class Je extends W{constructor(t){super(U.Select,t),this._columns=new Map,this.isDistinct=!1,this.rowCount=-1,this.rowsOffset=-1,this.useLocalization=!0,this.useRecordDeactivation=!1,this._getIsPageable=()=>this.rowCount>0&&this.rowsOffset>-1}_internalAddColumn(t,s){this._columns.has(t)||this._columns.set(t,s)}getColumn(t){if(!this._columns.has(t))throw new ke(t);return this.findColumn(t)}findColumn(t){return this._columns.get(t)}getMetadata(){return{...super.getMetadata(),columns:{items:(0,c.classToPlain)(this._columns,{exposeUnsetFields:!1,excludePrefixes:["_"]})},allColumns:!1,isDistinct:this.isDistinct,ignoreDisplayValues:!1,rowCount:this.rowCount,rowsOffset:this.rowsOffset,isPageable:this._getIsPageable(),conditionalValues:this.conditionalValues?this.conditionalValues:null,isHierarchical:!1,hierarchicalMaxDepth:0,hierarchicalColumnName:null,hierarchicalColumnValue:null,useLocalization:this.useLocalization,useRecordDeactivation:this.useRecordDeactivation}}addColumn(t,s){return this._internalAddColumn(s,t),t}addSchemaColumn(t,s){f.checkArgumentEmpty("columnPath",t);const n=new Pe(t);return this._internalAddColumn(s||t,n),n}addAggregationSubQueryColumn(t,s,n,i){const r=new pe(t,s,n.filter,n.sortByDirection,n.sortByColumn);return this._internalAddColumn(i||t,r),r}addParameterColumn(t,s,n){const i=new ve(t,s);return this._internalAddColumn(n,i),i}addArithmeticColumn(t,s,n,i){const r=new Ne(t,s,n);return this._internalAddColumn(i,r),r}addMacrosFunctionColumn(t,s){const n=new Fe(t);return this._internalAddColumn(s,n),n}addDatePartFunctionColumn(t,s,n){const i=new u({columnPath:t}),r=new Ke(s,i);return this._internalAddColumn(n,r),r}addAggregationFunctionColumn(t,s,n,i=Y.None){const r=new u({columnPath:t}),a=new Ie(s,i,r);return this._internalAddColumn(n,a),a}addLengthFunctionColumn(t,s){const n=new u({columnPath:t}),i=new Se(n);return this._internalAddColumn(s,i),i}addWindowFunctionColumn(t,s,n,i=Y.None){const r=new J({aggregationType:s,aggregationEvalType:i,functionArgument:new u({columnPath:t})}),a=new be(r);return this._internalAddColumn(n,a),a}_getUsedColumns(){const t=[];return this._columns.forEach(s=>{t.push(...s._getUsedColumns())}),t.forEach(s=>{s.schemaName||(s.schemaName=this.rootSchemaName)}),[...t,...super._getUsedColumns()]}}class Ue extends ae{constructor(t){super(U.Insert,t),this._columnValues=new Map}get columnValues(){return{items:(0,c.classToPlain)(this._columnValues)}}addColumn(t,s,n){f.checkArgumentEmpty("columnName",t),this._columnValues.set(t,new m({value:s,dataValueType:n}))}}(0,o.__decorate)([(0,c.Expose)(),(0,o.__metadata)("design:type",Object),(0,o.__metadata)("design:paramtypes",[])],Ue.prototype,"columnValues",null);class Be extends W{constructor(t){super(U.Update,t),this._columnValues=new Map,this.isForceUpdate=!1}get columnValues(){return{items:(0,c.classToPlain)(this._columnValues)}}addColumn(t,s,n){f.checkArgumentEmpty("columnName",t),this._columnValues.set(t,new m({value:s,dataValueType:n}))}}(0,o.__decorate)([(0,c.Expose)(),(0,o.__metadata)("design:type",Object),(0,o.__metadata)("design:paramtypes",[])],Be.prototype,"columnValues",null);class Me extends Je{}class $e extends Error{constructor(){super("Next handler already specified")}}class Re{}var le;(function(e){e.PrimaryColumnValue="primaryColumnValue",e.Filter="filter",e.PrimaryDisplayValueFilter="primaryDisplayValueFilter",e.Empty="empty",e.Never="never"})(le||(le={}));var me;(function(e){e.AddTask="addTask",e.RemoveTask="removeTask"})(me||(me={}));class Ze extends Re{constructor(t,s,n){super(),this.action=t,this.taskName=s,this.$context=n,this.type="crt.SchemaViewMaskRequest"}}}}]);
