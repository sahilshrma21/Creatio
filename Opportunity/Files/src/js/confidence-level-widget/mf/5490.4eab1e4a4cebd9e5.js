(self.webpackChunkapp_studio_enterprise_confidence_level_widget=self.webpackChunkapp_studio_enterprise_confidence_level_widget||[]).push([[5490],{75490:(q,P,O)=>{O.r(P),O.d(P,{ClassTransformer:()=>C,Exclude:()=>k,Expose:()=>j,Transform:()=>K,TransformInstanceToInstance:()=>D,TransformInstanceToPlain:()=>z,TransformPlainToInstance:()=>B,TransformationType:()=>c,Type:()=>R,classToClassFromExist:()=>X,classToPlain:()=>V,classToPlainFromExist:()=>J,deserialize:()=>Z,deserializeArray:()=>$,instanceToInstance:()=>W,instanceToPlain:()=>G,plainToClass:()=>U,plainToClassFromExist:()=>Q,plainToInstance:()=>H,serialize:()=>Y});var c;(function(i){i[i.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",i[i.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",i[i.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(c||(c={}));class E{constructor(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}addTypeMetadata(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)}addTransformMetadata(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)}addExposeMetadata(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)}addExcludeMetadata(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)}findTransformMetadatas(e,t,n){return this.findMetadatas(this._transformMetadatas,e,t).filter(a=>!a.options||a.options.toClassOnly===!0&&a.options.toPlainOnly===!0?!0:a.options.toClassOnly===!0?n===c.CLASS_TO_CLASS||n===c.PLAIN_TO_CLASS:a.options.toPlainOnly===!0?n===c.CLASS_TO_PLAIN:!0)}findExcludeMetadata(e,t){return this.findMetadata(this._excludeMetadatas,e,t)}findExposeMetadata(e,t){return this.findMetadata(this._exposeMetadatas,e,t)}findExposeMetadataByCustomName(e,t){return this.getExposedMetadatas(e).find(n=>n.options&&n.options.name===t)}findTypeMetadata(e,t){return this.findMetadata(this._typeMetadatas,e,t)}getStrategy(e){const t=this._excludeMetadatas.get(e),n=t&&t.get(void 0),a=this._exposeMetadatas.get(e),r=a&&a.get(void 0);return n&&r||!n&&!r?"none":n?"excludeAll":"exposeAll"}getExposedMetadatas(e){return this.getMetadata(this._exposeMetadatas,e)}getExcludedMetadatas(e){return this.getMetadata(this._excludeMetadatas,e)}getExposedProperties(e,t){return this.getExposedMetadatas(e).filter(n=>!n.options||n.options.toClassOnly===!0&&n.options.toPlainOnly===!0?!0:n.options.toClassOnly===!0?t===c.CLASS_TO_CLASS||t===c.PLAIN_TO_CLASS:n.options.toPlainOnly===!0?t===c.CLASS_TO_PLAIN:!0).map(n=>n.propertyName)}getExcludedProperties(e,t){return this.getExcludedMetadatas(e).filter(n=>!n.options||n.options.toClassOnly===!0&&n.options.toPlainOnly===!0?!0:n.options.toClassOnly===!0?t===c.CLASS_TO_CLASS||t===c.PLAIN_TO_CLASS:n.options.toPlainOnly===!0?t===c.CLASS_TO_PLAIN:!0).map(n=>n.propertyName)}clear(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()}getMetadata(e,t){const n=e.get(t);let a;n&&(a=Array.from(n.values()).filter(p=>p.propertyName!==void 0));const r=[];for(const p of this.getAncestors(t)){const s=e.get(p);if(s){const o=Array.from(s.values()).filter(u=>u.propertyName!==void 0);r.push(...o)}}return r.concat(a||[])}findMetadata(e,t,n){const a=e.get(t);if(a){const r=a.get(n);if(r)return r}for(const r of this.getAncestors(t)){const p=e.get(r);if(p){const s=p.get(n);if(s)return s}}}findMetadatas(e,t,n){const a=e.get(t);let r;a&&(r=a.get(n));const p=[];for(const s of this.getAncestors(t)){const o=e.get(s);o&&o.has(n)&&p.push(...o.get(n))}return p.slice().reverse().concat((r||[]).slice().reverse())}getAncestors(e){if(!e)return[];if(!this._ancestorsMap.has(e)){const t=[];for(let n=Object.getPrototypeOf(e.prototype.constructor);typeof n.prototype<"u";n=Object.getPrototypeOf(n.prototype.constructor))t.push(n);this._ancestorsMap.set(e,t)}return this._ancestorsMap.get(e)}}const y=new E;function w(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function F(i){return i!==null&&typeof i=="object"&&typeof i.then=="function"}function b(i){const e=new i;return!(e instanceof Set)&&!("push"in e)?[]:e}class A{constructor(e,t){this.transformationType=e,this.options=t,this.recursionStack=new Set}transform(e,t,n,a,r,p=0){if(Array.isArray(t)||t instanceof Set){const s=a&&this.transformationType===c.PLAIN_TO_CLASS?b(a):[];return t.forEach((o,u)=>{const _=e?e[u]:void 0;if(!this.options.enableCircularCheck||!this.isCircular(o)){let h;if(typeof n!="function"&&n&&n.options&&n.options.discriminator&&n.options.discriminator.property&&n.options.discriminator.subTypes){if(this.transformationType===c.PLAIN_TO_CLASS){h=n.options.discriminator.subTypes.find(M=>M.name===o[n.options.discriminator.property]);const d={newObject:s,object:o,property:void 0},S=n.typeFunction(d);h===void 0?h=S:h=h.value,n.options.keepDiscriminatorProperty||delete o[n.options.discriminator.property]}this.transformationType===c.CLASS_TO_CLASS&&(h=o.constructor),this.transformationType===c.CLASS_TO_PLAIN&&(o[n.options.discriminator.property]=n.options.discriminator.subTypes.find(d=>d.value===o.constructor).name)}else h=n;const T=this.transform(_,o,h,void 0,o instanceof Map,p+1);s instanceof Set?s.add(T):s.push(T)}else this.transformationType===c.CLASS_TO_CLASS&&(s instanceof Set?s.add(o):s.push(o))}),s}else{if(n===String&&!r)return t==null?t:String(t);if(n===Number&&!r)return t==null?t:Number(t);if(n===Boolean&&!r)return t==null?t:Boolean(t);if((n===Date||t instanceof Date)&&!r)return t instanceof Date?new Date(t.valueOf()):t==null?t:new Date(t);if(!!w().Buffer&&(n===Buffer||t instanceof Buffer)&&!r)return t==null?t:Buffer.from(t);if(F(t)&&!r)return new Promise((s,o)=>{t.then(u=>s(this.transform(void 0,u,n,void 0,void 0,p+1)),o)});if(!r&&t!==null&&typeof t=="object"&&typeof t.then=="function")return t;if(typeof t=="object"&&t!==null){!n&&t.constructor!==Object&&(!Array.isArray(t)&&t.constructor===Array||(n=t.constructor)),!n&&e&&(n=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(t);const s=this.getKeys(n,t,r);let o=e||{};!e&&(this.transformationType===c.PLAIN_TO_CLASS||this.transformationType===c.CLASS_TO_CLASS)&&(r?o=new Map:n?o=new n:o={});for(const u of s){if(u==="__proto__"||u==="constructor")continue;const _=u;let h=u,T=u;if(!this.options.ignoreDecorators&&n){if(this.transformationType===c.PLAIN_TO_CLASS){const f=y.findExposeMetadataByCustomName(n,u);f&&(T=f.propertyName,h=f.propertyName)}else if(this.transformationType===c.CLASS_TO_PLAIN||this.transformationType===c.CLASS_TO_CLASS){const f=y.findExposeMetadata(n,u);f&&f.options&&f.options.name&&(h=f.options.name)}}let d;this.transformationType===c.PLAIN_TO_CLASS?d=t[_]:t instanceof Map?d=t.get(_):t[_]instanceof Function?d=t[_]():d=t[_];let S,M=d instanceof Map;if(n&&r)S=n;else if(n){const f=y.findTypeMetadata(n,T);if(f){const l={newObject:o,object:t,property:T},N=f.typeFunction?f.typeFunction(l):f.reflectedType;f.options&&f.options.discriminator&&f.options.discriminator.property&&f.options.discriminator.subTypes?t[_]instanceof Array?S=f:(this.transformationType===c.PLAIN_TO_CLASS&&(S=f.options.discriminator.subTypes.find(L=>{if(d&&d instanceof Object&&f.options.discriminator.property in d)return L.name===d[f.options.discriminator.property]}),S===void 0?S=N:S=S.value,f.options.keepDiscriminatorProperty||d&&d instanceof Object&&f.options.discriminator.property in d&&delete d[f.options.discriminator.property]),this.transformationType===c.CLASS_TO_CLASS&&(S=d.constructor),this.transformationType===c.CLASS_TO_PLAIN&&d&&(d[f.options.discriminator.property]=f.options.discriminator.subTypes.find(L=>L.value===d.constructor).name)):S=N,M=M||f.reflectedType===Map}else if(this.options.targetMaps)this.options.targetMaps.filter(l=>l.target===n&&!!l.properties[T]).forEach(l=>S=l.properties[T]);else if(this.options.enableImplicitConversion&&this.transformationType===c.PLAIN_TO_CLASS){const l=Reflect.getMetadata("design:type",n.prototype,T);l&&(S=l)}}const g=Array.isArray(t[_])?this.getReflectedType(n,T):void 0,I=e?e[_]:void 0;if(o.constructor.prototype){const f=Object.getOwnPropertyDescriptor(o.constructor.prototype,h);if((this.transformationType===c.PLAIN_TO_CLASS||this.transformationType===c.CLASS_TO_CLASS)&&(f&&!f.set||o[h]instanceof Function))continue}if(!this.options.enableCircularCheck||!this.isCircular(d)){const f=this.transformationType===c.PLAIN_TO_CLASS?h:u;let l;this.transformationType===c.CLASS_TO_PLAIN?(l=t[f],l=this.applyCustomTransformations(l,n,f,t,this.transformationType),l=t[f]===l?d:l,l=this.transform(I,l,S,g,M,p+1)):d===void 0&&this.options.exposeDefaultValues?l=o[h]:(l=this.transform(I,d,S,g,M,p+1),l=this.applyCustomTransformations(l,n,f,t,this.transformationType)),(l!==void 0||this.options.exposeUnsetFields)&&(o instanceof Map?o.set(h,l):o[h]=l)}else if(this.transformationType===c.CLASS_TO_CLASS){let f=d;f=this.applyCustomTransformations(f,n,u,t,this.transformationType),(f!==void 0||this.options.exposeUnsetFields)&&(o instanceof Map?o.set(h,f):o[h]=f)}}return this.options.enableCircularCheck&&this.recursionStack.delete(t),o}else return t}}applyCustomTransformations(e,t,n,a,r){let p=y.findTransformMetadatas(t,n,this.transformationType);return this.options.version!==void 0&&(p=p.filter(s=>s.options?this.checkVersion(s.options.since,s.options.until):!0)),this.options.groups&&this.options.groups.length?p=p.filter(s=>s.options?this.checkGroups(s.options.groups):!0):p=p.filter(s=>!s.options||!s.options.groups||!s.options.groups.length),p.forEach(s=>{e=s.transformFn({value:e,key:n,obj:a,type:r,options:this.options})}),e}isCircular(e){return this.recursionStack.has(e)}getReflectedType(e,t){if(!e)return;const n=y.findTypeMetadata(e,t);return n?n.reflectedType:void 0}getKeys(e,t,n){let a=y.getStrategy(e);a==="none"&&(a=this.options.strategy||"exposeAll");let r=[];if((a==="exposeAll"||n)&&(t instanceof Map?r=Array.from(t.keys()):r=Object.keys(t)),n)return r;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){const p=y.getExposedProperties(e,this.transformationType),s=y.getExcludedProperties(e,this.transformationType);r=[...p,...s]}if(!this.options.ignoreDecorators&&e){let p=y.getExposedProperties(e,this.transformationType);this.transformationType===c.PLAIN_TO_CLASS&&(p=p.map(o=>{const u=y.findExposeMetadata(e,o);return u&&u.options&&u.options.name?u.options.name:o})),this.options.excludeExtraneousValues?r=p:r=r.concat(p);const s=y.getExcludedProperties(e,this.transformationType);s.length>0&&(r=r.filter(o=>!s.includes(o))),this.options.version!==void 0&&(r=r.filter(o=>{const u=y.findExposeMetadata(e,o);return!u||!u.options?!0:this.checkVersion(u.options.since,u.options.until)})),this.options.groups&&this.options.groups.length?r=r.filter(o=>{const u=y.findExposeMetadata(e,o);return!u||!u.options?!0:this.checkGroups(u.options.groups)}):r=r.filter(o=>{const u=y.findExposeMetadata(e,o);return!u||!u.options||!u.options.groups||!u.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(r=r.filter(p=>this.options.excludePrefixes.every(s=>p.substr(0,s.length)!==s))),r=r.filter((p,s,o)=>o.indexOf(p)===s),r}checkVersion(e,t){let n=!0;return n&&e&&(n=this.options.version>=e),n&&t&&(n=this.options.version<t),n}checkGroups(e){return e?this.options.groups.some(t=>e.includes(t)):!0}}const x={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0};class C{instanceToPlain(e,t){return new A(c.CLASS_TO_PLAIN,{...x,...t}).transform(void 0,e,void 0,void 0,void 0,void 0)}classToPlainFromExist(e,t,n){return new A(c.CLASS_TO_PLAIN,{...x,...n}).transform(t,e,void 0,void 0,void 0,void 0)}plainToInstance(e,t,n){return new A(c.PLAIN_TO_CLASS,{...x,...n}).transform(void 0,t,e,void 0,void 0,void 0)}plainToClassFromExist(e,t,n){return new A(c.PLAIN_TO_CLASS,{...x,...n}).transform(e,t,void 0,void 0,void 0,void 0)}instanceToInstance(e,t){return new A(c.CLASS_TO_CLASS,{...x,...t}).transform(void 0,e,void 0,void 0,void 0,void 0)}classToClassFromExist(e,t,n){return new A(c.CLASS_TO_CLASS,{...x,...n}).transform(t,e,void 0,void 0,void 0,void 0)}serialize(e,t){return JSON.stringify(this.instanceToPlain(e,t))}deserialize(e,t,n){const a=JSON.parse(t);return this.plainToInstance(e,a,n)}deserializeArray(e,t,n){const a=JSON.parse(t);return this.plainToInstance(e,a,n)}}function k(i={}){return function(e,t){y.addExcludeMetadata({target:e instanceof Function?e:e.constructor,propertyName:t,options:i})}}function j(i={}){return function(e,t){y.addExposeMetadata({target:e instanceof Function?e:e.constructor,propertyName:t,options:i})}}function D(i){return function(e,t,n){const a=new C,r=n.value;n.value=function(...p){const s=r.apply(this,p);return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"?s.then(u=>a.instanceToInstance(u,i)):a.instanceToInstance(s,i)}}}function z(i){return function(e,t,n){const a=new C,r=n.value;n.value=function(...p){const s=r.apply(this,p);return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"?s.then(u=>a.instanceToPlain(u,i)):a.instanceToPlain(s,i)}}}function B(i,e){return function(t,n,a){const r=new C,p=a.value;a.value=function(...s){const o=p.apply(this,s);return!!o&&(typeof o=="object"||typeof o=="function")&&typeof o.then=="function"?o.then(_=>r.plainToInstance(i,_,e)):r.plainToInstance(i,o,e)}}}function K(i,e={}){return function(t,n){y.addTransformMetadata({target:t.constructor,propertyName:n,transformFn:i,options:e})}}function R(i,e={}){return function(t,n){const a=Reflect.getMetadata("design:type",t,n);y.addTypeMetadata({target:t.constructor,propertyName:n,reflectedType:a,typeFunction:i,options:e})}}const m=new C;function V(i,e){return m.instanceToPlain(i,e)}function G(i,e){return m.instanceToPlain(i,e)}function J(i,e,t){return m.classToPlainFromExist(i,e,t)}function U(i,e,t){return m.plainToInstance(i,e,t)}function H(i,e,t){return m.plainToInstance(i,e,t)}function Q(i,e,t){return m.plainToClassFromExist(i,e,t)}function W(i,e){return m.instanceToInstance(i,e)}function X(i,e,t){return m.classToClassFromExist(i,e,t)}function Y(i,e){return m.serialize(i,e)}function Z(i,e,t){return m.deserialize(i,e,t)}function $(i,e,t){return m.deserializeArray(i,e,t)}}}]);
